{"version":3,"sources":["components/GlobalStyles.js","theme/index.js","Firebase/index.js","components/DashboardNavbar.js","components/DashboardSidebar.js","components/DashboardLayout.js","components/MainLayout.js","URI.js","components/dashboard/LocationTimeline.jsx","pages/Locationview.js","pages/AllLocationView.js","store/constants.js","store/actions/device.js","store/actions/hotspot.js","store/actions/admin.js","store/actions/group.js","pages/Dashboard.js","pages/Login.js","pages/NotFound.js","pages/Register.js","components/report/ReportTable.jsx","components/report/HotspotFilter.jsx","components/report/DeviceFilter.jsx","components/report/MonthFilter.jsx","components/report/GroupFilter.jsx","contexts/subscriptionContext.js","hooks/useSubscription.js","utils/getSubscriptionDetails.js","components/report/HiddenReportTable.jsx","pages/Report.js","pages/Notification.js","components/devices/EditDeviceDialog.jsx","components/devices/DeviceTable.jsx","pages/ManageMobileDevices.js","components/hotspot/EditHotspotDialogForm.jsx","components/hotspot/HotspotTable.jsx","pages/ManageHotspots.js","components/settings/SecuritySetting.js","pages/Profile.js","components/groups/ScheduleForm.jsx","components/groups/CreateGroupDialog.jsx","components/groups/GroupTable.jsx","components/groups/EditGroupDialog.jsx","pages/ManageGroups.js","components/admins/AdminTable.jsx","components/admins/CreateAdminDialog.jsx","components/admins/EditAdminDialog.jsx","pages/ManageAdmins.js","pages/admin/Report.js","pages/admin/ChangePassword.js","components/pricing/ProCard.js","components/pricing/FreeCard.js","pages/Pricing.js","components/pricing/CardSection.js","utils/getCountryCode.js","components/pricing/Details.js","components/pricing/SuccessDialog.js","components/pricing/CheckOutForm.js","pages/Subscribe.js","routes.js","App.js","store/reducers/hotspotReducer.js","store/store.js","store/reducers/groupReducer.js","store/reducers/adminReducer.js","store/reducers/deviceReducer.js","index.js"],"names":["useStyles","makeStyles","createStyles","boxSizing","margin","padding","html","height","width","body","backgroundColor","a","textDecoration","GlobalStyles","theme","createTheme","palette","background","default","paper","primary","contrastText","main","text","secondary","shadows","typography","h1","fontWeight","fontSize","letterSpacing","h2","h3","h4","h5","h6","overline","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getAnalytics","getFirestore","auth","getAuth","storage","getStorage","DashboardNavbar","onMobileNavOpen","rest","notifications","setNotifications","useState","anchorEl","setAnchorEl","open","setOpen","navigate","useNavigate","userData","sessionStorage","getItem","JSON","parse","useEffect","notificationRef","collection","uid","q","query","orderBy","limit","unsub","onSnapshot","snapshots","list","forEach","snap","push","data","getTime","sec","str","moment","Date","fromNow","first","split","mid","AppBar","elevation","Toolbar","sx","display","justifyContent","gap","IconButton","onClick","event","currentTarget","color","Popover","id","onClose","anchorOrigin","vertical","horizontal","className","List","map","x","i","Box","style","ListItem","mt","ListItemAvatar","requestStatus","Avatar","src","ListItemText","message","createdAt","seconds","Divider","to","removeItem","signOut","then","replace","catch","error","console","log","root","drawer","flexShrink","whiteSpace","appBar","marginLeft","toolbar","alignItems","spacing","mixins","listContainer","flexDirection","DashboardSidebar","classes","selectedIndex","setSelectedIndex","React","adminData","paths","names","CssBaseline","Drawer","variant","HomeOutlined","index","pt","pb","px","borderBottomColor","borderBottomWidth","Typography","DashboardLayoutRoot","styled","overflow","DashboardLayoutWrapper","flex","paddingTop","breakpoints","up","paddingLeft","DashboardLayoutContainer","DashboardLayoutContent","DashboardLayout","isMobileNavOpen","setMobileNavOpen","onMobileClose","openMobile","MainLayoutRoot","MainLayoutWrapper","MainLayoutContainer","MainLayoutContent","MainLayout","dotenv","config","API_SERVICE","process","MAP_TOKEN","MAP_STYLE","LocationTimeline","props","Timeline","mr","locations","location","TimelineItem","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","component","address","format","memo","Locationview","user","phoneNumber","createdBy","lat","setlat","long","setlong","viewport","setViewport","latitude","longitude","zoom","selected","setSelected","selectedLat","setSelectedLat","selectedLong","setSelectedLong","userlocationdata","setuserlocationdata","imgUri","setImgUri","load","setLoad","showDetails","setShowDetails","setLocations","async","axios","get","response","err","userRef","doc","document","exists","liveLocation","profilePicture","getMonth","handleShowDetails","Helmet","minHeight","Container","maxWidth","trackingStatus","mapboxApiAccessToken","mapStyle","onViewportChange","nextViewport","onMouseEnter","e","preventDefault","onMouseLeave","name","arr","initials","length","toUpperCase","getInitials","fullName","textAlign","formattedAddress","position","zIndex","borderRadius","right","bottom","transform","AllLocationView","userList","senderId","trackingList","selectedLocation","setSelectedLocation","selectedDevice","setSelectedDevice","trackingData","setTrackingData","item","marginBottom","CREATE_HOTSPOT_SUCCESS","CREATE_HOTSPOT_FAIL","GET_HOTSPOT_SUCCESS","GET_HOTSPOT_FAIL","UPDATE_HOTSPOT_SUCCESS","UPDATE_HOTSPOT_FAIL","DELETE_HOTSPOT_SUCCESS","DELETE_HOTSPOT_FAIL","CREATE_GROUP_SUCCESS","CREATE_GROUP_FAIL","GET_GROUP_SUCCESS","GET_GROUP_FAIL","UPDATE_GROUP_SUCCESS","UPDATE_GROUP_FAIL","DELETE_GROUP_SUCCESS","DELETE_GROUP_FAIL","CREATE_ADMIN_SUCCESS","CREATE_ADMIN_FAIL","GET_ADMIN_SUCCESS","GET_ADMIN_FAIL","UPDATE_ADMIN_SUCCESS","UPDATE_ADMIN_FAIL","DELETE_ADMIN_SUCCESS","DELETE_ADMIN_FAIL","CREATE_DEVICE_SUCCESS","CREATE_DEVICE_FAIL","GET_DEVICE_SUCCESS","GET_DEVICE_FAIL","UPDATE_DEVICE_SUCCESS","UPDATE_DEVICE_FAIL","DELETE_DEVICE_SUCCESS","DELETE_DEVICE_FAIL","getDevices","dispatch","type","types","payload","getAdminDevices","headers","post","getAdminHotspots","getHotspots","getAdmins","updateAdmin","getState","put","setItem","stringify","admins","adminList","getGroups","Dashboard","userLocations","setUserLocations","search","setSearch","searchResult","setSearchResult","snackOpen","setSnackOpen","success","setSuccess","setError","filter","setFilter","menuOpen","Boolean","useDispatch","devices","useSelector","state","deviceList","handleFilterClose","handleSnackClose","_","reason","email","adminGroups","groups","phoneNumberArr","UsersRef","where","snapshot","users","filterArr","toLowerCase","includes","handleListItemClick","changeFilter","val","Grid","container","xs","overflowY","Paper","TextField","fullWidth","InputProps","startAdornment","InputAdornment","SvgIcon","endAdornment","placeholder","onChange","target","value","Menu","MenuItem","py","button","mb","undefined","disabled","borderLeft","Stack","direction","Snackbar","autoHideDuration","Alert","severity","image","backgroundImage","backgroundRepeat","grey","backgroundSize","backgroundPosition","avatar","form","marginTop","login","googleLogin","Login","setEmail","password","setPassword","remember","setRemember","credentials","localStorage","checked","adminLogin","signInWithEmailAndPassword","credential","accessToken","superAdminRef","superData","getDoc","passwordChanged","errorCode","code","errorMessage","alert","superAdminLogin","userCredential","docRef","docSnap","sm","md","square","noValidate","required","label","autoComplete","autoFocus","Link","FormControlLabel","control","Checkbox","Button","superRef","getDocs","docs","size","submitHandler","RouterLink","underline","NotFound","align","alt","Register","firstName","setFirstName","lastName","setLastName","companyName","setCompanyName","policy","setPolicy","p","createUserWithEmailAndPassword","updateProfile","currentUser","displayName","profilePhoto","serverTimestamp","setDoc","Row","row","hotspotList","selectedHotspots","selectedGroups","selectedMonth","history","setHistory","hotspots","hotspot","checkExist","findIndex","_id","Promise","resolve","group","filterGroup","TableRow","borderBottom","TableCell","scope","device","total","paddingBottom","colSpan","Collapse","in","timeout","unmountOnExit","my","Table","TableHead","TableBody","historyRow","borderWidth","hotspotName","groupName","CircularProgress","ReportTable","TableContainer","tableData","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","HotspotFilter","FormControl","ml","InputLabel","Select","multiple","selectedHotspotNames","handleHotspotSelect","input","OutlinedInput","renderValue","join","hotspotNames","indexOf","DeviceFilter","selectedDevices","handleSelectedDevice","mobileDevices","MonthFilter","isDisable","setIsDisable","subscription","reportCount","Fragment","setSelectedMonth","Months","month","GroupFilter","selectedGroupNames","handleGroupSelect","groupNames","initialState","customerId","subscriptions","cart","reducer","action","isInitialized","details","SubscriptionContext","createContext","SubscriptionProvider","children","useReducer","onAuthStateChanged","ref","_email","customer","fetchCustomer","fetchSubscriptions","userId","result","Provider","SubscriptionConsumer","Consumer","useSubscription","useContext","getSubscriptionDetails","subscriptionDetail","sub","status","plans","prices","fetchPlans","planArr","plan","productName","product","planId","productId","hotspotCount","Number","MAX_VALUE","deviceCount","quantity","groupCount","adminCount","hidden","Report","setTableData","setSelectedHotspotNames","setSelectedGroups","setSelectedHotspots","setSelectedDevices","loading","setLoading","filteredData","setFilteredData","setSubscription","groupList","fetchData","fetchSubDetail","temp","number","table","filename","sheet","buttonText","HiddenReportTable","Notification","notificationList","setNotificationList","filterList","setFilterList","currDate","getDate","start","end","m","lg","xl","boxShadow","Image","EditDeviceDialog","setEditDialogOpen","editDialogOpen","trackingGroups","newFullName","setNewFullName","Object","entries","updateDetails","updateDevice","Dialog","DialogTitle","DialogContent","labelId","DialogActions","DeviceSetting","toggleEditDeviceDialog","deviceData","setDeviceData","removeDevice","delete","minWidth","border","Chip","edge","ManageMobileDevices","setFullName","setPhoneNumber","addDeviceDialog","setAddDeviceDialog","scheduleDialog","setScheduleDialog","successMsg","errorMsg","sendTrackingRequest","sendNotificationToDevice","requestRef","addDoc","recieverFullName","sender","Timestamp","now","androidRef","seen","addNewDevice","bodyData","DeviceTable","EditHotspotDialogForm","setDialogOpen","selectedHotspot","mapRef","useRef","setHotspotName","newGroups","setNewGroups","setLocation","zipCode","setZipCode","isFetching","setIsFetching","getLatLong","handleViewportChange","useCallback","newViewport","handleGeocoderViewportChange","transitionDuration","res","zipcode","toPrecision","updateHotspot","lngLat","marker","countries","reverseGeocode","HotspotSetting","toggleEditHotspotDialog","removeHotspot","ManageHotspots","setSelectedHotspot","dialogOpen","addHotspotDialog","setAddHotspotDialog","setSuccessMsg","setErrorMsg","allViewport","setAllViewport","locationData","setLocationData","saveHotspot","HotspotTable","SecuritySetting","currentPassword","setCurrentPassword","newPassword","setNewPassword","isUpdating","setIsUpdating","EmailAuthProvider","reauthenticateWithCredential","updatePassword","update","startIcon","Profile","setProfilePhoto","previewUrl","setPreviewUrl","selectedFile","setSelectedFile","uploaProfilPhoto","storageRef","uploadTask","uploadBytesResumable","on","progress","bytesTransferred","totalBytes","getDownloadURL","downloadUrl","files","URL","createObjectURL","accept","updateDoc","photo","updateProfileHandler","ScheduleForm","week","startDay","setStartDay","day","endDay","setEndDay","disableClock","setTime","time","rangeDivider","CreateGroupDialog","setGroupName","selectedAdmins","setSelectedAdmins","saveGroup","members","schedule","startTime","endTime","GroupTable","removeGroup","updatedAt","setSelectedGroup","setEditOpen","EditGroupDialog","keys","selectedGroup","updateGroup","ManageGroups","createOpen","setCreateOpen","editOpen","rowGap","columnGap","AdminTable","removeAdmin","admin","setSelectedAdmin","setShowEditDialog","CreateAdminDialog","saveAdmin","test","emailData","sendEmail","subject","EditAdminDialog","selectedAdmin","updateData","ManageAdmins","showCreateDialog","setShowCreateDialog","showEditDialog","authToken","AdminReport","setHotspotNames","setGroupNames","setMobileDevices","phoneNumbers","setPhoneNumbers","setSelectedGroupNames","groupId","snaps","array","newArr","documentId","trackingUserRef","numbers","getPhoneNumbers","getFromDB","count","getHotspotsData","getCollapseData","getDocuments","dataArr","finalData","d","ChangePassword","ProCard","Card","isCurrent","textTransform","Slider","handleValueChange","max","disablePadding","ListItemIcon","htmlColor","FreeCard","Pricing","setQuantity","currentPlan","setCurrentPlan","setPrices","subQuantity","fetchPrices","newValue","createSubscription","amount","priceId","clientSecret","window","reload","vanriant","price","CardSection","handleBack","handleSubmit","Details","info","setDetails","city","country","handleChange","values","handleNext","handleDetails","SuccessDialog","setProgress","intervalId","setIntervalId","interval","setInterval","clearInterval","handleClose","LinearProgress","CheckoutForm","stripe","useStripe","elements","useElements","messages","_setMessages","isPaying","setIsPaying","successDialog","setSuccessDialog","useLocation","paymentIntent","confirmCardPayment","payment_method","card","getElement","CardElement","billing_details","line1","postal_code","zip","stripePromise","loadStripe","Subscribe","routes","path","element","App","content","useRoutes","StyledEngineProvider","injectFirst","ThemeProvider","combineReducers","exitHotspot","find","existgroup","existadmin","existdevice","existDevice","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","getElementById"],"mappings":"mQAEA,MAAMA,EAAYC,aAAW,IACzBC,YAAa,CACT,UAAW,CACP,IAAK,CACDC,UAAW,aACXC,OAAQ,EACRC,QAAS,GAEbC,KAAM,CACF,yBAA0B,cAC1B,0BAA2B,YAC3BC,OAAQ,OACRC,MAAO,QAEXC,KAAM,CACFC,gBAAiB,UACjBH,OAAQ,OACRC,MAAO,QAEXG,EAAG,CACCC,eAAgB,QAEpB,QAAS,CACLL,OAAQ,OACRC,MAAO,aAYRK,MANM,KACjBb,IAEO,M,SC8CIc,MA/EDC,YAAY,CACxBC,QAAS,CACPC,WAAY,CACVC,QAAS,UACTC,MAAO,WAETC,QAAS,CACPC,aAAc,UACdC,KAAM,WAERC,KAAM,CACJH,QAAS,UACTI,UAAW,YAGfC,QAAS,CACP,OACA,iEACA,8DACA,8DACA,8DACA,8DACA,8DACA,8DACA,8DACA,+DACA,+DACA,+DACA,+DACA,+DACA,+DACA,gEACA,gEACA,gEACA,gEACA,gEACA,gEACA,gEACA,gEACA,gEACA,iEAEFC,WAAY,CACVC,GAAI,CACFC,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBC,GAAI,CACFH,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBE,GAAI,CACFJ,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBG,GAAI,CACFL,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBI,GAAI,CACFN,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBK,GAAI,CACFP,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBM,SAAU,CACRR,WAAY,Q,wMC3DlB,MAYMS,EAAMC,YAZW,CACnBC,OAAQ,0CACRC,WAAY,uCACZC,YAAa,8CACbC,UAAW,uBACXC,cAAe,mCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAMbC,GADYC,YAAaX,GACpBY,YAAaZ,IAClBa,EAAOC,YAAQd,GACfe,EAAUC,YAAWhB,G,8CCoLZiB,MA/KS,EAAGC,qBAAoBC,MAC3C,MAAOC,EAAeC,GAAoBC,mBAAS,KAC5CC,EAAUC,GAAeF,mBAAS,OAClCG,EAAMC,GAAWJ,oBAAS,GAuB3BK,EAAWC,cAEXC,EAAWC,eAAeC,QAAQ,YAClCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAENG,qBAAU,KACYJ,eAAeC,QAAQ,cAGrCJ,EAAS,YAEd,IAEHO,qBAAU,KACN,GAAiB,OAAbL,EAAmB,CACnB,MAAMM,EAAkBC,YACpB1B,EACA,0BAF8B,OAG9BmB,QAH8B,IAG9BA,OAH8B,EAG9BA,EAAUQ,IACV,iBAEEC,EAAIC,YACNJ,EACAK,YAAQ,YAAa,QACrBC,YAAM,MAGJC,EAAQC,YAAWL,GAAIM,IACzB,MAAMC,EAAO,GACbD,EAAUE,SAASC,IACfF,EAAKG,KAAKD,EAAKE,WAGnB5B,EAAiBwB,MAGrB,MAAO,IAAMH,OAElB,IAEH,MAAMQ,EAAWC,IACb,MAAMC,EAAMC,IAAO,IAAIC,KAAW,IAANH,IAAaI,UAEzC,OAAQH,GACJ,IAAK,mBAEL,IAAK,oBACD,MAAO,UACX,IAAK,eACD,MAAO,KACX,IAAK,cACD,MAAO,KACX,IAAK,YACD,MAAO,OACX,QACI,MAAMI,EAAQJ,EAAIK,MAAM,KAAK,GAC7B,IAAIC,EAAMN,EAAIK,MAAM,KAAK,GAUzB,MATY,YAARC,GAA6B,WAARA,IACrBA,EAAM,KAEE,UAARA,GAA2B,SAARA,IACnBA,EAAM,KAEE,SAARA,GAA0B,QAARA,IAClBA,EAAM,KAEHF,EAAQE,IAW3B,OACI,cAACC,EAAA,EAAD,CAAQC,UAAW,KAAOzC,EAA1B,SACI,eAAC0C,EAAA,EAAD,CACIC,GAAI,CACAzF,gBAAiB,UACjB0F,QAAS,OACTC,eAAgB,WAChBC,IAAK,GALb,UAQI,cAACC,EAAA,EAAD,CAAYC,QA7FHC,IACjB5C,EAAY4C,EAAMC,eAClB3C,GAAQ,IA2FA,SACI,cAAC,IAAD,CAAmBoC,GAAI,CAAEQ,MAAO,aAEpC,cAACC,EAAA,EAAD,CACIC,GAAG,eACH/C,KAAMA,EACNF,SAAUA,EACVkD,QAzGI,KAChBjD,EAAY,MACZE,GAAQ,IAwGIgD,aAAc,CACVC,SAAU,SACVC,WAAY,QAEhBC,UAAU,eATd,SAWI,cAACC,EAAA,EAAD,CAAMhB,GAAI,CAAE9F,QAAS,GAArB,SACKoD,EAAc2D,KAAI,CAACC,EAAGC,IACnB,eAACC,EAAA,EAAD,CAAeC,MAAO,CAAEnH,QAAS,GAAjC,UACI,eAACoH,EAAA,EAAD,CAAUtB,GAAI,CAAEuB,GAAI,KAApB,UACI,eAACC,EAAA,EAAD,WACyB,YAApBN,EAAEO,eACC,cAACC,EAAA,EAAD,CAAQC,IA9H5C,oJAgIqD,aAApBT,EAAEO,eACC,cAACC,EAAA,EAAD,CAAQC,IAnI5C,mJAqIqD,aAApBT,EAAEO,eACC,cAACC,EAAA,EAAD,CAAQC,IAlI5C,sJAqI4B,cAACC,EAAA,EAAD,CACI3G,QAASiG,EAAEW,QACXxG,UACI+D,EAAQ8B,EAAEY,UAAUC,SACpB,YAIZ,cAACC,EAAA,EAAD,QArBQb,SA2BxB,cAAC,IAAD,CAAMc,GAAG,eAAT,SACI,cAAC7B,EAAA,EAAD,CAAYC,QAlJRC,IAChB5C,EAAY4C,EAAMC,gBAiJN,SACI,cAAC,IAAD,CAASP,GAAI,CAAEQ,MAAO,eAI9B,cAACJ,EAAA,EAAD,CAAYC,QAlET,KACXrC,eAAekE,WAAW,YAC1BC,YAAQpF,GACHqF,MAAK,IAAMvE,EAAS,SAAU,CAAEwE,SAAS,MACzCC,OAAOC,GAAUC,QAAQC,IAAIF,MA8D1B,SACI,cAAC,IAAD,CAAYvC,GAAI,CAAEQ,MAAO,mB,8JC1L7C,MAAM3G,GAAYC,aAAYa,IAAD,CACzB+H,KAAM,CACFzC,QAAS,QAEb0C,OAAQ,CACJtI,MAAO,GACPuI,WAAY,EACZC,WAAY,UAGhBC,OAAQ,CACJzI,MAAQ,oBACR0I,WAAY,IAGhBC,QAAS,CACL/C,QAAS,OACTgD,WAAY,SACZ/C,eAAgB,SAChBhG,QAASS,EAAMuI,QAAQ,EAAG,MAEvBvI,EAAMwI,OAAOH,SAEpBI,cAAe,CACXnD,QAAS,OACT7F,OAAQ,OACRiJ,cAAe,SACfnD,eAAgB,cAuJToD,OAnJU,KACrB,MAAMC,EAAU1J,MAET2J,EAAeC,GAAoBC,IAAMlG,SAAS,GAEnDmG,EAAY3F,eAAeC,QAAQ,aACnCC,KAAKC,MAAMH,eAAeC,QAAQ,cAClC,KAEA2F,EAAQ,CACV,iBACA,uBACA,sBACA,eACA,qBACA,qBACA,gBAGEC,EAAQ,CACV,WACA,WACA,UACA,UACA,SACA,SACA,WAGJ,OACI,sBAAK9C,UAAWwC,EAAQb,KAAxB,UACI,cAACoB,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CAAQC,QAAQ,YAAhB,SACI,qBAAKjD,UAAWwC,EAAQH,cAAxB,SACI,cAACpC,EAAA,EAAD,UACmB,OAAd2C,EACK,CACI,cAACM,GAAA,EAAD,CACIvI,SAAS,QACTsE,GAAI,CAAEQ,MAAO,aAEjB,cAAC,IAAD,CACI9E,SAAS,QACTsE,GAAI,CAAEQ,MAAO,SAEjB,cAAC,KAAD,CACI9E,SAAS,QACTsE,GAAI,CAAEQ,MAAO,aAEjB,cAAC,KAAD,CACI9E,SAAS,QACTsE,GAAI,CAAEQ,MAAO,aAEjB,cAAC,KAAD,CACI9E,SAAS,QACTsE,GAAI,CAAEQ,MAAO,WAEjB,cAAC,KAAD,CACI9E,SAAS,QACTsE,GAAI,CAAEQ,MAAO,aAEjB,cAAC,KAAD,CACI9E,SAAS,QACTsE,GAAI,CAAEQ,MAAO,cAEnBS,KAAI,CAAC7F,EAAM8I,IACT,cAAC,IAAD,CAAkBjC,GAAI2B,EAAMM,GAA5B,SACI,eAAC5C,EAAA,EAAD,CACItB,GAAI,CACAmE,GAAI,IACJC,GAAI,IACJC,GAAI,EACJpE,QAAS,OACToD,cAAe,SACfiB,kBAAmB,UACnBC,kBAAmB,IAEvBlE,QAAS,IACLoD,EAAiBS,GAXzB,UAcI,8BAAM9I,IAEN,cAACoJ,GAAA,EAAD,CACIhE,MAAM,QACNR,GAAI,CACAtE,SAAU,IAHlB,SAMKmI,EAAMK,SAvBRA,KA4Bf,CACI,cAACD,GAAA,EAAD,CACIvI,SAAS,QACTsE,GAAI,CAAEQ,MAAO,aAEjB,cAAC,IAAD,CACI9E,SAAS,QACTsE,GAAI,CAAEQ,MAAO,SAEjB,cAAC,KAAD,CACI9E,SAAS,QACTsE,GAAI,CAAEQ,MAAO,aAEjB,cAAC,KAAD,CACI9E,SAAS,QACTsE,GAAI,CAAEQ,MAAO,aAEnBS,KAAI,CAAC7F,EAAM8I,IACT,cAAC,IAAD,CAAkBjC,GAAI2B,EAAMM,GAA5B,SACI,eAAC5C,EAAA,EAAD,CACItB,GAAI,CACAmE,GAAI,IACJC,GAAI,IACJC,GAAI,EACJpE,QAAS,OACToD,cAAe,SACfiB,kBAAmB,UACnBC,kBAAmB,IAEvBlE,QAAS,IACLoD,EAAiBS,GAXzB,UAcI,8BAAM9I,IAEN,cAACoJ,GAAA,EAAD,CACIhE,MAAM,QACNR,GAAI,CACAtE,SAAU,IAHlB,SAMKmI,EAAMK,SAvBRA,eCzJ7C,MAAMO,GAAsBC,YAAO,MAAPA,EAAc,EAAG/J,YAAH,CACxCJ,gBAAiBI,EAAME,QAAQC,WAAWC,QAC1CkF,QAAS,OACT7F,OAAQ,OACRuK,SAAU,SACVtK,MAAO,WAGHuK,GAAyBF,YAAO,MAAPA,EAAc,EAAG/J,YAAH,CAC3CsF,QAAS,OACT4E,KAAM,WACNF,SAAU,SACVG,WAAY,GACZ,CAACnK,EAAMoK,YAAYC,GAAG,OAAQ,CAC5BC,YAAa,QAIXC,GAA2BR,YAAO,MAAPA,CAAc,CAC7CzE,QAAS,OACT4E,KAAM,WACNF,SAAU,WAGNQ,GAAyBT,YAAO,MAAPA,CAAc,CAC3CG,KAAM,WACNzK,OAAQ,OACRuK,SAAU,SAwBGS,OArBS,KACtB,MAAOC,EAAiBC,GAAoB9H,oBAAS,GAErD,OACE,eAACiH,GAAD,WACE,cAAC,EAAD,CAAiBrH,gBAAiB,IAAMkI,GAAiB,KACzD,cAAC,GAAD,CACEC,cAAe,IAAMD,GAAiB,GACtCE,WAAYH,IAEd,cAACT,GAAD,UACE,cAACM,GAAD,UACE,cAACC,GAAD,UACE,cAAC,IAAD,cC7CZ,MAAMM,GAAiBf,YAAO,MAAPA,EAAc,EAAG/J,YAAH,CACnCJ,gBAAiBI,EAAME,QAAQC,WAAWE,MAC1CiF,QAAS,OACT7F,OAAQ,OACRuK,SAAU,SACVtK,MAAO,WAGHqL,GAAoBhB,YAAO,MAAPA,CAAc,CACtCzE,QAAS,OACT4E,KAAM,WACNF,SAAU,WAGNgB,GAAsBjB,YAAO,MAAPA,CAAc,CACxCzE,QAAS,OACT4E,KAAM,WACNF,SAAU,WAGNiB,GAAoBlB,YAAO,MAAPA,CAAc,CACtCG,KAAM,WACNzK,OAAQ,OACRuK,SAAU,SAeGkB,OAZI,IACjB,cAACJ,GAAD,UACE,cAACC,GAAD,UACE,cAACC,GAAD,UACE,cAACC,GAAD,UACE,cAAC,IAAD,Y,qMCjCVE,EAAOC,SAEP,MAAMC,GAAcC,0DAEdC,GAAYD,mGACZE,GAAYF,yD,gECKlB,MAAMG,GAAoBC,GAEtB,cAACjF,EAAA,EAAD,UACE,cAACkF,GAAA,EAAD,CAAUtG,GAAI,CAAEqE,GAAI,EAAGkC,GAAI,GAA3B,SACGF,EAAMG,UAAUvF,KAAKwF,GACpB,eAACC,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAa5C,QAAQ,WAAWxD,MAAM,UACtC,cAACqG,GAAA,EAAD,OAEF,cAACC,GAAA,EAAD,UACE,eAAC1F,EAAA,EAAD,CAAKpB,GAAI,CAAEoE,GAAI,KAAf,UACE,cAACI,GAAA,EAAD,CAAYuC,UAAU,KAAtB,SAA4BN,EAASO,UACrC,cAACxC,GAAA,EAAD,CAAYuC,UAAU,IAAI/G,GAAI,CAAEtE,SAAU,IAA1C,SACG6D,IAAOkH,EAAS3E,WAAWmF,OAAO,0CAWtCvD,WAAMwD,KAAKd,IC3B1B,MAAMe,GAAgBd,IAClB,MAAM,KAAEe,GAASf,GACX,YAAEgB,EAAF,UAAeC,GAAcF,EAEnC5E,QAAQC,IAAI2E,EAAMC,EAAaC,GAE/B,MAAOC,EAAKC,GAAUhK,mBAAS,IACxBiK,EAAMC,GAAWlK,mBAAS,IAC1BmK,EAAUC,GAAepK,mBAAS,CACrCnD,MAAO,OACPD,OAAQ,OACRyN,SAAUN,EACVO,UAAWL,EACXM,KAAM,MAGHC,EAAUC,GAAezK,oBAAS,IAClC0K,EAAaC,GAAkB3K,mBAAS,OACxC4K,EAAcC,GAAmB7K,mBAAS,OAC1C8K,EAAkBC,GAAuB/K,mBAAS,KAClDgL,EAAQC,GAAajL,mBAAS,KAC9BkL,EAAMC,GAAWnL,oBAAS,IAC1BoL,EAAaC,GAAkBrL,oBAAS,IACxCgJ,EAAWsC,GAAgBtL,mBAAS,IAE3CY,qBAAU2K,UACNJ,GAAQ,GACI,IAARpB,GAAsB,IAATE,GAGjBuB,KACKC,IAAK,GAAEjD,iBAA0BkC,KAAeE,KAChDhG,MAAM8G,IACH1G,QAAQC,IAAI,gBACZ8F,EAAoBW,EAAS/J,MAC7BwJ,GAAQ,MAEXrG,OAAO6G,GAAQ3G,QAAQC,IAAI0G,OACjC,CAACjB,EAAaE,IAEjBhK,qBAAU,KACN,IAAIgL,EAAUC,YAAIzM,EAAI,qBAAsByK,GAE5C,MAAMzI,EAAQC,YAAWuK,GAAUE,IAC/B,GAAIA,EAASC,SAAU,CACnB,MAAMpK,EAAOmK,EAASnK,OACtByI,EAAY,CACRvN,MAAO,OACPD,OAAQ,IACRyN,SAAU1I,EAAKqK,aAAa3B,SAC5BC,UAAW3I,EAAKqK,aAAa1B,UAC7BC,KAAM,KAEVP,EAAOrI,EAAKqK,aAAa3B,UACzBH,EAAQvI,EAAKqK,aAAa1B,WAC1BW,EAAUtJ,EAAKsK,oBAIvB,MAAO,IAAM7K,MACd,CAACyI,IAEJjJ,qBAAU2K,UACN,IACI,MAAM,KAAE5J,SAAe6J,KAAMC,IACxB,GAAEjD,mBAA4BsB,KAAaD,MACxC,IAAI7H,MAAOkK,WAAa,KAIhCZ,EAAa3J,GACf,MAAOoD,GACLC,QAAQC,IAAIF,EAAMV,YAEvB,CAACuF,IAEJ,MAAMuC,EAAoB,KAClBf,GACAC,GAAe,GACfjB,EAAY,IAAKD,EAAUtN,MAAO,WAElCwO,GAAe,GACfjB,EAAY,IAAKD,EAAUtN,MAAO,WAkB1C,OACI,qCACI,cAACuP,GAAA,EAAD,UACI,gDAEJ,eAACxI,EAAA,EAAD,CACIpB,GAAI,CACAzF,gBAAiB,qBACjBsP,UAAW,OACX5J,QAAS,QAJjB,UAOI,eAAC6J,GAAA,EAAD,CAAWC,UAAU,EAAM/J,GAAI,CAAEqE,GAAI,EAAGjK,OAAQ,OAAhD,UAC6B,aAAxBgN,EAAK4C,gBACF,eAAC,KAAD,IACQrC,EACJsC,qBAAsB/D,GACtBgE,SAAU/D,GACVgE,iBAAmBC,GACfxC,EAAYwC,GALpB,UAQI,cAAC,KAAD,CAEIvC,SAAUN,EACVO,UAAWL,EAHf,SAKI,wBACI1G,UAAU,aACVsJ,aAAeC,IACXA,EAAEC,iBACFtC,GAAY,GACZE,EAAeZ,GACfc,EAAgBZ,IAEpB+C,aAAeF,IACXA,EAAEC,iBACFtC,GAAY,IAEhB5H,QAASsJ,EAZb,SAcI,cAACjI,EAAA,EAAD,CACIC,IAAK6G,EACLxI,GAAI,CACAzF,gBAAiB,UAHzB,SAvDXkQ,KACjB,MAAMC,EAAMD,EAAK9K,MAAM,KACvB,IAAIgL,EASJ,OAPIA,EADe,IAAfD,EAAIE,OACOF,EAAI,GAAG/K,MAAM,IAAI,GAAGkL,cAG3BH,EAAI,GAAG/K,MAAM,IAAI,GAAGkL,cACpBH,EAAI,GAAG/K,MAAM,IAAI,GAAGkL,cAGrBF,GAkD0BG,CAAY1D,EAAK2D,eAxBtB,eA4BP/C,EACG,cAAC,KAAD,CACIH,SAAUK,EACVJ,UAAWM,EAFf,SAII,gCACI,oBAAI/G,MAAO,CAAE2J,UAAW,UAAxB,SACK5D,EAAK2D,WAETrC,EACG,sDAEA,4BAEQJ,EAAiB2C,wBAMrC,QAIa,YAAxB7D,EAAK4C,gBACF,cAACxF,GAAA,EAAD,CACIxE,GAAI,CAAE/F,OAAQ,GAAI+Q,UAAW,UAC7BjE,UAAU,KAFd,4CAQqB,aAAxBK,EAAK4C,gBACF,eAAC5I,EAAA,EAAD,CAAKpB,GAAI,CAAEkL,SAAU,YAArB,UACI,cAAC9J,EAAA,EAAD,CACIpB,GAAI,CACAkL,SAAU,WACVC,OAAQ,IACR5Q,gBAAiB,UACjB6Q,aAAc,GACdC,MAAO,MACPC,OAAQ,OACRC,UAAW,iBACXlH,GAAI,GATZ,SAYI,cAACG,GAAA,EAAD,CACIxE,GAAI,CACA/F,OAAQ,EACR+Q,UAAW,SACXxK,MAAO,MACP/E,WAAY,QAEhBsL,UAAU,KAPd,4CAaJ,eAAC,KAAD,IACQY,EACJsC,qBAAsB/D,GACtBgE,SAAU/D,GACVgE,iBAAmBC,GACfxC,EAAYwC,GALpB,UAQI,cAAC,KAAD,CAEIvC,SAAUN,EACVO,UAAWL,EAHf,SAKI,wBACI1G,UAAU,aACVsJ,aAAeC,IACXA,EAAEC,iBACFtC,GAAY,GACZE,EAAeZ,GACfc,EAAgBZ,IAEpB+C,aAAeF,IACXA,EAAEC,iBACFtC,GAAY,IAEhB5H,QAASsJ,EAZb,SAcI,cAACjI,EAAA,EAAD,CACIC,IAAK6G,EACLxI,GAAI,CACAzF,gBAAiB,eArBzB,eA0BPyN,EACG,cAAC,KAAD,CACIH,SAAUK,EACVJ,UAAWM,EAFf,SAII,gCACI,oBAAI/G,MAAO,CAAE2J,UAAW,UAAxB,SACK5D,EAAK2D,WAETrC,EACG,sDAEA,4BAEQJ,EAAiB2C,wBAMrC,cAKnBrC,GACG,cAACxH,EAAA,EAAD,CACIpB,GAAI,CACA3F,MAAO,IACP4F,QAAS,OACTC,eAAgB,cAJxB,SAO0B,IAArBsG,EAAUoE,OACP,cAAC,GAAD,CAAkBpE,UAAWA,IAE7B,cAACpF,EAAA,EAAD,CACIpB,GAAI,CACA3F,MAAO,IACP4F,QAAS,OACTgD,WAAY,SACZ/C,eAAgB,UALxB,SAQI,cAACsE,GAAA,EAAD,CAAYuC,UAAU,KAAK/C,QAAQ,KAAnC,yCAYjBN,WAAMwD,KAAKC,IC/S1B,MAAMqE,GAAmBnF,IACrB,MAAM,SAAEoF,EAAF,SAAYC,EAAZ,aAAsBC,GAAiBtF,GAEtC2B,EAAUC,GAAezK,oBAAS,IAClC0K,EAAaC,GAAkB3K,mBAAS,OACxC4K,EAAcC,GAAmB7K,mBAAS,OAC1CoO,EAAkBC,GAAuBrO,mBAAS,IAClDsO,EAAgBC,GAAqBvO,mBAAS,KAC9C8K,EAAkBC,GAAuB/K,mBAAS,KAClD+J,EAAKC,GAAUhK,mBAAS,SACxBiK,EAAMC,GAAWlK,mBAAS,OAC1BkL,EAAMC,GAAWnL,oBAAS,IAC1BoL,EAAaC,GAAkBrL,oBAAS,IACxCgJ,EAAWsC,GAAgBtL,mBAAS,KACpCwO,EAAcC,GAAmBzO,mBAAS,KAE1CmK,EAAUC,GAAepK,mBAAS,CACrCnD,MAAO,OACPD,OAAQ,OACRyN,SAAUN,EACVO,UAAWL,EACXM,KAAM,KAGV3J,qBAAU,KACN,MAAMe,EAAO,GACbwM,EAAa3M,SAASD,IAClB0M,EAASzM,SAASkN,IACVnN,EAAKsI,cAAgB6E,EAAK7E,cAC1BtI,EAAI,SAAemN,EAAK1C,aACxBrK,EAAKD,KAAKH,UAKtBkN,EAAgB9M,KACjB,CAACwM,EAAcF,IAElBrN,qBAAU2K,UACNJ,GAAQ,GACRK,KACKC,IAAK,GAAEjD,iBAA0BkC,KAAeE,KAChDhG,MAAM8G,IACHX,EAAoBW,EAAS/J,MAC7BwJ,GAAQ,MAEXrG,OAAO6G,GAAQ3G,QAAQC,IAAI0G,OACjC,CAACjB,EAAaE,IAEjBhK,qBAAU2K,UACN,GAA8B,IAA1B+C,EAAelB,OAGnB,IACI,MAAM,KAAEzL,SAAe6J,KAAMC,IACxB,GAAEjD,mBAA4B0F,KAAYI,MACvC,IAAItM,MAAOkK,WAAa,KAIhCZ,EAAa3J,GACf,MAAOoD,GACLC,QAAQC,IAAIF,EAAMV,YAEvB,CAACiK,IAEJ,MAWMhB,EAAeL,IACjB,MAAMC,EAAMD,EAAK9K,MAAM,KACvB,IAAIgL,EASJ,OAPIA,EADe,IAAfD,EAAIE,OACOF,EAAI,GAAG/K,MAAM,IAAI,GAAGkL,cAG3BH,EAAI,GAAG/K,MAAM,IAAI,GAAGkL,cACpBH,EAAI,GAAG/K,MAAM,IAAI,GAAGkL,cAGrBF,GAGX,OACI,qCACI,cAACf,GAAA,EAAD,UACI,gDAEJ,eAACxI,EAAA,EAAD,CACIpB,GAAI,CACAzF,gBAAiB,qBACjBsP,UAAW,OACX5J,QAAS,QAJjB,UAOI,cAAC6J,GAAA,EAAD,CAAWC,UAAU,EAAM/J,GAAI,CAAE5F,OAAQ,OAAzC,SACI,eAAC,KAAD,IACQuN,EACJsC,qBAAsB/D,GACtBgE,SAAU/D,GACVgE,iBAAmBC,GACfxC,EAAYwC,GALpB,UAQK4B,EAAa/K,KAAI,CAACmG,EAAMlD,IACrB,cAAC,KAAD,CAEI2D,SAAUT,EAAKX,SAASoB,SACxBC,UAAWV,EAAKX,SAASqB,UAH7B,SAKI,wBACI/G,UAAU,aACVsJ,aAAeC,IACXA,EAAEC,iBACFtC,GAAY,GACZE,EAAef,EAAKX,SAASoB,UAC7BQ,EAAgBjB,EAAKX,SAASqB,WAC9BN,EAAOJ,EAAKX,SAASoB,UACrBH,EAAQN,EAAKX,SAASqB,WAEtB+D,EAAoB3H,IAExBsG,aAAeF,IACXA,EAAEC,iBACFtC,GAAY,IAEhB5H,QAAS,IApEd+G,KACnBwB,GACAC,GAAe,GACfjB,EAAY,IAAKD,EAAUtN,MAAO,WAElCwO,GAAe,GACfjB,EAAY,IAAKD,EAAUtN,MAAO,SAClC0R,EAAkB3E,EAAKC,eA6DgBsC,CAAkBvC,GAhBrC,SAkBI,cAAC1F,EAAA,EAAD,CAAQ1B,GAAI,CAAEzF,gBAAiB,UAA/B,SACKuQ,EAAY1D,EAAK2D,eAvBrB3D,EAAKC,eA4BjBW,EACG,cAAC,KAAD,CACIH,SAAUK,EACVJ,UAAWM,EACXzH,QAAS,KACLsH,GAAY,GACZE,EAAe,GACfE,EAAgB,IANxB,SASI,gCACI,oBACIhH,MAAO,CACH2J,UAAW,SACXmB,aAAc,QAHtB,SAOQH,EAAaJ,GACRb,WAGZrC,EACG,sDAEA,4BACKJ,EAAiB2C,wBAKlC,UAGXrC,GACG,cAACxH,EAAA,EAAD,CACIpB,GAAI,CACA3F,MAAO,IACP4F,QAAS,OACTC,eAAgB,cAJxB,SAO0B,IAArBsG,EAAUoE,OACP,cAAC,GAAD,CAAkBpE,UAAWA,IAE7B,cAACpF,EAAA,EAAD,CACIpB,GAAI,CACA3F,MAAO,IACP4F,QAAS,OACTgD,WAAY,SACZ/C,eAAgB,UALxB,SAQI,cAACsE,GAAA,EAAD,CAAYuC,UAAU,KAAK/C,QAAQ,KAAnC,yCAYjBN,WAAMwD,KAAKsE,I,qBCxNnB,MAUMY,GAAyB,yBACzBC,GAAsB,sBAEtBC,GAAsB,sBACtBC,GAAmB,mBAEnBC,GAAyB,yBACzBC,GAAsB,sBAEtBC,GAAyB,yBACzBC,GAAsB,sBAItBC,GAAuB,uBACvBC,GAAoB,oBAEpBC,GAAoB,oBACpBC,GAAiB,iBAEjBC,GAAuB,uBACvBC,GAAoB,oBAEpBC,GAAuB,uBACvBC,GAAoB,oBAIpBC,GAAuB,uBACvBC,GAAoB,oBAEpBC,GAAoB,oBACpBC,GAAiB,iBAEjBC,GAAuB,uBACvBC,GAAoB,oBAEpBC,GAAuB,uBACvBC,GAAoB,oBAIpBC,GAAwB,wBACxBC,GAAqB,qBAErBC,GAAqB,qBACrBC,GAAkB,kBAElBC,GAAwB,wBACxBC,GAAqB,qBAErBC,GAAwB,wBACxBC,GAAqB,qBCvB5BC,GAAc9G,GAAcyB,UAC9B,IACI,MAAM,KAAE5J,SAAe6J,KAAMC,IACxB,GAAEjD,kBAA2BsB,KAElC+G,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAEf,MAAOoD,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,YAKrB4M,GAAmBnU,GAASyO,UAC9B,IACI,MAAMhD,EAAS,CACX2I,QAAS,CACL,eAAgB,sBAGlB,KAAEvP,SAAe6J,KAAM2F,KACxB,GAAE3I,uBACH1L,EACAyL,GAEJsI,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAEf,MAAOoD,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,YCpCrB+M,GAAoBtU,GAASyO,UAC/B,IACI,MAAMhD,EAAS,CACX2I,QAAS,CACL,eAAgB,sBAGlB,KAAEvP,SAAe6J,KAAM2F,KACxB,GAAE3I,wBACH1L,EACAyL,GAEJsI,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAEf,MAAOoD,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,YAKrBgN,GAAevH,GAAcyB,UAC/B,IACI,MAAM,KAAE5J,SAAe6J,KAAMC,IACxB,GAAEjD,mBAA4BsB,KAEnC+G,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAEf,MAAOoD,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,Y,KCtE3B,MAmCMiN,GAAaxH,GAAcyB,UAC7B,IACI,MAAM,KAAE5J,SAAe6J,KAAMC,IACxB,GAAEjD,iBAA0BsB,KAEjC+G,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAEf,MAAOoD,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,YAKrBkN,GAAezU,GAASyO,MAAOsF,EAAUW,KAC3C,IACI,MAAMjJ,EAAS,CACX2I,QAAS,CACL,eAAgB,sBAIlB,KAAEvP,SAAe6J,KAAMiG,IACxB,GAAEjJ,kBACH1L,EACAyL,GAGJvD,QAAQC,IAAItD,GAEZkP,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAGbnB,eAAekR,QACX,YACAhR,KAAKiR,UAAUH,IAAWI,OAAOC,YAEvC,MAAO9M,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,YC9CrByN,GAAahI,GAAcyB,UAC7B,IACI,MAAM,KAAE5J,SAAe6J,KAAMC,IACxB,GAAEjD,iBAA0BsB,KAEjC+G,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAEf,MAAOoD,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,YCTrBhI,GAAYC,aAAYa,IAAD,CACzB+H,KAAM,CACFtI,OAAQ,QAEZY,MAAO,CACHd,QAASS,EAAMuI,QAAQ,GACvB8H,UAAW,SACXxK,MAAO7F,EAAME,QAAQO,KAAKC,eAsbnBkU,OAlbG,KACd,MAAMhM,EAAU1J,MAET2J,EAAeC,GAAoBjG,oBAAU,IAE7CgS,EAAeC,GAAoBjS,mBAAS,KAC5CkS,EAAQC,GAAanS,mBAAS,KAC9BoS,EAAcC,GAAmBrS,mBAAS,KAE1CsS,EAAWC,GAAgBvS,oBAAS,IACpCwS,EAASC,GAAczS,mBAAS,OAChC+E,EAAO2N,GAAY1S,mBAAS,OAE5B2S,EAAQC,GAAa5S,mBAAS,OAC9BC,EAAUC,GAAeF,mBAAS,MACnC6S,EAAWC,QAAQ7S,GAEnB4Q,EAAWkC,cACXC,EAAUC,aAAaC,GAAUA,EAAMF,WACvC,WAAEG,GAAeH,EAKjBI,EAAoB,KACtBlT,EAAY,OAGVG,EAAWC,cAEX+S,EAAmB,CAACC,EAAGC,KACV,cAAXA,IAGJhB,GAAa,GACbG,EAAS,MACTD,EAAW,QAGTlS,EAAWC,eAAeC,QAAQ,YAClCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEA0F,EAAY3F,eAAeC,QAAQ,aACnCC,KAAKC,MAAMH,eAAeC,QAAQ,cAClC,KAENG,qBAAU,KACYJ,eAAeC,QAAQ,cAGrCJ,EAAS,YAEd,IAEHO,qBAAU2K,UAQN,GAPkB,OAAdpF,GAAmC,OAAb5F,IACtBsQ,EAASD,GAAWrQ,EAASQ,MAC7B8P,EAASQ,GAAY9Q,EAASQ,MAC9B8P,EAASiB,GAAUvR,EAASQ,MAC5B8P,EAASS,GAAU/Q,EAASQ,OAGd,OAAdoF,GAAmC,OAAb5F,EAAmB,CACzC,MAAM,KAAEoB,SAAe6J,KAAMC,IACxB,GAAEjD,gBAAyBrC,EAAUqN,SAE1C3C,EACII,GAAgB,CACZnH,UAAWvJ,EAASQ,IACpB0S,YAAa9R,EAAK+R,UAG1B7C,EACIO,GAAiB,CACbtH,UAAWvJ,EAASQ,IACpB0S,YAAa9R,EAAK+R,aAI/B,CAAC7C,IAEJjQ,qBAAU,KACN,GAA0B,IAAtBuS,EAAW/F,OAAc,CACzB,MAAMuG,EAAiBR,EAAW1P,KAAKC,GAAMA,EAAEmG,cACzC+J,EAAW9S,YAAW1B,EAAI,sBAC1B4B,EAAIC,YACN2S,EACAC,YAAM,cAAe,KAAMF,IAGzBvS,EAAQC,YAAWL,GAAI8S,IACzB,MAAMC,EAAQ,GAEdD,EAAStS,SAASqK,IACdkI,EAAMrS,KAAKmK,EAAIlK,WAGnBsQ,EAAiB8B,MAGrB,MAAO,IAAM3S,OAElB,CAAC+R,IAEJvS,qBAAU,KACgB,IAAlBsR,EAAO9E,QACPiF,EAAgB,IAGpBpM,GAAkB,GAClB,MAEM+N,EAFOb,EAEUR,QAAQjP,GAC3BA,EAAE6J,SAAS0G,cAAcC,SAAShC,EAAO+B,iBAG7C5B,EAAgB2B,KACjB,CAAC9B,IAEJtR,qBAAU,KACN,GAAe,QAAX+R,EAEA,YADAN,EAAgB,IAIpB,MACM2B,EADOb,EACUR,QAAQjP,GAAMA,EAAE8I,iBAAmBmG,IAC1DN,EAAgB2B,KACjB,CAACrB,IAEJ,MAAMwB,EAAsB,CAACb,EAAG5M,KAC5BT,EAAiBS,IAUf0N,EAAgBC,IAClBzB,EAAUyB,GACVjB,KAGE9F,EAAeL,IACjB,MAAMC,EAAMD,EAAK9K,MAAM,KAKvB,OAHI+K,EAAI,GAAG/K,MAAM,IAAI,GAAGkL,cACpBH,EAAI,GAAG/K,MAAM,IAAI,GAAGkL,eAK5B,OACI,eAACzJ,EAAA,EAAD,CAAKL,UAAWwC,EAAQb,KAAxB,UACI,eAACoP,GAAA,EAAD,CAAMC,WAAS,EAAC/R,GAAI,CAAE5F,OAAQ,WAA9B,UACI,cAAC0X,GAAA,EAAD,CACI5F,MAAI,EACJ8F,GAAI,IACJhS,GAAI,CACA5F,OAAQ,OACR6X,UAAW,UAEflR,UAAU,WAPd,SASI,eAACmR,GAAA,EAAD,CAAOlS,GAAI,CAAE6J,UAAW,QAAU9I,UAAWwC,EAAQvI,MAArD,UACI,eAACoG,EAAA,EAAD,CAAKpB,GAAI,CAAE+J,SAAU,KAArB,UACI,cAACoI,GAAA,EAAD,CACIC,WAAS,EACTC,WAAY,CACRC,eACI,cAACC,GAAA,EAAD,CAAgBrH,SAAS,QAAzB,SACI,cAACsH,GAAA,EAAD,CACI9W,SAAS,QACT8E,MAAM,SAFV,SAII,cAAC,KAAD,QAIZiS,aACI,cAACrS,EAAA,EAAD,CAAYC,QAnKrBC,IACvB5C,EAAY4C,EAAMC,gBAkKc,SACI,cAACiS,GAAA,EAAD,CACI9W,SAAS,QACT8E,MAAM,SAFV,SAII,cAAC,KAAD,SAKhBkS,YAAY,cACZ1O,QAAQ,WACR2O,SAAWrI,GAAMqF,EAAUrF,EAAEsI,OAAOC,SAExC,eAACC,GAAA,EAAD,CACIrV,SAAUA,EACVE,KAAM0S,EACN1P,QAASiQ,EAHb,UAKI,cAACmC,GAAA,EAAD,CACI/S,GAAI,CAAEgT,GAAI,IAAK3O,GAAI,KACnBhE,QAAS,KACLuR,EAAa,OACbnO,GAAkB,IAJ1B,0BASA,cAACsP,GAAA,EAAD,CACI/S,GAAI,CAAEgT,GAAI,IAAK3O,GAAI,KACnBhE,QAAS,KACLuR,EAAa,YACbnO,GAAkB,IAJ1B,+BASA,cAACsP,GAAA,EAAD,CACI/S,GAAI,CAAEgT,GAAI,IAAK3O,GAAI,KACnBhE,QAAS,KACLuR,EAAa,YACbnO,GAAkB,IAJ1B,+BASA,cAACsP,GAAA,EAAD,CACI/S,GAAI,CAAEgT,GAAI,IAAK3O,GAAI,KACnBhE,QAAS,KACLuR,EAAa,WACbnO,GAAkB,IAJ1B,oCAWR,eAACzC,EAAA,EAAD,CAAM+F,UAAU,MAAhB,UACI,eAACzF,EAAA,EAAD,CAEI2R,QAAM,EACNjT,GAAI,CACAuB,GAAI,GACJ2R,GAAI,GACJ3Y,gBAAiB,UACjB4J,GAAI,IACJC,GAAI,KAER4D,UAA6B,IAAnBxE,EACVnD,QAAS,IAAMoD,GAAkB,GAXrC,UAaI,cAACjC,EAAA,EAAD,UACI,cAACE,EAAA,EAAD,CAAQ1B,GAAI,CAAEzF,gBAAiB,UAA/B,SACI,cAAC,KAAD,QAGR,cAACqH,EAAA,EAAD,CAAc3G,QAAQ,4BAjBhB,GAoBe,IAAxB2U,EAAahF,aACKuI,IAAfxC,GACe,OAAfA,GACAA,EAAW1P,KAAI,CAACiL,EAAMhI,IAClB,eAAC5C,EAAA,EAAD,CAEI2R,QAAM,EACNG,SAC4B,YAAxBlH,EAAKlC,eAEThK,GAAI,CACAuB,GAAI,GACJ2R,GAAI,GACJF,GAAI,EACJzY,gBAAiB,UACjB8Y,WAEI,aADAnH,EAAKlC,eAEC,kBAEA,aADAkC,EAAKlC,eAEL,gBACA,oBAEdhC,SAAUxE,IAAkBU,EAC5B7D,QAAUC,GACNqR,EAAoBrR,EAAO4D,GAtBnC,UAyBI,cAAC1C,EAAA,EAAD,UACI,cAACE,EAAA,EAAD,CACI1B,GAAI,CACAzF,gBAAiB,UAFzB,SAKI,cAACiK,GAAA,EAAD,CACI9I,SAAU,GACVC,cAAe,EAFnB,SAIKmP,EAAYoB,EAAKnB,gBAI9B,cAACnJ,EAAA,EAAD,CAAc3G,QAASiR,EAAKnB,aAtCvB7G,KA2CQ,IAAxB0L,EAAahF,QACVgF,EAAa3O,KAAI,CAACiL,EAAMhI,IACpB,eAAC5C,EAAA,EAAD,CAEI2R,QAAM,EACNG,SAC4B,YAAxBlH,EAAKlC,eAEThK,GAAI,CACAuB,GAAI,GACJ2R,GAAI,GACJF,GAAI,EACJzY,gBAAiB,UACjB8Y,WAEI,aADAnH,EAAKlC,eAEC,kBAEA,aADAkC,EAAKlC,eAEL,gBACA,oBAEdhC,SAAUxE,IAAkBU,EAC5B7D,QAAUC,GACNqR,EAAoBrR,EAAO4D,GAtBnC,UAyBI,cAAC1C,EAAA,EAAD,UACI,cAACE,EAAA,EAAD,CACI1B,GAAI,CACAzF,gBAAiB,UAFzB,SAKI,cAACiK,GAAA,EAAD,CACI9I,SAAU,GACVC,cAAe,EAFnB,SAIKmP,EAAYoB,EAAKnB,gBAI9B,cAACnJ,EAAA,EAAD,CAAc3G,QAASiR,EAAKnB,aAtCvB7G,aA6C7B,eAAC4N,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,GAAI,IAAKhS,GAAI,CAAE5F,OAAQ,QAAlC,UACI,cAACkZ,GAAA,EAAD,CACIC,UAAU,MACVrT,eAAe,gBACfF,GAAI,CAAE9F,QAAS,GAHnB,SAKI,cAACsK,GAAA,EAAD,CAAYR,QAAQ,KAAK+C,UAAU,KAAnC,gCAIJ,eAAC3F,EAAA,EAAD,CACIpB,GAAI,CACA5F,OAAQ,MACR4Y,GAAI,GAHZ,WAMwB,IAAnBxP,GACG,cAAC,GAAD,CACIiI,SAAU+D,EACV9D,SAAQ,OAAE3N,QAAF,IAAEA,OAAF,EAAEA,EAAUQ,IACpBoN,aAAcgF,IAGrBnN,GAAiB,GAA6B,IAAxBoM,EAAahF,QAChC,cAAC,GAAD,CACIxD,KAAMuJ,EAAWnN,GACjBU,MAAOV,IAIdA,GAAiB,GAA6B,IAAxBoM,EAAahF,QAChC,cAAC,GAAD,CACIxD,KAAMwI,EAAapM,GACnBU,MAAOV,aAMd,OAAZwM,GACG,cAACwD,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,UACT3T,GAAI,CAAE3F,MAAO,QAHjB,SAKK2V,MAIF,OAAVzN,GACG,cAACiR,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,QACT3T,GAAI,CAAE3F,MAAO,QAHjB,SAKKkI,U,4DCnczB,MAAM1I,GAAYC,aAAYa,IAAD,CACzBiZ,MAAO,CACHC,gBAAiB,0CACjBC,iBAAkB,YAClBvZ,gBAC2B,UAAvBI,EAAME,QAAQyT,KACR3T,EAAME,QAAQkZ,KAAK,IACnBpZ,EAAME,QAAQkZ,KAAK,KAC7BC,eAAgB,QAChBC,mBAAoB,UAExBjZ,MAAO,CACHf,OAAQU,EAAMuI,QAAQ,EAAG,GACzBjD,QAAS,OACToD,cAAe,SACfJ,WAAY,UAEhBiR,OAAQ,CACJja,OAAQU,EAAMuI,QAAQ,GACtB3I,gBAAiBI,EAAME,QAAQQ,UAAUF,MAE7CgZ,KAAM,CACF9Z,MAAO,OACP+Z,UAAWzZ,EAAMuI,QAAQ,IAE7BmR,MAAO,CACHpa,OAAQU,EAAMuI,QAAQ,EAAG,EAAG,GAC5BhJ,QAASS,EAAMuI,QAAQ,KACvBxH,SAAU,IAEd4Y,YAAa,CACTra,OAAQU,EAAMuI,QAAQ,EAAG,EAAG,GAC5BxH,SAAU,QAgNH6Y,OA5MD,KACV,MAAMhR,EAAU1J,KACVgE,EAAWC,eAEVkT,EAAOwD,GAAYhX,mBAAS,KAC5BiX,EAAUC,GAAelX,mBAAS,KAClCmX,EAAUC,GAAepX,oBAAS,GAEnCqX,EAAcC,aAAa7W,QAAQ,eACnCC,KAAKC,MAAM2W,aAAa7W,QAAQ,gBAChC,KAENG,qBAAU,KACc,OAAhByW,IACAL,EAASK,EAAY7D,OACrB0D,EAAYG,EAAYJ,UACxBG,EAAYC,EAAYE,YAE7B,CAACF,IAEJ,MAYMG,EAAajM,UACfkM,YAA2BlY,EAAMiU,EAAOyD,GACnCrS,MAAK2G,UACF/K,eAAekR,QAAQ,YAAagG,EAAW9N,KAAK+N,aACpD,IACI,MAAM,KAAEhW,SAAe6J,KAAMC,IACxB,GAAEjD,gBAAyBgL,KAE1BoE,EAAgB/L,YAClBzM,EACA,iBACAuC,EAAKmI,WAEH+N,QAAkBC,YAAOF,GAE3BC,EAAU9L,UACVvL,eAAekR,QACX,WACAhR,KAAKiR,UAAUkG,EAAUlW,SAIjCnB,eAAekR,QAAQ,YAAahR,KAAKiR,UAAUhQ,IAE/CA,EAAKoW,gBACL1X,EAAS,iBAAkB,CAAEwE,SAAS,IAEtCxE,EAAS,yBAA0B,CAAEwE,SAAS,IAEpD,MAAOE,GACLC,QAAQC,IAAIF,EAAMV,aAGzBS,OAAOC,IACJ,MAAMiT,EAAYjT,EAAMkT,KAClBC,EAAenT,EAAMV,QAC3B8T,MAAMH,EAAWE,OAIvBE,EAAkB7M,UACpBkM,YAA2BlY,EAAMiU,EAAOyD,GACnCrS,MAAK2G,UACF,MAAM3B,EAAOyO,EAAezO,KAC5B5E,QAAQC,IAAI2E,GACZpJ,eAAekR,QAAQ,YAAa9H,EAAK+N,aACzC,MAAMW,EAASzM,YAAIzM,EAAI,iBAAkBwK,EAAK7I,KACxCwX,QAAgBT,YAAOQ,GAEzBC,EAAQxM,UACRvL,eAAekR,QACX,WACAhR,KAAKiR,UAAU4G,EAAQ5W,SAE3BtB,EAAS,iBAAkB,CAAEwE,SAAS,KAEtCG,QAAQC,IAAI,wBAGnBH,OAAOC,IACJ,MAAMiT,EAAYjT,EAAMkT,KAClBC,EAAenT,EAAMV,QAC3B8T,MAAMH,EAAWE,OAI7B,OACI,eAAC5D,GAAA,EAAD,CACI9R,GAAI,CAAE5F,OAAQ,QACd2X,WAAS,EACThL,UAAU,OACVhG,UAAWwC,EAAQb,KAJvB,UAMI,cAACoB,EAAA,EAAD,IACA,cAACgO,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,IAAI,EAAOgE,GAAI,EAAGC,GAAI,EAAGlV,UAAWwC,EAAQqQ,QACvD,cAAC9B,GAAA,EAAD,CACI5F,MAAI,EACJ8F,GAAI,GACJgE,GAAI,EACJC,GAAI,EACJlP,UAAWmL,KACXpS,UAAW,EACXoW,QAAM,EAPV,SASI,sBAAKnV,UAAWwC,EAAQvI,MAAxB,UACI,cAAC0G,EAAA,EAAD,CAAQX,UAAWwC,EAAQ2Q,OAA3B,SACI,cAAC,KAAD,MAEJ,cAAC1P,GAAA,EAAD,CACIuC,UAAU,KACV/C,QAAQ,KACRhE,GAAI,CAAEuB,GAAI,EAAG2R,GAAI,GAHrB,wBAOA,uBAAMnS,UAAWwC,EAAQ4Q,KAAMgC,YAAU,EAAzC,UACI,cAAChE,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmc,UAAQ,EACRhE,WAAS,EACT1R,GAAG,QACH2V,MAAM,gBACN5L,KAAK,QACL6L,aAAa,QACbC,WAAS,EACT1D,MAAO7B,EACP2B,SAAWrI,GAAMkK,EAASlK,EAAEsI,OAAOC,SAEvC,cAACV,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmc,UAAQ,EACRhE,WAAS,EACT3H,KAAK,WACL4L,MAAM,WACN/H,KAAK,WACL5N,GAAG,WACH4V,aAAa,mBACbzD,MAAO4B,EACP9B,SAAWrI,GAAMoK,EAAYpK,EAAEsI,OAAOC,SAE1C,cAACzR,EAAA,EAAD,CACIpB,GAAI,CAAEC,QAAS,OAAQC,eAAgB,YAD3C,SAGI,cAACsW,GAAA,EAAD,CAAMxS,QAAQ,QAAd,gCAEJ,cAACyS,GAAA,EAAD,CACIC,QACI,cAACC,GAAA,EAAD,CACI9D,MAAO8B,EACPnU,MAAM,UACNmS,SAAWrI,GACPsK,EAAYtK,EAAEsI,OAAOmC,WAIjCsB,MAAM,gBAEV,cAACO,GAAA,EAAD,CACIxE,WAAS,EACTpO,QAAQ,YACRxD,MAAM,UACNO,UAAWwC,EAAQ8Q,MACnBhU,QAAS,IA5JX0I,WAClB,MAAM8N,EAAWvY,YAAW1B,EAAI,kBAC1B4B,EAAIC,YAAMoY,EAAUxF,YAAM,QAAS,KAAML,UACzC8F,YAAQtY,GAAG4D,MAAK2G,UACA,IAAdgO,EAAKC,KACLpB,IAEAZ,QAqJ2BiC,GALnB,mBAUA,cAAC7V,EAAA,EAAD,CACIpB,GAAI,CACAC,QAAS,OACTC,eAAgB,SAChBqB,GAAI,KAJZ,SAOI,cAACiV,GAAA,EAAD,CACIzP,UAAWmQ,IACXjV,GAAG,YACH+B,QAAQ,QACRmT,UAAU,QAJd,mEClNbC,OAvCE,IACf,qCACE,cAACxN,GAAA,EAAD,UACE,yDAEF,cAACxI,EAAA,EAAD,CACEpB,GAAI,CACFzF,gBAAiB,qBACjB0F,QAAS,OACToD,cAAe,SACfjJ,OAAQ,OACR8F,eAAgB,UANpB,SASE,eAAC4J,GAAA,EAAD,CAAWC,SAAS,KAApB,UACE,cAACvF,GAAA,EAAD,CAAY6S,MAAM,SAAS7W,MAAM,cAAcwD,QAAQ,KAAvD,+DAGA,cAACQ,GAAA,EAAD,CAAY6S,MAAM,SAAS7W,MAAM,cAAcwD,QAAQ,YAAvD,sHAIA,cAAC5C,EAAA,EAAD,CAAKpB,GAAI,CAAEgL,UAAW,UAAtB,SACE,qBACEsM,IAAI,oBACJ3V,IAAI,gDACJN,MAAO,CACL+S,UAAW,GACXnU,QAAS,eACT8J,SAAU,OACV1P,MAAO,iBCdrB,MAAMR,GAAYC,aAAYa,IAAD,CACzBiZ,MAAO,CACHC,gBAAiB,0CACjBC,iBAAkB,YAClBvZ,gBAC2B,UAAvBI,EAAME,QAAQyT,KACR3T,EAAME,QAAQkZ,KAAK,IACnBpZ,EAAME,QAAQkZ,KAAK,KAC7BC,eAAgB,QAChBC,mBAAoB,UAExBjZ,MAAO,CACHf,OAAQU,EAAMuI,QAAQ,EAAG,GACzBjD,QAAS,OACToD,cAAe,SACfJ,WAAY,UAEhBiR,OAAQ,CACJja,OAAQU,EAAMuI,QAAQ,GACtB3I,gBAAiBI,EAAME,QAAQQ,UAAUF,MAE7CgZ,KAAM,CACF9Z,MAAO,OACP+Z,UAAWzZ,EAAMuI,QAAQ,IAE7BmR,MAAO,CACHpa,OAAQU,EAAMuI,QAAQ,EAAG,EAAG,GAC5BhJ,QAASS,EAAMuI,QAAQ,KACvBxH,SAAU,IAEd4Y,YAAa,CACTra,OAAQU,EAAMuI,QAAQ,EAAG,EAAG,GAC5BxH,SAAU,QAiNH6b,OA7ME,KACb,MAAMhU,EAAU1J,KACVgE,EAAWC,eAEVkT,EAAOwD,GAAYhX,mBAAS,KAC5BiX,EAAUC,GAAelX,mBAAS,KAClCga,EAAWC,GAAgBja,mBAAS,KACpCka,EAAUC,GAAena,mBAAS,KAClCoa,EAAaC,GAAkBra,mBAAS,KACxCsa,EAAQC,GAAava,oBAAS,GA+CrC,OACI,eAACsU,GAAA,EAAD,CAAM9R,GAAI,CAAE5F,OAAQ,QAAU2X,WAAS,EAAChL,UAAU,OAAlD,UACI,cAACjD,EAAA,EAAD,IACA,cAACgO,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,IAAI,EAAOgE,GAAI,EAAGC,GAAI,EAAGlV,UAAWwC,EAAQqQ,QACvD,cAAC9B,GAAA,EAAD,CACI5F,MAAI,EACJ8F,GAAI,GACJgE,GAAI,EACJC,GAAI,EACJlP,UAAWmL,KACXpS,UAAW,EACXoW,QAAM,EACNlW,GAAI,CAAEgY,EAAG,GARb,SAUI,sBAAKjX,UAAWwC,EAAQvI,MAAxB,UACI,cAAC0G,EAAA,EAAD,CAAQX,UAAWwC,EAAQ2Q,OAA3B,SACI,cAAC,KAAD,MAEJ,cAAC1P,GAAA,EAAD,CACIuC,UAAU,KACV/C,QAAQ,KACRhE,GAAI,CAAEuB,GAAI,EAAG2R,GAAI,GAHrB,wBAOA,uBAAMnS,UAAWwC,EAAQ4Q,KAAMgC,YAAU,EAAzC,UACI,cAAChE,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmc,UAAQ,EACRhE,WAAS,EACT1R,GAAG,YACH2V,MAAM,aACN5L,KAAK,YACL6L,aAAa,OACbC,WAAS,EACT1D,MAAO2E,EACP7E,SAAWrI,GAAMmN,EAAanN,EAAEsI,OAAOC,SAE3C,cAACV,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmc,UAAQ,EACRhE,WAAS,EACT1R,GAAG,WACH2V,MAAM,YACN5L,KAAK,WACL6L,aAAa,OACbzD,MAAO6E,EACP/E,SAAWrI,GAAMqN,EAAYrN,EAAEsI,OAAOC,SAE1C,cAACV,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmc,UAAQ,EACRhE,WAAS,EACT1R,GAAG,QACH2V,MAAM,gBACN5L,KAAK,QACL6L,aAAa,QACbzD,MAAO7B,EACP2B,SAAWrI,GAAMkK,EAASlK,EAAEsI,OAAOC,SAEvC,cAACV,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmc,UAAQ,EACRhE,WAAS,EACT1R,GAAG,QACH2V,MAAM,eACN5L,KAAK,cACL6L,aAAa,OACbzD,MAAO+E,EACPjF,SAAWrI,GAAMuN,EAAevN,EAAEsI,OAAOC,SAE7C,cAACV,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmc,UAAQ,EACRhE,WAAS,EACT3H,KAAK,WACL4L,MAAM,WACN/H,KAAK,WACL5N,GAAG,WACH4V,aAAa,mBACbzD,MAAO4B,EACP9B,SAAWrI,GAAMoK,EAAYpK,EAAEsI,OAAOC,SAE1C,cAAC4D,GAAA,EAAD,CACIC,QACI,cAACC,GAAA,EAAD,CACI9D,MAAM,WACNrS,MAAM,UACNuU,QAAS+C,EACTnF,SAAWrI,GACPyN,EAAUzN,EAAEsI,OAAOmC,WAI/BsB,MAAM,yCAEV,cAACO,GAAA,EAAD,CACIxE,WAAS,EACTpO,QAAQ,YACRxD,MAAM,UACNO,UAAWwC,EAAQ8Q,MACnBhU,QAAS,IAvJX0I,WAClBkP,YAA+Blb,EAAMiU,EAAOyD,GACvCrS,MAAK2G,UACF,MAAM3B,EAAOyO,EAAezO,KAE5B8Q,YAAcnb,EAAKob,YAAa,CAC5BC,YAAaZ,EAAYE,IAC1BpV,OAAOC,GAAUC,QAAQC,IAAIF,EAAMV,WAEtC,MAAM9D,EAAW,CACbQ,IAAK6I,EAAK7I,IACViZ,YACAE,WACA1G,MAAO5J,EAAK4J,MACZqH,aACI,2EACJT,cACA9V,UAAWwW,eAGfta,eAAekR,QAAQ,YAAa9H,EAAK+N,aAEzC,MAAM/L,EAAUC,YAAIzM,EAAI,iBAAkBwK,EAAK7I,WAEzCga,YAAOnP,EAASrL,GACjBqE,MAAK,KACFpE,eAAekR,QACX,WACAhR,KAAKiR,UAAUpR,IAEnBF,EAAS,iBAAkB,CAAEwE,SAAS,OAEzCC,OAAOC,IACJ,MAAMiT,EAAYjT,EAAMkT,KAClBC,EAAenT,EAAMV,QAC3B8T,MAAMH,EAAWE,SAG5BpT,OAAOC,IACJ,MAAMiT,EAAYjT,EAAMkT,KAClBC,EAAenT,EAAMV,QAC3B8T,MAAMH,EAAWE,OA8GUuB,GALnB,qBAyBA,cAAC7V,EAAA,EAAD,CACIpB,GAAI,CACAC,QAAS,OACTC,eAAgB,SAChBqB,GAAI,KAJZ,SAOI,cAACiV,GAAA,EAAD,CACIzP,UAAWmQ,IACXjV,GAAG,SACH+B,QAAQ,QACRmT,UAAU,QAJd,+D,0HChO5B,SAASqB,GAAInS,GACX,MAAM,IACJoS,EADI,YAEJC,EAFI,iBAGJC,EAHI,eAIJC,EAJI,cAKJC,GACExS,GACG1I,EAAMC,GAAW8F,YAAe,IAChCoV,EAASC,GAAcrV,WAAe,KACtCgF,EAAMC,GAAWjF,YAAe,GAEjC3F,EAAWC,eAAeC,QAAQ,YACpCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEEyM,EAAM+N,EAAIO,SAAS/X,KAAKC,GAAMA,EAAE+X,UAEhCC,EAAchY,GACRwJ,EAAIyO,WAAW7O,GAAMA,IAAMpJ,EAAEkY,MA4CzC,OAvBA1V,aAAgBqF,UACd,IACEJ,GAAQ,GACR,MAAM,KAAExJ,SAAe6J,KAAMC,IAC1B,GAAEjD,mBAA4BjI,EAASQ,OAAOka,EAAIpR,eACjDwR,EAAgB,KAIpB,GAA8B,IAA1BD,EAAehO,OACjBmO,EAAW5Z,GACXwJ,GAAQ,OACH,CACL,MAAM+B,OA9BQ3B,UACX,IAAIsQ,SAASC,IAClB,MAAM5O,EAAM,GAEZ,IAAK,IAAIhK,KAAMkY,EAAgB,CAC7BpW,QAAQC,IAAI,UACZ,IAAK,IAAIvB,KAAK/B,EACRuB,IAAOQ,EAAEqY,MAAMH,KACjB1O,EAAIxL,KAAKgC,GAIfsB,QAAQC,IAAI,QACZ6W,EAAQ5O,MAiBY8O,CAAYra,GAE9B4Z,EAAWrO,GACX/B,GAAQ,IAEV,MAAOpG,GACPC,QAAQC,IAAIF,EAAMV,YAEnB,CAAC+W,IAGF,eAAC,WAAD,WACE,eAACa,GAAA,EAAD,CAAUzZ,GAAI,CAAE,QAAS,CAAE0Z,aAAc,UAAzC,UACE,cAACC,GAAA,EAAD,UACE,cAACvZ,EAAA,EAAD,CACE,aAAW,aACX4W,KAAK,QACL3W,QAAS,IAAMzC,GAASD,GAH1B,SAKGA,EAAO,cAAC,KAAD,IAA0B,cAAC,KAAD,QAGtC,cAACgc,GAAA,EAAD,CAAW5S,UAAU,KAAK6S,MAAM,MAAhC,SACGnB,EAAIoB,SAEP,cAACF,GAAA,EAAD,CAAWtC,MAAM,SAAjB,SAA2BoB,EAAIpR,cAEF,IAA5BsR,EAAiB/N,QAChB8N,EAAYzX,KAAI,CAACC,EAAGC,IAClB,cAAC,WAAD,WACsB,IAAnB+X,EAAWhY,GACV,cAACyY,GAAA,EAAD,CAA2BtC,MAAM,SAAjC,SACGoB,EAAIO,SAASE,EAAWhY,IAAI4Y,OADf5Y,EAAE+X,SAIlB,cAACU,GAAA,EAAD,CAA2BtC,MAAM,SAAjC,cAAgBnW,EAAE+X,UAND/X,EAAE+X,WAYE,IAA5BN,EAAiB/N,QAChB+N,EAAiB1X,KAAI,CAACC,EAAGC,IACvB,cAAC,WAAD,WACsB,IAAnB+X,EAAWhY,GACV,cAACyY,GAAA,EAAD,CAA2BtC,MAAM,SAAjC,SACGoB,EAAIO,SAASE,EAAWhY,IAAI4Y,OADf5Y,EAAE+X,SAIlB,cAACU,GAAA,EAAD,CAA2BtC,MAAM,SAAjC,cAAgBnW,EAAE+X,UAND/X,EAAE+X,cAa7B,cAACQ,GAAA,EAAD,UACE,cAACE,GAAA,EAAD,CAAWtY,MAAO,CAAE0Y,cAAe,EAAGjV,WAAY,GAAKkV,QAAS,EAAhE,SACE,cAACC,GAAA,EAAD,CAAUC,GAAIvc,EAAMwc,QAAQ,OAAOC,eAAa,EAAhD,SACE,eAAChZ,EAAA,EAAD,CAAKpB,GAAI,CAAE/F,OAAQ,GAAnB,UACE,cAACuK,GAAA,EAAD,CAAYR,QAAQ,KAAKhE,GAAI,CAAEqa,GAAI,GAAKtT,UAAU,MAAlD,qBAGA,eAACuT,GAAA,EAAD,CAAOtD,KAAK,QAAQ,aAAW,YAA/B,UACE,cAACuD,GAAA,EAAD,UACE,eAACd,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,sBACA,cAACA,GAAA,EAAD,CAAWtC,MAAM,QAAjB,qBACA,cAACsC,GAAA,EAAD,CAAWtC,MAAM,QAAjB,wBAGJ,cAACmD,GAAA,EAAD,WACI9R,GACAoQ,EAAQ7X,KAAI,CAACwZ,EAAYvW,IACvB,eAACuV,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,CACE3Z,GAAI,CAAE0a,YAAa,EAAGxgB,QAAS,QAC/B6M,UAAU,KACV6S,MAAM,MAHR,SAKGra,IAAOkb,EAAW3Y,WAAWmF,OAC5B,4BAGJ,cAAC0S,GAAA,EAAD,CAAW3Z,GAAI,CAAE0a,YAAa,EAAGxgB,QAAS,QAA1C,SACGugB,EAAWzT,UAEd,cAAC2S,GAAA,EAAD,CACE3Z,GAAI,CAAE0a,YAAa,EAAGxgB,QAAS,QAC/Bmd,MAAM,QAFR,SAIGoD,EAAWxB,QAAQ0B,cAEtB,cAAChB,GAAA,EAAD,CACE3Z,GAAI,CAAE0a,YAAa,EAAGxgB,QAAS,QAC/Bmd,MAAM,QAFR,SAIGoD,EAAWlB,MAAMqB,cAvBP1W,EAAQ,UA6B9BwE,GACC,cAACtH,EAAA,EAAD,CACEpB,GAAI,CACFC,QAAS,OACTC,eAAgB,SAChB7F,MAAO,OACPggB,GAAI,GALR,SAQE,cAACQ,GAAA,EAAD,CAAkB7a,GAAI,CAAEtE,SAAU,oBAWpD,MAAMof,GAAezU,GAEjB,cAAC0U,GAAA,EAAD,CAAgBhU,UAAWmL,KAA3B,SACE,eAACoI,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,eAACd,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,IACA,cAACA,GAAA,EAAD,wBACA,cAACA,GAAA,EAAD,CAAWtC,MAAM,SAAjB,0BACmC,IAAlChR,EAAMsS,iBAAiB/N,QACtBvE,EAAMqS,YAAYzX,KAAI,CAACgY,EAAS/U,IAC9B,cAACyV,GAAA,EAAD,CAA6BtC,MAAM,SAAnC,SACG4B,EAAQ0B,aADK1B,EAAQG,OAIO,IAAlC/S,EAAMsS,iBAAiB/N,QACtBvE,EAAMsS,iBAAiB1X,KAAI,CAACgY,EAAS/U,IACnC,cAACyV,GAAA,EAAD,CAA6BtC,MAAM,SAAnC,SACG4B,EAAQ0B,aADK1B,EAAQG,YAMhC,cAACoB,GAAA,EAAD,UACGnU,EAAM2U,UAAU/Z,KAAKwX,GACpB,cAACD,GAAD,CAEEC,IAAKA,EACLC,YAAarS,EAAMqS,YACnBC,iBAAkBtS,EAAMsS,iBACxBC,eAAgBvS,EAAMuS,eACtBC,cAAexS,EAAMwS,eALhBJ,EAAIpR,sBAcR3D,cAAWoX,I,wCClO1B,MAEMG,GAAY,CAChBC,WAAY,CACV7Z,MAAO,CACL8Z,UAAWC,OAKXC,GAAiBhV,GAEnB,eAACiV,GAAA,EAAD,CAAatX,QAAQ,WAAWhE,GAAI,CAAE3F,MAAO,QAASkhB,GAAI,GAA1D,UACE,cAACC,GAAA,EAAD,CAAY9a,GAAG,gBAAf,sBACA,cAAC+a,GAAA,EAAD,CACE/a,GAAG,gBACHgb,UAAQ,EACR7I,MAAOxM,EAAMsV,qBACbhJ,SAAUtM,EAAMuV,oBAChBC,MAAO,cAACC,GAAA,EAAD,CAAezF,MAAM,aAC5B0F,YAAc/T,GAAaA,EAASgU,KAAK,MACzCf,UAAWA,GAPb,SASG5U,EAAM4V,aAAahb,KAAKgY,GACvB,eAAClG,GAAA,EAAD,CAA4BF,MAAOoG,EAAQG,IAA3C,UACE,cAACzC,GAAA,EAAD,CACE5B,QAAS1O,EAAMsV,qBAAqBO,QAAQjD,EAAQG,MAAQ,IAE9D,cAACxX,EAAA,EAAD,CAAc3G,QAASge,EAAQ0B,gBAJlB1B,EAAQG,YAYlB1V,WAAMwD,KAAKmU,ICpC1B,MAEMJ,GAAY,CAChBC,WAAY,CACV7Z,MAAO,CACL8Z,UAAWC,OAKXe,GAAgB9V,GAElB,eAACiV,GAAA,EAAD,CAAatX,QAAQ,WAAWhE,GAAI,CAAE3F,MAAO,QAASkhB,GAAI,GAA1D,UACE,cAACC,GAAA,EAAD,6BACA,cAACC,GAAA,EAAD,CACEpF,MAAM,iBACNqF,UAAQ,EACR7I,MAAOxM,EAAM+V,gBACbzJ,SAAUtM,EAAMgW,qBAChBR,MAAO,cAACC,GAAA,EAAD,CAAezF,MAAM,mBAC5B0F,YAAc/T,GAAaA,EAASgU,KAAK,MACzCf,UAAWA,GAPb,SASG5U,EAAMiW,cAAcrb,KAAI,CAAC4Y,EAAQ1Y,IAChC,eAAC4R,GAAA,EAAD,CAEEF,MAAQ,GAAEgH,EAAO9O,cAAc8O,EAAOxS,cAFxC,UAIE,cAACsP,GAAA,EAAD,CACE5B,QACE1O,EAAM+V,gBAAgBF,QACnB,GAAErC,EAAO9O,cAAc8O,EAAOxS,gBAC5B,IAGT,cAACzF,EAAA,EAAD,CACE3G,QAAU,GAAE4e,EAAO9O,gBAAgB8O,EAAOxS,kBAXvCwS,EAAOT,YAoBT1V,WAAMwD,KAAKiV,IC9C1B,MAAMI,GAAelW,IACnB,MAAOmW,EAAWC,GAAgB/Y,IAAMlG,UAAS,IAC1CG,EAAMC,GAAW8F,IAAMlG,UAAS,GAEvCkG,IAAMtF,WAAU,KACa,OAAvBiI,EAAMqW,cACRD,EAAgD,IAAnCpW,EAAMqW,aAAaC,eAEjC,CAACtW,EAAMqW,eAQV,OAFAla,QAAQC,IAAI+Z,GAGV,eAAC,IAAMI,SAAP,WACE,eAACtB,GAAA,EAAD,CAAatX,QAAQ,WAAWhE,GAAI,CAAE3F,MAAO,QAASkhB,GAAI,GAA1D,UACE,cAACC,GAAA,EAAD,oBACA,cAACC,GAAA,EAAD,CACE5I,MAAOxM,EAAMwS,cACblG,SACE6J,EACI,KAbZ5e,GAAQ,IAcK0M,GAAMjE,EAAMwW,iBAAiBvS,EAAEsI,OAAOC,OAE7CwD,MAAM,QAPR,SASGhQ,EAAMyW,OAAO7b,KAAI,CAAC8b,EAAO5b,IACxB,cAAC4R,GAAA,EAAD,CAAU/S,GAAI,CAAEgT,GAAI,IAAK3O,GAAI,GAAawO,MAAOkK,EAAjD,SACGA,GADoC5b,UAM7C,cAACqS,GAAA,EAAD,CACE5S,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CnD,KAAMA,EACN8V,iBAAkB,IAClB9S,QAAS,IAAM/C,GAAQ,GAJzB,SAME,cAAC8V,GAAA,EAAD,CACE/S,QAAS,IAAM/C,GAAQ,GACvB+V,SAAS,QACT3P,QAAQ,SACRhE,GAAI,CAAE3F,MAAO,QAJf,0EAaOqJ,WAAMwD,KAAKqV,ICtD1B,MAEMtB,GAAY,CAChBC,WAAY,CACV7Z,MAAO,CACL8Z,UAAWC,OAIX4B,GAAe3W,GAEjB,eAACiV,GAAA,EAAD,CAAatX,QAAQ,WAAWhE,GAAI,CAAE3F,MAAO,QAASkhB,GAAI,GAA1D,UACE,cAACC,GAAA,EAAD,CAAY9a,GAAG,gBAAf,oBACA,cAAC+a,GAAA,EAAD,CACE/a,GAAG,gBACHgb,UAAQ,EACR7I,MAAOxM,EAAM4W,mBACbtK,SAAUtM,EAAM6W,kBAChBrB,MAAO,cAACC,GAAA,EAAD,CAAezF,MAAM,WAC5B0F,YAAc/T,GAAaA,EAASgU,KAAK,MACzCf,UAAWA,GAPb,SASG5U,EAAM8W,WAAWlc,KAAI,CAACsY,EAAOpY,IAC5B,eAAC4R,GAAA,EAAD,CAA0BF,MAAO0G,EAAMH,IAAvC,UACE,cAACzC,GAAA,EAAD,CACE5B,QAAS1O,EAAM4W,mBAAmBf,QAAQ3C,EAAMH,MAAQ,IAE1D,cAACxX,EAAA,EAAD,CAAc3G,QAASse,EAAMqB,cAJhBrB,EAAMH,YAYhB1V,WAAMwD,KAAK8V,I,qBCvC1B,MAAMI,GAAe,CACjBC,WAAY,KACZC,cAAe,GACfC,KAAM,IAGJC,GAAU,CAAC9M,EAAO+M,KACpB,GAAoB,8BAAhBA,EAAOnP,KAAsC,CAC7C,MAAM,WAAE+O,EAAF,cAAcC,GAAkBG,EAAOjP,QAC7C,MAAO,IACAkC,EACH2M,aACAC,gBACAI,eAAe,GAIvB,GAAoB,mBAAhBD,EAAOnP,KAA2B,CAClC9L,QAAQC,IAAI,UAAWgb,EAAOjP,SAC9B,MAAM,KAAE+O,GAASE,EAAOjP,QACxB,MAAO,IACAkC,EACH6M,QAIR,GAAoB,oBAAhBE,EAAOnP,KAA4B,CACnC9L,QAAQC,IAAI,UAAWgb,EAAOjP,SAC9B,MAAM,QAAEmP,GAAYF,EAAOjP,QAC3B,MAAO,IACAkC,EACH6M,KAAM,IAAK7M,EAAM6M,KAAMI,YAI/B,OAAOjN,GAGEkN,GAAsBC,wBAAc,IAC1CT,KAGMU,GAAwBzX,IACjC,MAAM,SAAE0X,GAAa1X,GACdqK,EAAOrC,GAAY2P,qBAAWR,GAASJ,IAE9Chf,qBAAU2K,UACNkV,YAAmBlhB,GAAMgM,UACrB,IACI,MAAMmV,EAAM7U,YAAIzM,EAAI,iBAAkBwK,EAAK7I,KACrCU,QAAaqW,YAAO4I,GAE1B,IAAIngB,EAEJ,GAAIkB,EAAKsK,SAAU,CACf,MAAMpK,EAAOF,EAAKE,OAClBpB,EAAW,CACPQ,IAAKY,EAAKZ,IACV6Z,YAAc,GAAEjZ,EAAKqY,aAAarY,EAAKuY,WACvC1G,MAAO7R,EAAK6R,WAEb,CACH,MAAMmN,EAAS/W,EAAK4J,MACpBxO,QAAQC,IAAI0b,GACZ,MAAM,KAAEhf,SAAe6J,KAAMC,IACxB,GAAEjD,gBAAyBmY,MAG1B,UAAE7W,GAAcnI,EAEhB+e,EAAM7U,YAAIzM,EAAI,iBAAkB0K,GAChCrI,QAAaqW,YAAO4I,GAE1B,GAAIjf,EAAKsK,SAAU,CACf,MAAMpK,EAAOF,EAAKE,OAClBpB,EAAW,CACPQ,IAAKY,EAAKZ,IACV6Z,YAAc,GAAEjZ,EAAKqY,aAAarY,EAAKuY,WACvC1G,MAAO7R,EAAK6R,QAKxB,GAAIjT,EAAU,CACV,MAAMqgB,QAAiBC,EAActgB,GACrC,GAAIqgB,EAAU,CACV,MAAMd,QAAsBgB,EAAkB,OAC1CF,QAD0C,IAC1CA,OAD0C,EAC1CA,EAAU1d,IAEd2N,EAAS,CACLC,KAAM,4BACNE,QAAS,CACL6O,WAAU,OAAEe,QAAF,IAAEA,OAAF,EAAEA,EAAU1d,GACtB4c,cAAeA,WAK3BjP,EAAS,CACLC,KAAM,4BACNE,QAAS,CACL6O,WAAY,KACZC,cAAe,MAI7B,MAAO/a,GACLC,QAAQC,IAAIF,EAAMV,SAClBwM,EAAS,CACLC,KAAM,4BACNE,QAAS,CACL6O,WAAY,KACZC,cAAe,YAKhC,CAACjP,IAEJ,MAAMgQ,EAAgBtV,OAASxK,MAAK6Z,cAAapH,YAC7C,MAMM1W,EAAO,CACTikB,OAAQhgB,EACRkM,KAAM2N,EACNpH,UAGE,KAAE7R,SAAe6J,KAAM2F,KACxB,GAAE3I,qBACH1L,EAdW,CACXoU,QAAS,CACL,eAAgB,sBAgBxB,OAAOvP,GAGLmf,EAAqBvV,UACvBvG,QAAQC,IAAI4a,GACZ,MAAM,KAAEle,SAAe6J,KAAMC,IACxB,GAAEjD,oBAA6BqX,KAEpC,OAAOle,EAAKqf,QAGhB,OACI,cAACZ,GAAoBa,SAArB,CAA8B5L,MAAO,CAAEnC,QAAOrC,YAA9C,SACK0P,KAKAW,GAAuBd,GAAoBe,SChK3CC,GAAkB,IAAMC,qBAAWjB,ICMnCkB,GAAyB/V,UAClC,IAAIgW,EAEJ,GAAmC,IAA/BrO,EAAM4M,cAAc1S,OACpB,IAAK,IAAIoU,KAAT,OAAgBtO,QAAhB,IAAgBA,GAAhB,UAAgBA,EAAO4M,qBAAvB,aAAgB,EAAsBne,KAAM,CAAC,IAAD,EACxC,GAAmB,WAAf6f,EAAIC,OAAqB,CACzBF,EAAqBC,EACrB,OAKZ,GAAID,EAAoB,CACpB,MAAMG,OAnBKnW,WACf,MAAM,KAAE5J,SAAe6J,KAAMC,IAAK,GAAEjD,0BAEpC,OAAO7G,EAAKggB,QAgBYC,GACdC,EACe,IAAjBH,EAAMtU,OACAsU,EAAM/O,QAAQjP,GAAMA,EAAER,KAAOqe,EAAmBO,KAAK5e,KACrD,GAEV,GAAuB,IAAnB2e,EAAQzU,OAAc,CACtB,MAAM0U,EAAOD,EAAQ,GACfE,EAAcD,EAAKE,QAAQ/U,KAiBjC,MAfY,CACRgV,OAAQH,EAAK5e,GACb6e,cACAG,UAAWJ,EAAKE,QAAQ9e,GACxBif,aACoB,aAAhBJ,EAA6BK,OAAOC,UAAY,GACpDC,YACoB,aAAhBP,EACMR,EAAmBgB,SACnBH,OAAOC,UACjBG,WAA4B,aAAhBT,EAA6BK,OAAOC,UAAY,EAC5DI,WAA4B,aAAhBV,EAA6BK,OAAOC,UAAY,EAC5DlD,YAA6B,aAAhB4C,EAA6BK,OAAOC,UAAY,IAOzE,OAAO,MC/BX,SAASrH,GAAInS,GACX,MAAM,IACJoS,EADI,YAEJC,EAFI,iBAGJC,EAHI,eAIJC,EAJI,cAKJC,GACExS,GACGyS,EAASC,GAAcrV,WAAe,KACtCgF,EAAMC,GAAWjF,YAAe,GAEjC3F,EAAWC,eAAeC,QAAQ,YACpCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEEyM,EAAM+N,EAAIO,SAAS/X,KAAKC,GAAMA,EAAE+X,UAEhCC,EAAchY,GACRwJ,EAAIyO,WAAW7O,GAAMA,IAAMpJ,EAAEkY,MA4CzC,OAvBA1V,aAAgBqF,UACd,IACEJ,GAAQ,GACR,MAAM,KAAExJ,SAAe6J,KAAMC,IAC1B,GAAEjD,mBAA4BjI,EAASQ,OAAOka,EAAIpR,eACjDwR,EAAgB,KAIpB,GAA8B,IAA1BD,EAAehO,OACjBmO,EAAW5Z,GACXwJ,GAAQ,OACH,CACL,MAAM+B,OA9BQ3B,UACX,IAAIsQ,SAASC,IAClB,MAAM5O,EAAM,GAEZ,IAAK,IAAIhK,KAAMkY,EAAgB,CAC7BpW,QAAQC,IAAI,UACZ,IAAK,IAAIvB,KAAK/B,EACRuB,IAAOQ,EAAEqY,MAAMH,KACjB1O,EAAIxL,KAAKgC,GAIfsB,QAAQC,IAAI,QACZ6W,EAAQ5O,MAiBY8O,CAAYra,GAE9B4Z,EAAWrO,GACX/B,GAAQ,IAEV,MAAOpG,GACPC,QAAQC,IAAIF,EAAMV,YAEnB,CAAC+W,IAGF,eAAC,WAAD,WACE,eAACa,GAAA,EAAD,CAAUzZ,GAAI,CAAE,QAAS,CAAE0Z,aAAc,UAAzC,UACE,cAACC,GAAA,EAAD,IACA,cAACA,GAAA,EAAD,CAAW5S,UAAU,KAAK6S,MAAM,MAAhC,SACGnB,EAAIoB,SAEP,cAACF,GAAA,EAAD,CAAWtC,MAAM,SAAjB,SAA2BoB,EAAIpR,cAEF,IAA5BsR,EAAiB/N,QAChB8N,EAAYzX,KAAI,CAACC,EAAGC,IAClB,cAAC,WAAD,WACsB,IAAnB+X,EAAWhY,GACV,cAACyY,GAAA,EAAD,CAA2BtC,MAAM,SAAjC,SACGoB,EAAIO,SAASE,EAAWhY,IAAI4Y,OADf5Y,EAAE+X,SAIlB,cAACU,GAAA,EAAD,CAA2BtC,MAAM,SAAjC,cAAgBnW,EAAE+X,UAND/X,EAAE+X,WAYE,IAA5BN,EAAiB/N,QAChB+N,EAAiB1X,KAAI,CAACC,EAAGC,IACvB,cAAC,WAAD,WACsB,IAAnB+X,EAAWhY,GACV,cAACyY,GAAA,EAAD,CAA2BtC,MAAM,SAAjC,SACGoB,EAAIO,SAASE,EAAWhY,IAAI4Y,OADf5Y,EAAE+X,SAIlB,cAACU,GAAA,EAAD,CAA2BtC,MAAM,SAAjC,cAAgBnW,EAAE+X,UAND/X,EAAE+X,cAa7B,cAACQ,GAAA,EAAD,UACE,cAACE,GAAA,EAAD,CAAWtY,MAAO,CAAE0Y,cAAe,EAAGjV,WAAY,GAAKkV,QAAS,EAAhE,SACE,eAAC5Y,EAAA,EAAD,CAAKpB,GAAI,CAAE/F,OAAQ,GAAnB,UACE,cAACuK,GAAA,EAAD,CAAYR,QAAQ,KAAKhE,GAAI,CAAEqa,GAAI,GAAKtT,UAAU,MAAlD,qBAGA,eAACuT,GAAA,EAAD,CAAOtD,KAAK,QAAQ,aAAW,YAA/B,UACE,cAACuD,GAAA,EAAD,UACE,eAACd,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,sBACA,cAACA,GAAA,EAAD,CAAWtC,MAAM,QAAjB,qBACA,cAACsC,GAAA,EAAD,CAAWtC,MAAM,QAAjB,wBAGJ,cAACmD,GAAA,EAAD,WACI9R,GACAoQ,EAAQ7X,KAAI,CAACwZ,EAAYvW,IACvB,eAACuV,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,CACE3Z,GAAI,CAAE0a,YAAa,EAAGxgB,QAAS,QAC/B6M,UAAU,KACV6S,MAAM,MAHR,SAKGra,IAAOkb,EAAW3Y,WAAWmF,OAC5B,4BAGJ,cAAC0S,GAAA,EAAD,CAAW3Z,GAAI,CAAE0a,YAAa,EAAGxgB,QAAS,QAA1C,SACGugB,EAAWzT,UAEd,cAAC2S,GAAA,EAAD,CACE3Z,GAAI,CAAE0a,YAAa,EAAGxgB,QAAS,QAC/Bmd,MAAM,QAFR,SAIGoD,EAAWxB,QAAQ0B,cAEtB,cAAChB,GAAA,EAAD,CACE3Z,GAAI,CAAE0a,YAAa,EAAGxgB,QAAS,QAC/Bmd,MAAM,QAFR,SAIGoD,EAAWlB,MAAMqB,cAvBP1W,EAAQ,UA6B9BwE,GACC,cAACtH,EAAA,EAAD,CACEpB,GAAI,CACFC,QAAS,OACTC,eAAgB,SAChB7F,MAAO,OACPggB,GAAI,GALR,SAQE,cAACQ,GAAA,EAAD,CAAkB7a,GAAI,CAAEtE,SAAU,kBAUlD,MAAMof,GAAezU,GAEjB,cAAC0U,GAAA,EAAD,CAAgBmF,QAAM,EAACnZ,UAAWmL,KAAlC,SACE,eAACoI,GAAA,EAAD,CAAO5Z,GAAI2F,EAAM3F,GAAjB,UACE,cAAC6Z,GAAA,EAAD,UACE,eAACd,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,IACA,cAACA,GAAA,EAAD,wBACA,cAACA,GAAA,EAAD,CAAWtC,MAAM,SAAjB,0BACmC,IAAlChR,EAAMsS,iBAAiB/N,QACtBvE,EAAMqS,YAAYzX,KAAI,CAACgY,EAAS/U,IAC9B,cAACyV,GAAA,EAAD,CAA6BtC,MAAM,SAAnC,SACG4B,EAAQ0B,aADK1B,EAAQG,OAIO,IAAlC/S,EAAMsS,iBAAiB/N,QACtBvE,EAAMsS,iBAAiB1X,KAAI,CAACgY,EAAS/U,IACnC,cAACyV,GAAA,EAAD,CAA6BtC,MAAM,SAAnC,SACG4B,EAAQ0B,aADK1B,EAAQG,YAMhC,cAACoB,GAAA,EAAD,UACGnU,EAAM2U,UAAU/Z,KAAKwX,GACpB,cAAC,GAAD,CAEEA,IAAKA,EACLC,YAAarS,EAAMqS,YACnBC,iBAAkBtS,EAAMsS,iBACxBC,eAAgBvS,EAAMuS,eACtBC,cAAexS,EAAMwS,eALhBJ,EAAIpR,sBAcR3D,cAAWoX,IClN1B,MAAMgC,GAAS,CACX,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YA0OWqD,OAvOA,KACX,MAAOnF,EAAWoF,GAAgB5iB,mBAAS,KAEpCme,EAAsB0E,GAA2B7iB,mBAAS,KAC1Dob,EAAgB0H,GAAqB9iB,mBAAS,KAC9Cmb,EAAkB4H,GAAuB/iB,mBAAS,KAClD4e,EAAiBoE,GAAsBhjB,mBAAS,KAChDqb,EAAegE,GAAoBrf,mBACtCsf,IAAO,IAAItd,MAAOkK,cAEf+W,EAASC,GAAcljB,oBAAS,IAChCmjB,EAAcC,GAAmBpjB,mBAAS,KAG1Ckf,EAAcmE,GAAmBrjB,mBAAS,MAE3CO,EAAWC,eAAeC,QAAQ,YAClCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEAuS,EAAUC,aAAaC,GAAUA,EAAMF,WACvC,WAAEG,GAAeH,EAEjBU,EAAST,aAAaC,GAAUA,EAAMQ,UACtC,UAAE4P,GAAc5P,EAChB8H,EAAWvI,aAAaC,GAAUA,EAAMsI,YACxC,YAAEN,GAAgBM,GAElB,MAAEtI,GAAUkO,KAEZ/gB,EAAWC,cAEjBM,qBAAU,KACYJ,eAAeC,QAAQ,cAGrCJ,EAAS,YAEd,IAEHO,qBAAU,KACN,GAAiB,OAAbL,EAAmB,CACnB2iB,GAAW,GACO3X,WACd,MAAM,KAAE5J,SAAe6J,KAAMC,IACxB,GAAEjD,qBAA8BjI,EAASQ,OACtCue,GAAOZ,QAAQrD,GAAiB,KAIxCrW,QAAQC,IAAItD,GACZihB,EAAajhB,GACbuhB,GAAW,IAGfK,MAEL,CAAClI,IAEJza,qBAAU,KACiB2K,WACnB,MAAM4U,QAAgBmB,GAAuBpO,GAC7CmQ,EAAgBlD,IAGpBqD,KACD,IA8DH,OAjCA5iB,qBAAU2K,UACN2X,GAAW,GACX,IAAI1H,EAAW,GACqB,IAAhC2C,EAAqB/Q,OACrB+Q,EAAqB3c,SAASkC,IAC1B,MACMsQ,EADOkH,EACUvI,QAAQjE,GAASA,EAAKkN,MAAQlY,IACrD8X,EAAS9Z,QAAQsS,MAGrBwH,EAAWN,EAGf6H,EAAoBvH,GACpB,IAAIxI,EAAU,GACd,GAA+B,IAA3B4L,EAAgBxR,OAAc,CAC9B,MAAMqW,EAAOjG,EACboB,EAAgBpd,SAAQ,CAACkC,EAAGC,KACxB,MAAM+f,EAAShgB,EAAEvB,MAAM,OAAO,GACxB6R,EAAYyP,EAAK9Q,QAClBjE,GAASA,EAAK7E,cAAgB6Z,IAEnC1Q,EAAQtR,QAAQsS,WAGpBhB,EAAUwK,EAGd4F,EAAgBpQ,GAEhBkQ,GAAW,KACZ,CAACtE,EAAiBT,IAGjB,eAACva,EAAA,EAAD,CAAKpB,GAAI,CAAEgY,EAAG,GAAd,UACI,eAAC5W,EAAA,EAAD,CACIpB,GAAI,CACAC,QAAS,OACTC,eAAgB,WAChBC,IAAK,EACLoB,GAAI,GALZ,UAQI,cAAC,GAAD,CACIub,OAAQA,GACRjE,cAAeA,EACfgE,iBAAkBA,EAClBH,aAAcA,IAGlB,cAAC,GAAD,CACId,oBA7EY7S,UACxB,MACI6J,QAAQ,MAAEC,IACVvS,EACJ+f,EACqB,kBAAVxN,EAAqBA,EAAMlT,MAAM,KAAOkT,IAyEvC8I,qBAAsBA,EACtBM,aAAcvD,IAGlB,cAAC,GAAD,CACIwE,kBAzEUnU,UACtB,MACI6J,QAAQ,MAAEC,IACVvS,EACJggB,EAAmC,kBAAVzN,EAAqBA,EAAMlT,MAAM,KAAOkT,IAsErDoK,mBAAoBrE,EACpBuE,WAAY2D,IAGhB,cAAC,GAAD,CACIzE,qBAvEc/b,IAC1B,MACIsS,QAAQ,MAAEC,IACVvS,EACJkgB,EAAoC,kBAAV3N,EAAqBA,EAAMlT,MAAM,KAAOkT,IAoEtDuJ,gBAAiBA,EACjBE,cAAe3L,IAGnB,cAACiG,GAAA,EAAD,CAAQ5S,QAAQ,WAAWhE,GAAI,CAAEgY,EAAG,GAApC,SACI,cAAC,KAAD,CACItX,GAAG,wBACHygB,MAAM,eACNC,SAAS,SACTC,MAAM,WACNtgB,UAAU,aACVugB,WAAW,gBAKvB,cAAClgB,EAAA,EAAD,CAAKpB,GAAI,CAAEqa,GAAI,GAAf,SACMoG,EAcE,cAACrf,EAAA,EAAD,CACIpB,GAAI,CACAC,QAAS,OACTC,eAAgB,SAChBqB,GAAI,SAJZ,SAOI,cAACsZ,GAAA,EAAD,CAAkBra,MAAM,cApB5B,cAAC,GAAD,CACIwa,UAC+B,IAA3BoB,EAAgBxR,OACVoQ,EACA2F,EAEVjgB,GAAG,eACHgY,YAAaA,EACbC,iBAAkBA,EAClBC,eAAgBA,EAChBC,cAAeiE,GAAOZ,QAAQrD,OAc1C,cAACzX,EAAA,EAAD,CAAKpB,GAAI,CAAEqa,GAAI,GAAf,SACMoG,EAcE,cAACrf,EAAA,EAAD,CACIpB,GAAI,CACAC,QAAS,OACTC,eAAgB,SAChBqB,GAAI,SAJZ,SAOI,cAACsZ,GAAA,EAAD,CAAkBra,MAAM,cApB5B,cAAC+gB,GAAD,CACIvG,UAC+B,IAA3BoB,EAAgBxR,OACVoQ,EACA2F,EAEVjgB,GAAG,eACHgY,YAAaA,EACbC,iBAAkBA,EAClBC,eAAgBA,EAChBC,cAAeiE,GAAOZ,QAAQrD,W,UC7BvC2I,OAhMM,KACjB,MAAOrR,EAAQC,GAAa5S,mBAAS,QAC9BikB,EAAkBC,GAAuBlkB,mBAAS,KAClDmkB,EAAYC,GAAiBpkB,mBAAS,IAUvC4B,GARWpB,eAAeC,QAAQ,aAClCC,KAAKC,MAAMH,eAAeC,QAAQ,aAOvBoB,IACb,MAAMC,EAAMC,IAAO,IAAIC,KAAW,IAANH,IAAaI,UAEzC,OAAQH,GACJ,IAAK,mBAEL,IAAK,oBACD,MAAO,UACX,IAAK,eACD,MAAO,KACX,IAAK,cACD,MAAO,KACX,IAAK,YACD,MAAO,OACX,QACI,MAAMI,EAAQJ,EAAIK,MAAM,KAAK,GAC7B,IAAIC,EAAMN,EAAIK,MAAM,KAAK,GAUzB,MATY,YAARC,GAA6B,WAARA,IACrBA,EAAM,KAEE,UAARA,GAA2B,SAARA,IACnBA,EAAM,KAEE,SAARA,GAA0B,QAARA,IAClBA,EAAM,KAEHF,EAAQE,KAuD3B,OAhCAxB,qBAAU,KACN,MAAM6iB,EAAOQ,EACPI,GAAW,IAAIriB,MAAOJ,UAC5B,IAAIoS,EAAY,GAEhB,GAAe,UAAXrB,EACAqB,EAAYyP,EAAK9Q,QACZjP,GACG,IAAI1B,KAA2B,IAAtB0B,EAAEY,UAAUC,SAAgB+f,YACrC,IAAItiB,KAAKqiB,GAAUC,iBAExB,GAAe,cAAX3R,EAAwB,CAC/B,IAAI4R,EAAQ,IAAIviB,KAAKqiB,GAAUC,UAAY,EACvCC,GAAS,IACTA,EAAQ,GAAKA,GAEjB,MAAMC,EAAM,IAAIxiB,KAAKqiB,GAAUC,UAE/Btf,QAAQC,IAAIsf,EAAOC,GAEnBxQ,EAAYyP,EAAK9Q,QACZjP,GACG,IAAI1B,KAA2B,IAAtB0B,EAAEY,UAAUC,SAAgB+f,WAAaC,GAClD,IAAIviB,KAA2B,IAAtB0B,EAAEY,UAAUC,SAAgB+f,WAAaE,SAG1DxQ,EAAYyP,EAGhBW,EAAcpQ,KACf,CAACrB,IAGA,cAAC/O,EAAA,EAAD,CAAKpB,GAAI,CAAEC,QAAS,OAAQC,eAAgB,SAAU+hB,EAAG,GAAzD,SACI,eAAC/P,GAAA,EAAD,CACIlS,GAAI,CACA3F,MAAO,CAAE4b,GAAI,MAAOiM,GAAI,MAAOC,GAAI,OACnCnK,EAAG,EACH5M,aAAc,EACdgX,UAAW,GALnB,UAQI,cAAC9O,GAAA,EAAD,CACIC,UAAU,MACVrT,eAAe,gBACfF,GAAI,CAAEgY,EAAG,GAHb,SAKI,eAAC5W,EAAA,EAAD,CACIpB,GAAI,CACAC,QAAS,OACToD,cAAe,MACfnD,eAAgB,gBAChB+C,WAAY,SACZ5I,MAAO,QANf,UASI,cAAC+G,EAAA,EAAD,UACI,cAACoD,GAAA,EAAD,CAAYR,QAAQ,KAApB,6BAEJ,eAACsP,GAAA,EAAD,CAAOC,UAAU,MAAMtQ,WAAW,SAAlC,UACI,cAACuB,GAAA,EAAD,CAAYR,QAAQ,KAApB,uBACA,eAACsX,GAAA,EAAD,CACItX,QAAQ,WACRhE,GAAI,CAAE3F,MAAO,IAAKkhB,GAAI,GAF1B,UAII,cAACC,GAAA,EAAD,4BACA,eAACC,GAAA,EAAD,CACI5I,MAAO1C,EACPwC,SAzHJrS,IACxB8P,EAAU9P,EAAMsS,OAAOC,QAyHKwD,MAAM,gBAHV,UAKI,cAACtD,GAAA,EAAD,CAAUF,MAAO,MAAjB,iBACA,cAACE,GAAA,EAAD,CAAUF,MAAO,QAAjB,mBACA,cAACE,GAAA,EAAD,CAAUF,MAAO,YAAjB,qCASpB,eAAC7R,EAAA,EAAD,CAAMhB,GAAI,CAAE9F,QAAS,GAArB,UACgB,QAAXiW,GACGsR,EAAiBxgB,KAAI,CAACC,EAAGC,IACrB,gCACI,eAACG,EAAA,EAAD,CAAUtB,GAAI,CAAEuB,GAAI,KAApB,UACI,cAACC,EAAA,EAAD,UACI,cAACE,EAAA,EAAD,UACI,cAAC2gB,GAAA,EAAD,QAGR,cAACzgB,EAAA,EAAD,CACI3G,QAASiG,EAAEW,QACXxG,UACI+D,EAAQ8B,EAAEY,UAAUC,SACpB,YAIZ,cAACC,EAAA,EAAD,QAfQb,KAmBR,QAAXgP,GACGwR,EAAW1gB,KAAI,CAACC,EAAGC,IACf,gCACI,eAACG,EAAA,EAAD,CAAUtB,GAAI,CAAEuB,GAAI,KAApB,UACI,cAACC,EAAA,EAAD,UACI,cAACE,EAAA,EAAD,UACI,cAAC2gB,GAAA,EAAD,QAGR,cAACzgB,EAAA,EAAD,CACI3G,QAASiG,EAAEW,QACXxG,UACI+D,EAAQ8B,EAAEY,UAAUC,SACpB,YAIZ,cAACC,EAAA,EAAD,QAfQb,c,wCC3KxC,MAEM8Z,GAAY,CAChBC,WAAY,CACV7Z,MAAO,CACL8Z,UAAWC,IACX/gB,MAAO,OAwJEioB,OAnJWjc,IACxB,MAAM,kBACJkc,EADI,eAEJC,EAFI,eAGJ1W,EAHI,eAIJ2W,EAJI,WAKJxS,EALI,aAMJF,EANI,SAOJG,GACE7J,GAEGqc,EAAaC,GAAkBnlB,mBAAS,KAExCob,EAAgB0H,GAAqB9iB,mBAAS,IAE/C6Q,EAAWkC,cASjBnS,qBAAU,KACR,GAA8C,IAA1CwkB,OAAOC,QAAQ/W,GAAgBlB,OAAc,CAC/C+X,EAAe7W,EAAef,UAC9B,MAAMmG,EAASpF,EAAeoF,OAExBxG,EAAM,GACZwG,EAAOlS,SAASkC,GAAMwJ,EAAIxL,KAAKgC,EAAEkY,OACjCkH,EAAkB5V,MAEnB,CAACoB,IAgBJ,MAAMgX,EAAgB,KACpB,GAA2B,IAAvBJ,EAAY9X,OAGd,OAFAsF,EAAS,8BACTH,GAAa,GAGf,MAAMzV,EAAO,CACX8e,IAAKtN,EAAesN,IACpBrO,SAAU2X,EACVxR,OAAQ0H,GAGVvK,EnBZkB/T,IAASyO,MAAOsF,EAAUW,KAC5C,IACI,MAAMjJ,EAAS,CACX2I,QAAS,CACL,eAAgB,sBAIlB,KAAEvP,SAAe6J,KAAMiG,IACxB,GAAEjJ,mBACH1L,EACAyL,GAGJsI,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAGbnB,eAAekR,QACX,aACAhR,KAAKiR,UAAUH,IAAWwB,QAAQG,aAExC,MAAOpO,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,YmBddkhB,CAAazoB,IACtBqoB,EAAe,IACfrC,EAAkB,IAClBiC,GAAkB,IAwCpB,OACE,eAACS,GAAA,EAAD,CAAQrlB,KAAM6kB,EAAgB7hB,QAAS,IAAM4hB,GAAkB,GAA/D,UACE,cAACU,GAAA,EAAD,CAAajjB,GAAI,CAAEtE,SAAU,IAA7B,yBACA,eAACwnB,GAAA,EAAD,CAAeljB,GAAI,CAAE3F,MAAO,KAA5B,UACE,cAAC8X,GAAA,EAAD,CACEoE,WAAS,EACTtc,OAAO,QACPyG,GAAG,OACH2V,MAAM,YACN/H,KAAK,OACL8D,WAAS,EACTpO,QAAQ,WACR6O,MAAO6P,EACP/P,SAAWrI,GAAMqY,EAAerY,EAAEsI,OAAOC,SAE3C,eAACyI,GAAA,EAAD,CAAarhB,OAAO,SAASmY,WAAS,EAACpO,QAAQ,WAA/C,UACE,cAACwX,GAAA,EAAD,CAAY9a,GAAG,eAAf,0BACA,cAAC+a,GAAA,EAAD,CACE0H,QAAQ,eACR9M,MAAM,eACNxD,MAAO+F,EACPjG,SA5GYrS,IACpB,MACEsS,QAAQ,MAAEC,IACRvS,EACJggB,EAAmC,kBAAVzN,EAAqBA,EAAMlT,MAAM,KAAOkT,IAyGzD6I,UAAQ,EACRK,YAAc/T,GAAaA,EAASgU,KAAK,MACzCf,UAAWA,GAPb,SASGwH,EAAexhB,KAAKiL,GACnB,eAAC6G,GAAA,EAAD,CAAyBF,MAAO3G,EAAKkN,IAArC,UACE,cAACzC,GAAA,EAAD,CAAU5B,QAAS6D,EAAesD,QAAQhQ,EAAKkN,MAAQ,IACvD,cAACxX,EAAA,EAAD,CAAc3G,QAASiR,EAAK0O,cAFf1O,EAAKkN,eAQ5B,eAACgK,GAAA,EAAD,WACE,cAACxM,GAAA,EAAD,CAAQvW,QAAS,IAAMkiB,GAAkB,GAAzC,oBACA,cAAC3L,GAAA,EAAD,CAAQvW,QAAS,IAAMyiB,IAAvB,iC,uECnIR,MAAMO,GAAiBhd,IACrB,MAAM,QAAE2J,EAAF,MAAWzN,EAAX,KAAkB5E,EAAlB,uBAAwB2lB,GAA2Bjd,GAElDkd,EAAYC,GAAiBhmB,mBAAS,IAUvCgT,GARWxS,eAAeC,QAAQ,aACpCC,KAAKC,MAAMH,eAAeC,QAAQ,aAGpBD,eAAeC,QAAQ,cACrCC,KAAKC,MAAMH,eAAeC,QAAQ,cAGtBwS,aAAaC,GAAUA,EAAMF,YACvC,WAAEG,GAAeH,EAEjBnC,EAAWkC,cA4BXkT,EAAgBtkB,IpB0BFia,MoBzBlB/K,GpByBkB+K,EoBzBIja,EAAKia,IpByBDrQ,MAAOsF,EAAUW,KAC3C,UACUhG,KAAM0a,OAAQ,GAAE1d,oBAA6BoT,KAEnD/K,EAAS,CACLC,KAAMC,GACNC,QAAS4K,IAGbpb,eAAekR,QACX,aACAhR,KAAKiR,UAAUH,IAAWwB,QAAQG,aAExC,MAAOpO,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,eoBZzB,OACE,cAACT,EAAA,EAAD,UACE,cAAC2Z,GAAA,EAAD,CAAgBhU,UAAWmL,KAAOlS,GAAI,CAAEoiB,UAAW,GAAnD,SACE,eAAC9H,GAAA,EAAD,CAAOta,GAAI,CAAE2jB,SAAU,KAAvB,UACE,cAACpJ,GAAA,EAAD,UACE,eAACd,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,CAAWtC,MAAM,SAAjB,2BACA,cAACsC,GAAA,EAAD,CAAWtC,MAAM,SAAjB,0BACA,cAACsC,GAAA,EAAD,CAAWtC,MAAM,SAAjB,6BACA,cAACsC,GAAA,EAAD,CAAWtC,MAAM,SAAjB,yBAGJ,cAACmD,GAAA,EAAD,UACG7J,EAAW1P,KAAK9B,GACf,eAACsa,GAAA,EAAD,CAEEzZ,GAAI,CAAE,mCAAoC,CAAE4jB,OAAQ,IAFtD,UAIE,cAACjK,GAAA,EAAD,CAAW5S,UAAU,KAAK6S,MAAM,MAAhC,SACGza,EAAK4L,WAER,eAAC4O,GAAA,EAAD,CAAWtC,MAAM,SAAjB,iBAA+BlY,EAAKkI,eACZ,IAAvBlI,EAAK+R,OAAOtG,OACX,cAAC+O,GAAA,EAAD,CAAWtC,MAAM,SAAjB,gBAEA,cAACsC,GAAA,EAAD,CAAWtC,MAAM,SAAjB,SACGlY,EAAK+R,OAAOjQ,KAAI,CAACC,EAAGC,IACnB,qCACGD,EAAE0Z,UACFzZ,IAAMhC,EAAK+R,OAAOtG,OAAS,GAAK,mCAAG,cAM5C,eAAC+O,GAAA,EAAD,CAAWtC,MAAM,SAAjB,UAC2B,aAAxBlY,EAAK6K,gBACJ,cAAC6Z,GAAA,EAAD,CAAMxN,MAAM,WAAW7V,MAAM,YAEN,aAAxBrB,EAAK6K,gBACJ,cAAC6Z,GAAA,EAAD,CAAMxN,MAAM,WAAW7V,MAAM,UAEN,YAAxBrB,EAAK6K,gBACJ,cAAC6Z,GAAA,EAAD,CAAMxN,MAAM,UAAU7V,MAAM,eAGhC,eAACmZ,GAAA,EAAD,CAAWtC,MAAM,SAASrX,GAAI,CAAEgY,EAAG,GAAnC,UACE,cAAC5X,EAAA,EAAD,CACE0jB,KAAK,MACL,aAAW,OACXtjB,MAAM,UACNH,QAAS,IAAMijB,EAAuBnkB,GAJxC,SAME,cAAC,KAAD,MAEF,cAACiB,EAAA,EAAD,CAAYI,MAAM,QAAQH,QAAS,IAAMojB,EAAatkB,GAAtD,SACE,cAAC,KAAD,WAzCCA,EAAKia,iBAqDX1V,WAAMwD,KAAKmc,IC5I1B,MAAMxpB,GAAYC,aAAYa,IAAD,CACzBwZ,KAAM,CACF9Z,MAAO,OACP+Z,UAAWzZ,EAAMuI,QAAQ,QAM3B+X,GAAY,CACdC,WAAY,CACR7Z,MAAO,CACH8Z,UAAWC,IACX/gB,MAAO,OAgWJ0pB,OA3Va,KACxB,MAAMxgB,EAAU1J,KAEVkE,EAAWC,eAAeC,QAAQ,YAClCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEA0F,EAAY3F,eAAeC,QAAQ,aACnCC,KAAKC,MAAMH,eAAeC,QAAQ,cAClC,MAGC8M,EAAUiZ,GAAexmB,mBAAS,KAClC6J,EAAa4c,GAAkBzmB,mBAAS,KACxCob,EAAgB0H,GAAqB9iB,mBAAS,KAE9CglB,EAAgBD,GAAqB/kB,oBAAS,IAC9CsO,EAAgBC,GAAqBvO,mBAAS,KAC9C0mB,EAAiBC,GAAsB3mB,oBAAS,IAChD4mB,EAAgBC,GAAqB7mB,oBAAS,IAE9CsS,EAAWC,GAAgBvS,oBAAS,IACpC8mB,EAAYrU,GAAczS,mBAAS,OACnC+mB,EAAUrU,GAAY1S,mBAAS,OAE/Bkf,EAAcmE,GAAmBrjB,mBAAS,MAE3C6Q,EAAWkC,cACXW,EAAST,aAAaC,GAAUA,EAAMQ,UACtC,UAAE4P,GAAc5P,EAEhBV,EAAUC,aAAaC,GAAUA,EAAMF,WACvC,QAAER,EAAF,MAAWzN,EAAX,WAAkBoO,GAAeH,EAEjC3S,EAAWC,eACX,MAAE4S,GAAUkO,KAElBxgB,qBAAU,KACYJ,eAAeC,QAAQ,cAGrCJ,EAAS,YAEd,IAEHO,qBAAU,KACiB2K,WACnB,MAAM4U,QAAgBmB,GAAuBpO,GAC7CmQ,EAAgBlD,IAGpBqD,KACD,IAEH5iB,qBAAU2K,UAIN,GAHkB,OAAdpF,GAAmC,OAAb5F,GACtBsQ,EAASD,GAAWrQ,EAASQ,MAEf,OAAdoF,GAAmC,OAAb5F,EAAmB,CACzC,MAAM,KAAEoB,SAAe6J,KAAMC,IACxB,GAAEjD,gBAAyBrC,EAAUqN,SAE1C3C,EACII,GAAgB,CACZnH,UAAWvJ,EAASQ,IACpB0S,YAAa9R,EAAK+R,aAI/B,CAAC7C,IAEJjQ,qBAAU,KACF4R,IACAC,EAAWD,GACXD,GAAa,SAEHoD,IAAV5Q,IACA2N,EAAS3N,GACTwN,GAAa,MAElB,CAACC,EAASzN,IAEbnE,qBAAU2K,UACU,6BAAZiH,IAC2B,IAAvB3I,EAAYuD,eACN4Z,UACAC,KAGVR,EAAe,IACf3D,EAAkB,IAClB0D,EAAY,IACZG,GAAmB,MAExB,CAACnU,IAEJ,MAAMa,EAAmB,CAACvQ,EAAOyQ,KACd,cAAXA,IAIJhB,GAAa,GACbG,EAAS,MACTD,EAAW,QAaTuU,EAAsBzb,UACxB,MAAM2b,EAAapmB,YACf1B,EACA,kBACAyK,EACA,kBAEEsd,YAAOD,EAAY,CACrBjjB,cAAe,UACfmW,YAAa7Z,EAAS6Z,YACtBgN,iBAAkB7Z,EAClB8Z,OAAQ,CACJnkB,GAAI3C,EAASQ,IACb8Z,aAActa,EAASsa,cAE3BvW,UAAWgjB,IAAUC,QACtBziB,OAAOC,GAAUC,QAAQC,IAAIF,MAG9BkiB,EAA2B1b,UAC7B,MAAMic,EAAa1mB,YACf1B,EACA,8BACAyK,EACA,uBAEEsd,YAAOK,EAAY,CACrBnjB,QAAU,GAAE9D,EAAS6Z,8CACrBqH,OAAQ,UACR4F,OAAQ,CACJnkB,GAAI3C,EAASQ,IACb8Z,aAActa,EAASsa,cAE3BvW,UAAWgjB,IAAUC,MACrBE,MAAM,IACP3iB,OAAOC,GAAUC,QAAQC,IAAIF,MAG9B2iB,EAAenc,UACjB,GAAqB,OAAjB2T,EAGA,OAFAxM,EAAS,+DACTH,GAAa,GAEV,GAAIY,EAAW/F,SAAW8R,EAAaoD,YAK1C,OAJA5P,EACI,0EAEJH,GAAa,GAEV,GAA2B,KAAvB1I,EAAYuD,OAGnB,OAFAsF,EAAS,2CACTH,GAAa,GAEV,GAAwB,IAApBhF,EAASH,OAGhB,OAFAsF,EAAS,8BACTH,GAAa,GAIjB,MAAMzV,EAAO,CACTyQ,WACA1D,cACA6J,OAAQ0H,EACRtR,UAAWvJ,EAASQ,IACpByL,eAAgB,WrB9ONmb,MqBiPd9W,GrBjPc8W,EqBiPQ7qB,ErBjPKyO,MAAOsF,EAAUW,KAChD,IACI,MAAMjJ,EAAS,CACX2I,QAAS,CACL,eAAgB,qBAIlBpU,EAAO,CACTA,KAAM6qB,IAGJ,KAAEhmB,SAAe6J,KAAM2F,KACxB,GAAE3I,mBACH1L,EACAyL,GAGJsI,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAGbnB,eAAekR,QACX,aACAhR,KAAKiR,UAAUH,IAAWwB,QAAQG,aAExC,MAAOpO,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,eqB6NvB,OACI,eAACT,EAAA,EAAD,CAAKpB,GAAI,CAAE3F,MAAO,OAAQ2d,EAAG,GAA7B,UACI,uDACA,cAAC5W,EAAA,EAAD,CACIpB,GAAI,CACA3F,MAAO,OACP4F,QAAS,OACTC,eAAgB,WAChBmD,cAAe,MACflD,IAAK,GANb,SASI,cAACyW,GAAA,EAAD,CACI5S,QAAQ,YACRhE,GAAI,CACAgT,GAAI,KAER3S,QAAS,IAAM8jB,GAAmB,GALtC,8BAWJ,cAAC/iB,EAAA,EAAD,CAAKpB,GAAI,CAAEuB,GAAI,GAAf,SACI,cAAC6jB,GAAD,CACI9B,uBA/GgBpX,IACxBsW,EACAD,GAAkB,IAElBxW,EAAkBG,GAClBqW,GAAkB,KA2GV6B,eAAgBA,EAChBC,kBAAmBA,MAK3B,eAACrB,GAAA,EAAD,CACIrlB,KAAMumB,EACNvjB,QAAS,IAAMwjB,GAAmB,GAFtC,UAII,cAAClB,GAAA,EAAD,CAAajjB,GAAI,CAAEtE,SAAU,IAA7B,4BACA,cAACwnB,GAAA,EAAD,CAAeljB,GAAI,CAAE3F,MAAO,KAA5B,SACI,uBAAM0G,UAAWwC,EAAQ4Q,KAAMgC,YAAU,EAAzC,UACI,cAAChE,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,WACH2V,MAAM,YACN5L,KAAK,WACL6L,aAAa,OACbC,WAAS,EACT1D,MAAO9H,EACP4H,SAAWrI,GAAM0Z,EAAY1Z,EAAEsI,OAAOC,SAE1C,cAACV,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,cACH2V,MAAM,eACN5L,KAAK,cACLoI,MAAOxL,EACPsL,SAAWrI,GAAM2Z,EAAe3Z,EAAEsI,OAAOC,SAG7C,eAACyI,GAAA,EAAD,CACIrhB,OAAO,SACPmY,WAAS,EACTpO,QAAQ,WAHZ,UAKI,cAACwX,GAAA,EAAD,CAAY9a,GAAG,eAAf,0BAGA,cAAC+a,GAAA,EAAD,CACI0H,QAAQ,eACR9M,MAAM,eACNxD,MAAO+F,EACPjG,SAjFNrS,IAClB,MACIsS,QAAQ,MAAEC,IACVvS,EACJggB,EAAmC,kBAAVzN,EAAqBA,EAAMlT,MAAM,KAAOkT,IA8EzC6I,UAAQ,EACRK,YAAc/T,GAAaA,EAASgU,KAAK,MACzCf,UAAWA,GAPf,SASK6F,EAAU7f,KAAKiL,GACZ,eAAC6G,GAAA,EAAD,CAAyBF,MAAO3G,EAAKkN,IAArC,UACI,cAACzC,GAAA,EAAD,CACI5B,QACI6D,EAAesD,QACXhQ,EAAKkN,MACJ,IAGb,cAACxX,EAAA,EAAD,CACI3G,QAASiR,EAAK0O,cATP1O,EAAKkN,iBAiBxC,eAACgK,GAAA,EAAD,WACI,cAACxM,GAAA,EAAD,CAAQvW,QAAS,IAAM8jB,GAAmB,GAA1C,oBAGA,cAACvN,GAAA,EAAD,CAAQvW,QAAS,IAAM6kB,IAAvB,+BAKR,cAAC,GAAD,CACI1C,eAAgBA,EAChBD,kBAAmBA,EACnBzW,eAAgBA,EAChB2W,eAAgB3B,EAChB7Q,WAAYA,EACZC,SAAUA,EACVH,aAAcA,IAGjBuU,GACG,cAAC9Q,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,UACT3T,GAAI,CAAE3F,MAAO,QACb2J,QAAQ,SAJZ,SAMKsgB,MAIZC,GACG,cAAC/Q,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,QACT3T,GAAI,CAAE3F,MAAO,QACb2J,QAAQ,SAJZ,SAMKugB,U,iBCzXzB,MAEMtJ,GAAY,CAChBC,WAAY,CACV7Z,MAAO,CACL8Z,UAAWC,IACX/gB,MAAO,OA+LEgrB,OA1LgBhf,IAC7B,MAAM,eAAEoc,EAAF,cAAkB6C,EAAlB,KAAiC3nB,EAAjC,gBAAuC4nB,GAAoBlf,EAE3Dmf,EAASC,oBAER9K,EAAa+K,GAAkBloB,mBAAS,KACxCob,EAAgB0H,GAAqB9iB,mBAAS,KAC9CmoB,EAAWC,GAAgBpoB,mBAAS,KACpCiJ,EAAUof,GAAeroB,mBAAS,KAClC+J,EAAKC,GAAUhK,mBAAS,gBACxBiK,EAAMC,GAAWlK,mBAAS,eAC1BsoB,EAASC,GAAcvoB,mBAAS,IAChCmK,EAAUC,GAAepK,mBAAS,CACvCnD,MAAO,OACPD,OAAQ,IACRyN,SAAUN,EACVO,UAAWL,EACXM,KAAM,MAEDie,EAAYC,GAAiBzoB,oBAAS,GAEvC6Q,EAAWkC,cAEjBnS,qBAAU,KACR,GAA+C,IAA3CwkB,OAAOC,QAAQ0C,GAAiB3a,OAAc,CAChD8a,EAAeH,EAAgB5K,aAC/B,MAAMzJ,EAASqU,EAAgBrU,OAEzBxG,EAAM,GACZwG,EAAOlS,SAASkC,GAAMwJ,EAAIxL,KAAKgC,EAAEkY,OACjCkH,EAAkB5V,GAElBwb,EACEX,EAAgB9e,SAASoB,SACzB0d,EAAgB9e,SAASqB,WAE3BF,EAAY,IACPD,EACHE,SAAU0d,EAAgB9e,SAASoB,SACnCC,UAAWyd,EAAgB9e,SAASqB,YAEtCN,EAAO+d,EAAgB9e,SAASoB,UAChCH,EAAQ6d,EAAgB9e,SAASqB,cAElC,CAACyd,IAEJ,MAAMY,EAAuBC,uBAC1BC,GAAgBze,EAAYye,IAC7B,IAGIC,EAA+BF,uBAAaC,IAGhDH,EAAWG,EAAYxe,SAAUwe,EAAYve,WAEtCqe,EAAqB,IACvBE,EAL8BE,mBAAoB,QAQtD,IAEGL,EAAand,MAAOlB,EAAUC,KAClCkB,KACGC,IAAK,GAAEjD,iBAA0B6B,KAAYC,KAC7C1F,MAAMokB,IACLX,EAAYW,EAAIrnB,KAAK8L,kBACrB8a,EAAWS,EAAIrnB,KAAKsnB,SACpBR,GAAc,MAEf3jB,OAAOC,IACNC,QAAQC,IAAIF,OAWZugB,EAAgB,KACpB,MAAMxoB,EAAO,CACX8e,IAAKmM,EAAgBnM,IACrBuB,cACAlU,SAAU,CACRoB,SAAU+X,OAAOrY,EAAImf,YAAY,IACjC5e,UAAW8X,OAAOnY,EAAKif,YAAY,IACnCZ,WAEF5U,OAAQ0H,GAEVvK,ErBhDmB/T,IAASyO,MAAOsF,EAAUW,KAC7C,IACI,MAAMjJ,EAAS,CACX2I,QAAS,CACL,eAAgB,sBAIlB,KAAEvP,SAAe6J,KAAMiG,IACxB,GAAEjJ,oBACH1L,EACAyL,GAGJsI,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAGbnB,eAAekR,QACX,cACAhR,KAAKiR,UAAUH,IAAWgK,SAASN,cAEzC,MAAOnW,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,YqBsBd8kB,CAAcrsB,IACvBgrB,GAAc,IAGhB,OACE,eAACtC,GAAA,EAAD,CAAQrlB,KAAMA,EAAMgD,QAAS,IAAM2kB,GAAc,GAAjD,UACE,eAACpC,GAAA,EAAD,CAAeljB,GAAI,CAAE3F,MAAO,QAA5B,UACE,uBAAM8b,YAAU,EAAC9U,MAAO,CAAE8K,aAAc,QAAxC,UACE,cAACgG,GAAA,EAAD,CACEnO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,cACH2V,MAAM,eACN5L,KAAK,cACL8L,WAAS,EACT1D,MAAO8H,EACPhI,SAAWrI,GAAMob,EAAepb,EAAEsI,OAAOC,SAG3C,eAACyI,GAAA,EAAD,CAAarhB,OAAO,SAASmY,WAAS,EAACpO,QAAQ,WAA/C,UACE,cAACwX,GAAA,EAAD,CAAY9a,GAAG,eAAf,0BACA,cAAC+a,GAAA,EAAD,CACE0H,QAAQ,eACR9M,MAAM,eACNxD,MAAO+F,EACPjG,SA5CUrS,IACpB,MACEsS,QAAQ,MAAEC,IACRvS,EACJggB,EAAmC,kBAAVzN,EAAqBA,EAAMlT,MAAM,KAAOkT,IAyCvD6I,UAAQ,EACRK,YAAc/T,GAAaA,EAASgU,KAAK,MACzCf,UAAWA,GAPb,SASGwH,EAAexhB,KAAKiL,GACnB,eAAC6G,GAAA,EAAD,CAAyBF,MAAO3G,EAAKkN,IAArC,UACE,cAACzC,GAAA,EAAD,CAAU5B,QAAS6D,EAAesD,QAAQhQ,EAAKkN,MAAQ,IACvD,cAACxX,EAAA,EAAD,CAAc3G,QAASiR,EAAK0O,cAFf1O,EAAKkN,YAQ1B,cAACjH,GAAA,EAAD,CACEnO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,WACH2V,MAAM,eACN5L,KAAK,WACLoI,MAAOpM,EACPkM,SAAWrI,WAGf,eAAC,KAAD,IACM3C,EACJuW,IAAKsH,EACLvb,qBAAsB/D,GACtBgE,SAAU/D,GACVgE,iBAAmBC,GAAiBxC,EAAYwC,GAChD/J,QAAS0I,UACPvB,EAAO8C,EAAEsc,OAAO,IAChBlf,EAAQ4C,EAAEsc,OAAO,IACjBX,GAAc,GACdC,EAAW5b,EAAEsc,OAAO,GAAItc,EAAEsc,OAAO,KAVrC,UAaE,cAAC,KAAD,CACEpB,OAAQA,EACRrb,iBAAkBmc,EAClBrc,qBAAsB/D,GACtBgF,SAAS,WACT2b,QAAQ,EACRC,UAAU,KACVC,gBAAgB,IAElB,cAAC,KAAD,CAAgBlf,SAAUN,EAAKO,UAAWL,EAA1C,SACE,wBAAQ1G,UAAU,aAAlB,SACE,qBACEuW,IAAI,QACJ3V,IAAI,gFAJE,WAUhB,eAACyhB,GAAA,EAAD,WACE,cAACxM,GAAA,EAAD,CAAQvW,QAAS,IAAMilB,GAAc,GAArC,oBACA,cAAC1O,GAAA,EAAD,CAAQxD,SAAU4S,EAAY3lB,QAAS,IAAMyiB,IAA7C,2BC5COkE,OA3IS3gB,IACtB,MAAM,KAAE1I,EAAF,QAAQqS,EAAR,MAAiBzN,EAAjB,wBAAwB0kB,GAA4B5gB,EAYpDgI,GARWrQ,eAAeC,QAAQ,aACpCC,KAAKC,MAAMH,eAAeC,QAAQ,aAGpBD,eAAeC,QAAQ,cACrCC,KAAKC,MAAMH,eAAeC,QAAQ,cAGrBsS,eACXyI,EAAWvI,aAAaC,GAAUA,EAAMsI,YACxC,YAAEN,GAAgBM,EAoClBkO,EAAiBjO,ItB8BFG,MsB7BnB/K,GtB6BmB+K,EsB7BIH,EAAQG,ItB6BJrQ,MAAOsF,EAAUW,KAC5C,UACUhG,KAAM0a,OAAQ,GAAE1d,qBAA8BoT,KAEpD/K,EAAS,CACLC,KAAMC,GACNC,QAAS4K,IAGbpb,eAAekR,QACX,cACAhR,KAAKiR,UAAUH,IAAWgK,SAASN,cAEzC,MAAOnW,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,esBjBzB,OACE,cAACT,EAAA,EAAD,UACE,cAAC2Z,GAAA,EAAD,CAAgBhU,UAAWmL,KAAOlS,GAAI,CAAEoiB,UAAW,GAAnD,SACE,eAAC9H,GAAA,EAAD,CAAOta,GAAI,CAAE2jB,SAAU,KAAO,aAAW,eAAzC,UACE,cAACpJ,GAAA,EAAD,UACE,eAACd,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,2BACA,cAACA,GAAA,EAAD,CAAWtC,MAAM,SAAjB,gCACA,cAACsC,GAAA,EAAD,CAAWtC,MAAM,SAAjB,0BACA,cAACsC,GAAA,EAAD,CAAWtC,MAAM,SAAjB,yBAGJ,cAACmD,GAAA,EAAD,UACG9B,EAAYzX,KAAKwX,GAChB,eAACgB,GAAA,EAAD,CAEEzZ,GAAI,CAAE,mCAAoC,CAAE4jB,OAAQ,IAFtD,UAIE,cAACjK,GAAA,EAAD,CAAW5S,UAAU,KAAK6S,MAAM,MAAhC,SACGnB,EAAIkC,cAEP,cAAChB,GAAA,EAAD,CAAWtC,MAAM,SAAjB,SAA2BoB,EAAIhS,SAASqf,UACxC,eAACnM,GAAA,EAAD,CACEtC,MAAM,SACNrX,GAAI,CAAEC,QAAS,OAAQC,eAAgB,UAFzC,UAIyB,IAAtBuY,EAAIvH,OAAOtG,QAAgB,2CAC3B6N,EAAIvH,OAAOjQ,KAAI,CAACC,EAAGC,IAClB,8BACE,eAACqD,GAAA,EAAD,CAAYR,QAAQ,IAAI+C,UAAU,IAAlC,UACG7F,EAAE0Z,UACFzZ,IAAMsX,EAAIvH,OAAOtG,OAAS,GAAK,mCAAG,WAH7BzJ,QAQd,eAACwY,GAAA,EAAD,CAAWtC,MAAM,SAASrX,GAAI,CAAEgY,EAAG,GAAnC,UACE,cAAC5X,EAAA,EAAD,CACE0jB,KAAK,MACL,aAAW,OACXtjB,MAAM,UACNH,QAAS,IAAM4mB,EAAwBxO,GACvCzY,GAAI,CAAEuG,GAAI,IALZ,SAOE,cAAC,KAAD,MAEF,cAACnG,EAAA,EAAD,CAAYI,MAAM,QAAQH,QAAS,IAAM6mB,EAAczO,GAAvD,SACE,cAAC,KAAD,WAhCCA,EAAIW,iBCxFzB,MAEM6B,GAAY,CACdC,WAAY,CACR7Z,MAAO,CACH8Z,UAAWC,IACX/gB,MAAO,OAodJ8sB,OA/cQ,KACnB,MAAM3B,EAASC,oBACR9K,EAAa+K,GAAkBloB,mBAAS,KACxCob,EAAgB0H,GAAqB9iB,mBAAS,KAE9CiJ,EAAUof,GAAeroB,mBAAS,KAClC+J,EAAKC,GAAUhK,mBAAS,gBACxBiK,EAAMC,GAAWlK,mBAAS,eAC1BsoB,EAASC,GAAcvoB,mBAAS,IAChCmK,EAAUC,GAAepK,mBAAS,CACrCnD,MAAO,OACPD,OAAQ,IACRyN,SAAU,cACVC,UAAW,aACXC,KAAM,MAEHwd,EAAiB6B,GAAsB5pB,mBAAS,KAChD6pB,EAAY/B,GAAiB9nB,oBAAS,IACtC8pB,EAAkBC,GAAuB/pB,oBAAS,IAElDsS,EAAWC,GAAgBvS,oBAAS,IACpC8mB,EAAYkD,GAAiBhqB,mBAAS,OACtC+mB,EAAUkD,GAAejqB,mBAAS,OAElCkqB,EAAaC,GAAkBnqB,mBAAS,CAC3CnD,MAAO,OACPD,OAAQ,OACRyN,SAAU,MACVC,UAAW,OACXC,KAAM,MAEHW,EAAMC,GAAWnL,oBAAS,IAC1BwK,EAAUC,GAAezK,oBAAS,IAClC0K,EAAaC,GAAkB3K,mBAAS,OACxC4K,EAAcC,GAAmB7K,mBAAS,OAC1CoqB,EAAcC,GAAmBrqB,mBAAS,KAG1Ckf,EAAcmE,GAAmBrjB,mBAAS,MAE3C6Q,EAAWkC,cACXyI,EAAWvI,aAAaC,GAAUA,EAAMsI,YACxC,YAAEN,EAAF,QAAe1I,EAAf,MAAwBzN,GAAUyW,EAClC9H,EAAST,aAAaC,GAAUA,EAAMQ,UACtC,UAAE4P,GAAc5P,EAEhBnT,GAAWC,eAAeC,QAAQ,YAClCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEA0F,GAAY3F,eAAeC,QAAQ,aACnCC,KAAKC,MAAMH,eAAeC,QAAQ,cAClC,KAEAJ,GAAWC,eACX,MAAE4S,IAAUkO,KAElBxgB,qBAAU,KACYJ,eAAeC,QAAQ,cAGrCJ,GAAS,YAEd,IAEHO,qBAAU,KACiB2K,WACnB,MAAM4U,QAAgBmB,GAAuBpO,IAC7CmQ,EAAgBlD,IAGpBqD,KACD,IAEH5iB,qBAAU2K,UACW,OAAbhL,IACAsQ,EAASiB,GAAS,OAACvR,SAAD,IAACA,QAAD,EAACA,GAAUQ,QAElC,CAAC8P,IAEJjQ,qBAAU,KACF4R,IACAwX,EAAcxX,GACdD,GAAa,IAGbxN,IACAklB,EAAYllB,GACZwN,GAAa,MAElB,CAACC,EAASzN,IAEbnE,qBAAU2K,UAIN,GAHkB,OAAdpF,IAAmC,OAAb5F,IACtBsQ,EAASQ,GAAY9Q,GAASQ,MAEhB,OAAdoF,IAAmC,OAAb5F,GAAmB,CACzC,MAAM,KAAEoB,SAAe6J,KAAMC,IACxB,GAAEjD,gBAAyBrC,GAAUqN,SAE1C3C,EACIO,GAAiB,CACbtH,UAAWvJ,GAASQ,IACpB0S,YAAa9R,EAAK+R,aAI/B,CAAC7C,IAEJjQ,qBAAU2K,UACNJ,GAAQ,GACRK,KACKC,IAAK,GAAEjD,iBAA0BkC,KAAeE,KAChDhG,MAAM8G,IACH1G,QAAQC,IAAIyG,GACZ2e,EAAgB3e,EAAS/J,MACzBwJ,GAAQ,MAEXrG,OAAO6G,GAAQ3G,QAAQC,IAAI0G,OACjC,CAACjB,EAAaE,IAEjB,MAAM+d,GAAuBC,uBACxBC,GAAgBze,EAAYye,IAC7B,IAGEC,GAA+BF,uBAAaC,IAG9CH,GAAWG,EAAYxe,SAAUwe,EAAYve,WAEtCqe,GAAqB,IACrBE,EAL4BE,mBAAoB,QAQxD,IAEG1V,GAAmB,CAACvQ,EAAOyQ,KACd,cAAXA,IAIJhB,GAAa,GACb0X,EAAY,MACZD,EAAc,QAGZtB,GAAand,MAAOlB,EAAUC,KAChCkB,KACKC,IAAK,GAAEjD,iBAA0B6B,KAAYC,KAC7C1F,MAAMokB,IACHX,EAAYW,EAAIrnB,KAAK8L,kBACrB8a,EAAWS,EAAIrnB,KAAKsnB,YAEvBnkB,OAAOiiB,IACJ/hB,QAAQC,IAAI8hB,OAIlBuD,GAAc,KAChB,GAAqB,OAAjBpL,EAKA,OAJA+K,EACI,+DAEJ1X,GAAa,GAEV,GAAI2I,EAAY9N,SAAW8R,EAAaiD,aAK3C,OAJA8H,EACI,2EAEJ1X,GAAa,GAEV,GAAI4K,EAAY/P,OAAS,EAG5B,OAFA6c,EAAY,kDACZ1X,GAAa,GAIjB,MAAMzV,EAAO,CACTqgB,cACAzJ,OAAQ0H,EACRtR,UAAWvJ,GAASQ,IACpBkI,SAAU,CACNoB,SAAU+X,OAAOrY,EAAImf,YAAY,IACjC5e,UAAW8X,OAAOnY,EAAKif,YAAY,IACnCZ,YvBrOOX,MuByOf9W,GvBzOe8W,EuByOQ7qB,EvBzOKyO,MAAOsF,EAAUW,KACjD,IACI,MAAMjJ,EAAS,CACX2I,QAAS,CACL,eAAgB,qBAIlBpU,EAAO,CACTA,KAAM6qB,IAGJ,KAAEhmB,SAAe6J,KAAM2F,KACxB,GAAE3I,oBACH1L,EACAyL,GAGJsI,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAGbnB,eAAekR,QACX,cACAhR,KAAKiR,UAAUH,IAAWgK,SAASN,cAEzC,MAAOnW,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,cuB4MnB0lB,GAAoB,GACpB7B,EAAe,IACfpF,EAAkB,IAClBuF,EAAY,KAmBhB,OACI,eAACzkB,EAAA,EAAD,CAAKpB,GAAI,CAAE3F,MAAO,OAAQ2d,EAAG,EAAG5d,OAAQ,QAAxC,UACI,iDAEA,eAAC0X,GAAA,EAAD,CAAMC,WAAS,EAAC7O,QAAS,EAAGlD,GAAI,CAAE5F,OAAQ,QAA1C,UACI,eAAC0X,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,GAAI,GAAIiE,GAAI,EAAvB,UACI,cAAC7U,EAAA,EAAD,CACIpB,GAAI,CACA3F,MAAO,OACP4F,QAAS,OACTC,eAAgB,WAChBmD,cAAe,MACflD,IAAK,GANb,SASI,cAACyW,GAAA,EAAD,CACI5S,QAAQ,YACRhE,GAAI,CACAgT,GAAI,KAER3S,QAAS,IAAMknB,GAAoB,GALvC,+BAWJ,cAACnmB,EAAA,EAAD,CAAKpB,GAAI,CAAEqa,GAAI,GAAf,SACI,cAAC0N,GAAD,CACIzD,WAAYkD,EACZjD,SAAUkD,EACV9pB,KAAMoS,EACNkX,wBAxCS/a,IACzBmb,EACA/B,GAAc,IAEd8B,EAAmBlb,GACnBoZ,GAAc,YAuCV,cAACxT,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,GAAI,GAAIiE,GAAI,EAAGjW,GAAI,CAAE5F,OAAQ,OAAxC,SACI,eAAC,KAAD,IACQstB,EACJzd,qBAAsB/D,GACtBgE,SAAU/D,GACVgE,iBAAmBC,GACfud,EAAevd,GALvB,UAQKsO,EAAYzX,KAAKgY,GACd,cAAC,KAAD,CAEIpR,SAAUoR,EAAQxS,SAASoB,SAC3BC,UAAWmR,EAAQxS,SAASqB,UAHhC,SAKI,wBACI/G,UAAU,aACVsJ,aAAeC,IACXA,EAAEC,iBACFtC,GAAY,GACZE,EACI8Q,EAAQxS,SAASoB,UAErBQ,EACI4Q,EAAQxS,SAASqB,YAGzB0C,aAAeF,IACXA,EAAEC,iBACFtC,GAAY,IAdpB,SAiBI,qBACIqP,IAAI,QACJ3V,IAAI,gFAvBPsX,EAAQG,OA4BpBpR,EACG,cAAC,KAAD,CACIH,SAAUK,EACVJ,UAAWM,EACXzH,QAAS,KACLsH,GAAY,GACZE,EAAe,GACfE,EAAgB,IANxB,SASI,8BACKK,EACG,sDAEA,4BAAIkf,EAAa3c,uBAI7B,aAKhB,eAAC+X,GAAA,EAAD,CACIrlB,KAAM2pB,EACN3mB,QAAS,IAAM4mB,GAAoB,GAFvC,UAII,cAACtE,GAAA,EAAD,CAAajjB,GAAI,CAAEtE,SAAU,IAA7B,6BACA,eAACwnB,GAAA,EAAD,CAAeljB,GAAI,CAAE3F,MAAO,KAA5B,UACI,uBAAM8b,YAAU,EAAC9U,MAAO,CAAE8K,aAAc,QAAxC,UACI,cAACgG,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,cACH2V,MAAM,eACN5L,KAAK,cACL8L,WAAS,EACT1D,MAAO8H,EACPhI,SAAWrI,GAAMob,EAAepb,EAAEsI,OAAOC,SAG7C,eAACyI,GAAA,EAAD,CACIrhB,OAAO,SACPmY,WAAS,EACTpO,QAAQ,WAHZ,UAKI,cAACwX,GAAA,EAAD,CAAY9a,GAAG,eAAf,0BAGA,cAAC+a,GAAA,EAAD,CACI0H,QAAQ,eACR9M,MAAM,eACNxD,MAAO+F,EACPjG,SAhJNrS,IAClB,MACIsS,QAAQ,MAAEC,IACVvS,EACJggB,EAAmC,kBAAVzN,EAAqBA,EAAMlT,MAAM,KAAOkT,IA6IzC6I,UAAQ,EACRK,YAAc/T,GAAaA,EAASgU,KAAK,MACzCf,UAAWA,GAPf,SASK6F,EAAU7f,KAAKiL,GACZ,eAAC6G,GAAA,EAAD,CAAyBF,MAAO3G,EAAKkN,IAArC,UACI,cAACzC,GAAA,EAAD,CACI5B,QACI6D,EAAesD,QACXhQ,EAAKkN,MACJ,IAGb,cAACxX,EAAA,EAAD,CACI3G,QAASiR,EAAK0O,cATP1O,EAAKkN,YAgBhC,cAACjH,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,WACH2V,MAAM,eACN5L,KAAK,WACLoI,MAAOpM,EACPkM,SAAWrI,WAGnB,eAAC,KAAD,IACQ3C,EACJuW,IAAKsH,EACLvb,qBAAsB/D,GACtBgE,SAAU/D,GACVgE,iBAAmBC,GACfxC,EAAYwC,GAEhB/J,QAAS0I,UACLvB,EAAO8C,EAAEsc,OAAO,IAChBlf,EAAQ4C,EAAEsc,OAAO,IACjBV,GAAW5b,EAAEsc,OAAO,GAAItc,EAAEsc,OAAO,KAXzC,UAcI,cAAC,KAAD,CACIpB,OAAQA,EACRrb,iBAAkBmc,GAClBrc,qBAAsB/D,GACtBgF,SAAS,WACT2b,QAAQ,EACRC,UAAU,KACVC,gBAAgB,IAEpB,cAAC,KAAD,CAAgBlf,SAAUN,EAAKO,UAAWL,EAA1C,SACI,wBAAQ1G,UAAU,aAAlB,SACI,qBACIuW,IAAI,QACJ3V,IAAI,gFAJJ,WAUpB,eAACyhB,GAAA,EAAD,WACI,cAACxM,GAAA,EAAD,CAAQvW,QAAS,IAAMknB,GAAoB,GAA3C,oBAGA,cAAC3Q,GAAA,EAAD,CAAQvW,QAAS,IAAMynB,KAAvB,gCAKR,cAAC,GAAD,CACInqB,KAAM0pB,EACN/B,cAAeA,EACfC,gBAAiBA,EACjB9C,eAAgB3B,EAChB/Q,aAAcA,EACdyX,cAAeA,EACfC,YAAaA,IAGD,OAAfnD,GACG,cAAC9Q,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,GACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,GACT8C,SAAS,UACT3P,QAAQ,SACRhE,GAAI,CAAE3F,MAAO,QAJjB,SAMKiqB,MAIC,OAAbC,GACG,cAAC/Q,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,GACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,GACT8C,SAAS,QACT3P,QAAQ,SACRhE,GAAI,CAAE3F,MAAO,QAJjB,SAMKkqB,U,qBC/YVyD,OA9FU3hB,IACvB,MAAM,KAAE1I,EAAF,QAAQqS,EAAR,MAAiBzN,GAAU8D,GAE1B4hB,EAAiBC,GAAsB1qB,mBAAS,KAChD2qB,EAAaC,GAAkB5qB,mBAAS,KAExC6qB,EAAYC,GAAiB9qB,oBAAS,GAEvCO,EAAWC,eAAeC,QAAQ,YACpCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KA4CJ,OACE,cAACmD,EAAA,EAAD,UACE,uBAAM+U,YAAU,EAAhB,UACE,cAAChE,GAAA,EAAD,CACEnO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,WACH2V,MAAM,mBACN5L,KAAK,WACL6L,aAAa,OACbzD,MAAOoV,EACPtV,SAAWrI,GAAM4d,EAAmB5d,EAAEsI,OAAOC,SAE/C,cAACV,GAAA,EAAD,CACEnO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,WACH2V,MAAM,eACN5L,KAAK,WACL6L,aAAa,OACbzD,MAAOsV,EACPxV,SAAWrI,GAAM8d,EAAe9d,EAAEsI,OAAOC,SAE3C,cAAC+D,GAAA,EAAD,CACE5W,GAAI,CAAEgT,GAAI,IAAK3O,GAAI,EAAG3I,SAAU,GAAI6F,GAAI,GACxCyC,QAAQ,YACR3D,QAAS,IAtEF0I,WACb,IACEuf,GAAc,GACd,MAAMlhB,EAAOrK,EAAKob,YAEZjD,EAAaqT,IAAkBrT,WACnCnX,EAASiT,MACTiX,GAGFO,YAA6BphB,EAAM8N,GAChC9S,MAAK,KACJqmB,YAAerhB,EAAM+gB,GAClB/lB,MAAK,KACJ4N,EAAQ,iCACRrS,GAAK,GACLyqB,EAAe,IACfF,EAAmB,IACnBI,GAAc,MAEfhmB,OAAO6G,IACN,MAAMqM,EAAYrM,EAAIsM,KAChBC,EAAevM,EAAItH,QACzBU,EAAO,GAAEiT,KAAaE,KACtB/X,GAAK,GACL2qB,GAAc,SAGnBhmB,OAAO6G,IACN,MAAMqM,EAAYrM,EAAIsM,KAChBC,EAAevM,EAAItH,QACzBU,EAAO,GAAEiT,KAAaE,KACtB/X,GAAK,GACL2qB,GAAc,MAElB,MAAOnf,GACP5G,EAAM4G,GACNxL,GAAK,GACL2qB,GAAc,KAgCKI,GACfC,UACEN,GAAc,cAACxN,GAAA,EAAD,CAAkB7D,KAAM,GAAIxW,MAAM,YALpD,mCCrER,MAAM3G,GAAYC,aAAYa,IAAD,CACzBwZ,KAAM,CACF9Z,MAAO,OACP+Z,UAAWzZ,EAAMuI,QAAQ,QAgSlB0lB,OA5RC,KACZ,MAAMrlB,EAAU1J,MAET2d,EAAWC,GAAgBja,mBAAS,KACpCka,EAAUC,GAAena,mBAAS,KAClCoa,EAAaC,GAAkBra,mBAAS,KAExC6a,EAAcwQ,GAAmBrrB,mBAAS,KAC1CsrB,EAAYC,GAAiBvrB,mBAAS,OACtCwrB,EAAcC,GAAmBzrB,mBAAS,OAC1C6qB,EAAYC,GAAiB9qB,oBAAS,IAEtCsS,EAAWC,GAAgBvS,oBAAS,IACpCwS,EAASC,GAAczS,mBAAS,OAChC+E,EAAO2N,GAAY1S,mBAAS,MAE7BO,EAAWC,eAAeC,QAAQ,YAClCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAENG,qBAAU,KACW,OAAbL,IACA8qB,EAAgB9qB,EAASsa,cACzBZ,EAAa1Z,EAASyZ,WACtBK,EAAe9Z,EAAS6Z,aACxBD,EAAY5Z,EAAS2Z,aAE1B,IAEH,MAAM7G,EAAmB,CAACvQ,EAAOyQ,KACd,cAAXA,IAIJhB,GAAa,GACbG,EAAS,MACTD,EAAW,QA6CTiZ,EAAmBngB,UACrBvG,QAAQC,IAAIqmB,EAAYzQ,EAAc2Q,GAC/B,IAAI3P,SAASC,IACG,OAAfwP,GACAxP,EAAQvb,EAASsa,cAGrB,MAAM8Q,EAAajL,YACfjhB,EACC,sBAAqBc,EAASQ,OAE7B6qB,EAAaC,YAAqBF,EAAYH,GAEpDI,EAAWE,GACP,iBACChY,IACG,MAAMiY,EACDjY,EAASkY,iBAAmBlY,EAASmY,WAAc,IAExD,OADAjnB,QAAQC,IAAI,aAAe8mB,EAAW,UAC9BjY,EAASZ,OACb,IAAK,SACDlO,QAAQC,IAAI,oBACZ,MACJ,IAAK,UACDD,QAAQC,IAAI,yBAIvBF,IACGC,QAAQC,IAAIF,EAAMV,YAEtB,KACI6nB,YAAeN,EAAW9X,SAAS4M,KAAK9b,MACnCunB,IACGrQ,EAAQqQ,aAkBhC,OACI,eAACvoB,EAAA,EAAD,CACIpB,GAAI,CACA3F,MAAO,OACP2d,EAAG,EACH/X,QAAS,OACTC,eAAgB,UALxB,UAQI,eAACkB,EAAA,EAAD,CAAKpB,GAAI,CAAE3F,MAAO,OAAlB,UACI,eAACyX,GAAA,EAAD,CAAMC,WAAS,EAAC7O,QAAS,EAAzB,UACI,eAAC4O,GAAA,EAAD,CACI5F,MAAI,EACJ+J,GAAI,EACJjW,GAAI,CACAC,QAAS,OACTC,eAAgB,SAChB+C,WAAY,SACZI,cAAe,UAPvB,UAUI,cAAC3B,EAAA,EAAD,CACIC,IACmB,OAAfmnB,EAAsBzQ,EAAeyQ,EAEzCxR,IAAI,iBACJtX,GAAI,CAAEqa,GAAI,IAAKhgB,MAAO,IAAKD,OAAQ,OAGvC,eAACgG,EAAA,EAAD,CACI2G,UAAU,QACV/G,GAAI,CAAE3F,MAAO,GAAID,OAAQ,IAF7B,UAII,cAAC,KAAD,IACA,uBACIkU,KAAK,OACL4R,QAAM,EACNvN,SA/CDrI,IACvB,MAAMtC,EAAWsC,EAAEsI,OAAOgX,MAAM,GAChC,GAAI5hB,EAAU,CACVihB,EAAgBjhB,GAEhB,IAAIrG,EAAMkoB,IAAIC,gBAAgB9hB,GAC9B+gB,EAAcpnB,KA0CMooB,OAAO,kBAInB,cAACjY,GAAA,EAAD,CAAM5F,MAAI,EAAC+J,GAAI,EAAf,SACI,uBAAMlV,UAAWwC,EAAQ4Q,KAAMgC,YAAU,EAAzC,UACI,cAAChE,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,YACH2V,MAAM,aACN5L,KAAK,YACL6L,aAAa,OACbC,WAAS,EACT1D,MAAO2E,EACP7E,SAAWrI,GAAMmN,EAAanN,EAAEsI,OAAOC,SAE3C,cAACV,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,WACH2V,MAAM,YACN5L,KAAK,WACL6L,aAAa,OACbzD,MAAO6E,EACP/E,SAAWrI,GAAMqN,EAAYrN,EAAEsI,OAAOC,SAE1C,cAACV,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,QACH2V,MAAM,eACN5L,KAAK,cACL6L,aAAa,OACbzD,MAAO+E,EACPjF,SAAWrI,GAAMuN,EAAevN,EAAEsI,OAAOC,SAG7C,cAAC+D,GAAA,EAAD,CACI5S,QAAQ,YACR3D,QAAS,IA/KR0I,WACzB,IACIuf,GAAc,SACRY,IACD9mB,MAAK2G,UACF,MAAMK,EAAUC,YAAIzM,EAAI,iBAAkBmB,EAASQ,WAC7CyrB,YAAU5gB,EAAS,CACrBoO,YACAE,WACAE,cACAS,aAAc4R,IACf7nB,MAAK,KACJ,MAAMjD,EAAO,CACTqY,YACAE,WACAE,cACAS,aAAc4R,EACd1rB,IAAKR,EAASQ,IACduD,UAAW/D,EAAS+D,UACpBkP,MAAOjT,EAASiT,OAEpBhT,eAAekR,QAAQ,WAAYhR,KAAKiR,UAAUhQ,IAClD8Q,EAAW,gCACXF,GAAa,GACbkZ,EAAgB,MAChBF,EAAc,MACdF,EAAgBoB,GAChB3B,GAAc,SAGrBhmB,OAAOC,IACJ2N,EAAS3N,EAAMV,SACfkO,GAAa,GACbuY,GAAc,MAExB,MAAOnf,GACL+G,EAAS/G,EAAItH,SACbkO,GAAa,GACbuY,GAAc,KAyIqB4B,GACflqB,GAAI,CACAgT,GAAI,IACJ3O,GAAI,EACJ3I,SAAU,GACV6F,GAAI,EACJ2R,GAAI,GAERyV,UACIN,GACI,cAACxN,GAAA,EAAD,CACI7D,KAAM,GACNxW,MAAM,YAdtB,oCAwBZ,eAACsR,GAAA,EAAD,CAAMC,WAAS,EAAC7O,QAAS,EAAzB,UACI,cAAC4O,GAAA,EAAD,CAAM5F,MAAI,EAAC+J,GAAI,IACf,cAACnE,GAAA,EAAD,CAAM5F,MAAI,EAAC+J,GAAI,EAAf,SACI,cAAC,GAAD,CACItY,KAAMoS,EACNC,QAASC,EACT1N,MAAO2N,YAMV,OAAZF,GACG,cAACwD,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,UACT3T,GAAI,CAAE3F,MAAO,QAHjB,SAKK2V,MAIF,OAAVzN,GACG,cAACiR,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,QACT3T,GAAI,CAAE3F,MAAO,QAHjB,SAKKkI,UC9RzB,MAAM4nB,GAAgB9jB,IACpB,MAAM+jB,EAAO,CACX,SACA,SACA,UACA,YACA,WACA,SACA,YAGF,OACE,eAAChpB,EAAA,EAAD,WACE,eAACA,EAAA,EAAD,CACEpB,GAAI,CAAEC,QAAS,OAAQC,eAAgB,gBAAiBC,IAAK,EAAGoB,GAAI,GADtE,UAGE,eAAC+Z,GAAA,EAAD,CAAalJ,WAAS,EAACpO,QAAQ,WAA/B,UACE,cAACwX,GAAA,EAAD,CAAY9a,GAAG,YAAf,uBACA,cAAC+a,GAAA,EAAD,CACE0H,QAAQ,YACRtQ,MAAOxM,EAAMgkB,SACb1X,SAAWrI,GAAMjE,EAAMikB,YAAYhgB,EAAEsI,OAAOC,OAC5CwD,MAAM,YAJR,SAMG+T,EAAKnpB,KAAI,CAACspB,EAAKppB,IACd,cAAC4R,GAAA,EAAD,CAAkBF,MAAO0X,EAAKvqB,GAAI,CAAEgY,EAAG,KAAvC,SACGuS,GADYppB,UAOrB,eAACma,GAAA,EAAD,CAAalJ,WAAS,EAACpO,QAAQ,WAA/B,UACE,cAACwX,GAAA,EAAD,CAAY9a,GAAG,UAAf,qBACA,cAAC+a,GAAA,EAAD,CACE0H,QAAQ,UACRtQ,MAAOxM,EAAMmkB,OACb7X,SAAWrI,GAAMjE,EAAMokB,UAAUngB,EAAEsI,OAAOC,OAC1CwD,MAAM,UAJR,SAMG+T,EAAKnpB,KAAI,CAACspB,EAAKppB,IACd,cAAC4R,GAAA,EAAD,CAAkBF,MAAO0X,EAAKvqB,GAAI,CAAEgY,EAAG,KAAvC,SACGuS,GADYppB,aAQvB,cAACC,EAAA,EAAD,CACEpB,GAAI,CACF5F,OAAQ,OACR6F,QAAS,OACTiT,GAAI,EACJ3R,GAAI,GALR,SAQE,cAAC,KAAD,CACEmpB,cAAc,EACd/X,SAAUtM,EAAMskB,QAChB9X,MAAOxM,EAAMukB,KACbC,aAAa,mBAORnnB,WAAMwD,KAAKijB,IClE1B,MAEMlP,GAAY,CAChBC,WAAY,CACV7Z,MAAO,CACL8Z,UAAWC,IACX/gB,MAAO,OAKPywB,GAAqBzkB,IACzB,MAAOuU,EAAWmQ,GAAgBvtB,mBAAS,KAEpCwtB,EAAgBC,GAAqBztB,mBAAS,KAG9C6sB,EAAUC,GAAe9sB,mBAAS,KAClCgtB,EAAQC,GAAajtB,mBAAS,KAC9BotB,EAAMD,GAAWntB,mBAAS,CAAC,GAAI,KAEhC6Q,EAAWkC,cAEXlB,EADSoB,aAAaC,GAAUA,EAAMtB,SACnBC,UAEnB6b,EAAY,KAChB,GAA2B,OAAvB7kB,EAAMqW,aAGR,OAFArW,EAAM6J,SAAS,+DACf7J,EAAM0J,cAAa,GAEd,GAAI1J,EAAMya,UAAUlW,SAAWvE,EAAMqW,aAAasD,WAKvD,OAJA3Z,EAAM6J,SACJ,0EAEF7J,EAAM0J,cAAa,GAEd,GAAI6K,EAAUhQ,OAAS,EAG5B,OAFAvE,EAAM6J,SAAS,gDACf7J,EAAM0J,cAAa,GAIrB,MAAMzV,EAAO,CACXsgB,UAAWA,EACXtT,UAAWjB,EAAMiB,UAAU5G,GAC3ByqB,QAAS,GACTlS,QAAS,GACT7J,OAAQ4b,EACRI,SAAU,CACRf,WACAG,SACAI,KAAM,CACJS,UAAWT,EAAK,GAChBU,QAASV,EAAK,MzBpEHzF,MyBwEjB9W,GzBxEiB8W,EyBwEI7qB,EzBxESyO,MAAOsF,EAAUW,KAC/C,IACI,MAAMjJ,EAAS,CACX2I,QAAS,CACL,eAAgB,qBAIlBpU,EAAO,CACTA,KAAM6qB,IAGJ,KAAEhmB,SAAe6J,KAAM2F,KACxB,GAAE3I,kBACH1L,EACAyL,GAGJsI,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAGbnB,eAAekR,QACX,YACAhR,KAAKiR,UAAUH,IAAWkC,OAAO4P,YAEvC,MAAOve,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,cyB2CvBwE,EAAMzI,SAAQ,GACdqtB,EAAkB,IAClBF,EAAa,IACbT,EAAY,IACZG,EAAU,IACVE,EAAQ,CAAC,GAAI,MAUf,OACE,eAAC3H,GAAA,EAAD,CAAQrlB,KAAM0I,EAAM1I,KAAMgD,QAAS,IAAM0F,EAAMzI,SAAQ,GAAvD,UACE,cAACqlB,GAAA,EAAD,CAAajjB,GAAI,CAAEtE,SAAU,IAA7B,2BACA,eAACwnB,GAAA,EAAD,CAAeljB,GAAI,CAAE3F,MAAO,KAA5B,UACE,cAAC8X,GAAA,EAAD,CACEoE,WAAS,EACTtc,OAAO,SACPyG,GAAG,YACH2V,MAAM,aACN/H,KAAK,OACL8D,WAAS,EACTpO,QAAQ,WACR6O,MAAO+H,EACPjI,SAAWrI,GAAMygB,EAAazgB,EAAEsI,OAAOC,SAEjB,OAAvBxM,EAAMqW,cACLrW,EAAMqW,aAAasD,aAAeJ,OAAOC,WACvC,eAACvE,GAAA,EAAD,CAAarhB,OAAO,SAASmY,WAAS,EAACpO,QAAQ,WAA/C,UACE,cAACwX,GAAA,EAAD,CAAY9a,GAAG,QAAf,0BACA,cAAC+a,GAAA,EAAD,CACE0H,QAAQ,QACR9M,MAAM,eACNxD,MAAOmY,EACPrY,SA9BQrS,IACpB,MACEsS,QAAQ,MAAEC,IACRvS,EACJ2qB,EAAmC,kBAAVpY,EAAqBA,EAAMlT,MAAM,KAAOkT,IA2BrD6I,UAAQ,EACRK,YAAc/T,GAAaA,EAASgU,KAAK,MACzCf,UAAWA,GAPb,SASG5L,EAAUpO,KAAKiL,GACd,eAAC6G,GAAA,EAAD,CAAyBF,MAAO3G,EAAKkN,IAArC,UACE,cAACzC,GAAA,EAAD,CAAU5B,QAASiW,EAAe9O,QAAQhQ,EAAKkN,MAAQ,IACvD,cAACxX,EAAA,EAAD,CAAc3G,QAASiR,EAAKnB,aAFfmB,EAAKkN,YAS9B,cAAC,GAAD,CACEiR,SAAUA,EACVG,OAAQA,EACRF,YAAaA,EACbG,UAAWA,EACXG,KAAMA,EACND,QAASA,OAGb,eAACvH,GAAA,EAAD,WACE,cAACxM,GAAA,EAAD,CAAQvW,QAAS,IAAMgG,EAAMzI,SAAQ,GAArC,oBACA,cAACgZ,GAAA,EAAD,CAAQvW,QAAS,IAAM6qB,IAAvB,2BAMOxnB,WAAMwD,KAAK4jB,IChI1B,MAAMS,GAAcllB,IAGlB,MAAMtI,EAAWC,eAAeC,QAAQ,YACpCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEE0F,EAAY3F,eAAeC,QAAQ,aACrCC,KAAKC,MAAMH,eAAeC,QAAQ,cAClC,KAEEoQ,EAAWkC,cACXW,EAAST,aAAaC,GAAUA,EAAMQ,UACtC,UAAE4P,GAAc5P,EAEtB9S,qBAAU2K,UACS,OAAbhL,GAAmC,OAAd4F,GACvB0K,EAASiB,GAAUvR,EAASQ,QAS7B,CAAC8P,EAAUtQ,IAEd,MAAMytB,EAAe/S,I1BwCFW,M0BvCjB/K,G1BuCiB+K,E0BvCIX,EAAIW,I1BuCArQ,MAAOsF,EAAUW,KAC1C,UACUhG,KAAM0a,OAAQ,GAAE1d,mBAA4BoT,KAElD/K,EAAS,CACLC,KAAMC,GACNC,QAAS4K,IAGbpb,eAAekR,QACX,YACAhR,KAAKiR,UAAUH,IAAWkC,OAAO4P,YAEvC,MAAOve,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,e0BpDzB,OACE,cAACT,EAAA,EAAD,UACE,cAAC2Z,GAAA,EAAD,CAAgBhU,UAAWmL,KAA3B,SACE,eAACoI,GAAA,EAAD,CAAO,aAAW,eAAlB,UACE,cAACC,GAAA,EAAD,UACE,eAACd,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,CAAW3Z,GAAI,CAAEvE,WAAY,KAA7B,wBACA,cAACke,GAAA,EAAD,CAAW3Z,GAAI,CAAEvE,WAAY,KAAO4b,MAAM,SAA1C,oBAGA,cAACsC,GAAA,EAAD,CAAW3Z,GAAI,CAAEvE,WAAY,KAAO4b,MAAM,SAA1C,sBAGA,cAACsC,GAAA,EAAD,CAAW3Z,GAAI,CAAEvE,WAAY,KAAO4b,MAAM,SAA1C,6BAGA,cAACsC,GAAA,EAAD,CAAW3Z,GAAI,CAAEvE,WAAY,KAAO4b,MAAM,SAA1C,wBAGA,cAACsC,GAAA,EAAD,CAAW3Z,GAAI,CAAEvE,WAAY,KAAO4b,MAAM,SAA1C,yBAGA,cAACsC,GAAA,EAAD,CAAW3Z,GAAI,CAAEvE,WAAY,KAAO4b,MAAM,SAA1C,yBAKJ,cAACmD,GAAA,EAAD,UACGsG,EAAU7f,KAAKwX,GACd,eAACgB,GAAA,EAAD,CAEEzZ,GAAI,CACF,mCAAoC,CAAE4jB,OAAQ,IAHlD,UAME,cAACjK,GAAA,EAAD,CAAW5S,UAAU,KAAK6S,MAAM,MAAhC,SACGnB,EAAImC,YAEP,eAACjB,GAAA,EAAD,CAAWtC,MAAM,SAAjB,UACyB,IAAtBoB,EAAIrJ,OAAOxE,QAAgB,2CAC3B6N,EAAIrJ,OAAOnO,KAAI,CAACC,EAAGC,IAClB,cAAC,IAAMyb,SAAP,UACI,GAAE1b,EAAE6J,qCACF5J,IAAMsX,EAAIrJ,OAAOxE,OAAS,EAAI,KAAO,MAFtBzJ,QAOgB,IAAxCyhB,OAAOC,QAAQpK,EAAI2S,UAAUxgB,OAC5B,cAAC+O,GAAA,EAAD,CAAWtC,MAAM,SAAjB,SACI,GAAEoB,EAAI2S,SAASf,eAAe5R,EAAI2S,SAASZ,YAAY/R,EAAI2S,SAASR,KAAKS,gBAAgB5S,EAAI2S,SAASR,KAAKU,YAG/G,cAAC3R,GAAA,EAAD,CAAWtC,MAAM,SAAjB,iBAGF,eAACsC,GAAA,EAAD,CAAWtC,MAAM,SAAjB,UAC2B,IAAxBoB,EAAIO,SAASpO,QAAgB,2CAC7B6N,EAAIO,SAAS/X,KAAI,CAACC,EAAGC,IACpB,cAAC,IAAMyb,SAAP,UACI,GAAE1b,EAAEyZ,wCACFxZ,IAAMsX,EAAIO,SAASpO,OAAS,EAAI,MAAQ,MAFzBzJ,QAOzB,cAACwY,GAAA,EAAD,CAAWtC,MAAM,SAAStQ,UAAU,KAAK6S,MAAM,MAA/C,SACGra,IAAOkZ,EAAI3W,WAAWmF,OAAO,kBAGhC,cAAC0S,GAAA,EAAD,CAAWtC,MAAM,SAAStQ,UAAU,KAAK6S,MAAM,MAA/C,SACGra,IAAOkZ,EAAIgT,WAAWxkB,OAAO,kBAGhC,eAAC0S,GAAA,EAAD,CAAWtC,MAAM,SAASrX,GAAI,CAAEgY,EAAG,GAAnC,UACE,cAAC5X,EAAA,EAAD,CACEI,MAAM,UACNH,QAAS,KACPgG,EAAMqlB,iBAAiBjT,GACvBpS,EAAMslB,aAAY,IAJtB,SAOE,cAAC,KAAD,MAEF,cAACvrB,EAAA,EAAD,CAAYI,MAAM,QAAQH,QAAS,IAAMmrB,EAAY/S,GAArD,SACE,cAAC,KAAD,WAvDCA,EAAIW,iBAmEV1V,WAAMwD,KAAKqkB,ICjI1B,MAEMtQ,GAAY,CAChBC,WAAY,CACV7Z,MAAO,CACL8Z,UAAWC,IACX/gB,MAAO,OAKPuxB,GAAmBvlB,IACvB,MAAOuU,EAAWmQ,GAAgBvtB,mBAAS,KAEpCwtB,EAAgBC,GAAqBztB,mBAAS,KAG9C6sB,EAAUC,GAAe9sB,mBAAS,WAClCgtB,EAAQC,GAAajtB,mBAAS,aAC9BotB,EAAMD,GAAWntB,mBAAS,CAAC,QAAS,UAErC4R,EAASqB,aAAaC,GAAUA,EAAMtB,UACtC,UAAEC,GAAcD,EAEhBf,EAAWkC,cAEjBnS,qBAAU,KACR,GAAgD,IAA5CwkB,OAAOiJ,KAAKxlB,EAAMylB,eAAelhB,OAAc,CACjDmgB,EAAa1kB,EAAMylB,cAAclR,WACjC0P,EAAYjkB,EAAMylB,cAAcV,SAASf,UACzCI,EAAUpkB,EAAMylB,cAAcV,SAASZ,QACvCG,EAAQ,CACNtkB,EAAMylB,cAAcV,SAASR,KAAKS,UAClChlB,EAAMylB,cAAcV,SAASR,KAAKU,UAGpC,MAAM5gB,EAAMrE,EAAMylB,cAAc1c,OAAOnO,KAAKC,GAAMA,EAAEkY,MACpD6R,EAAkBvgB,MAEnB,CAACrE,EAAMylB,gBAEV,MAOMhJ,EAAgB,KACpB,GAAIlI,EAAUhQ,OAAS,EAGrB,OAFAvE,EAAM6J,SAAS,4CACf7J,EAAM0J,cAAa,GAEd,GAAsB,IAAlBX,EAAOxE,OAGhB,OAFAvE,EAAM6J,SAAS,iCACf7J,EAAM0J,cAAa,GAIrB,MAAMzV,EAAO,CACX8e,IAAK/S,EAAMylB,cAAc1S,IACzBwB,YACAxL,OAAQ4b,EACRI,SAAU,CACRf,WACAG,SACAI,KAAM,CACJS,UAAWT,EAAK,GAChBU,QAASV,EAAK,MAKpBvc,E3BpCiB/T,IAASyO,MAAOsF,EAAUW,KAC3C,IACI,MAAMjJ,EAAS,CACX2I,QAAS,CACL,eAAgB,sBAIlB,KAAEvP,SAAe6J,KAAMiG,IACxB,GAAEjJ,kBACH1L,EACAyL,GAGJsI,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAGbnB,eAAekR,QACX,YACAhR,KAAKiR,UAAUH,IAAWkC,OAAO4P,YAEvC,MAAOve,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,Y2BUdkqB,CAAYzxB,IACrB+L,EAAMzI,SAAQ,GACdmtB,EAAa,IACbE,EAAkB,IAClBX,EAAY,UACZG,EAAU,UACVE,EAAQ,CAAC,QAAS,WAGpB,OACE,eAAC3H,GAAA,EAAD,CAAQrlB,KAAM0I,EAAM1I,KAAMgD,QAAS,IAAM0F,EAAMzI,SAAQ,GAAvD,UACE,cAACqlB,GAAA,EAAD,CAAajjB,GAAI,CAAEtE,SAAU,IAA7B,gCACA,eAACwnB,GAAA,EAAD,CAAeljB,GAAI,CAAE3F,MAAO,KAA5B,UACE,cAAC8X,GAAA,EAAD,CACEoE,WAAS,EACTtc,OAAO,SACPyG,GAAG,YACH2V,MAAM,aACN/H,KAAK,OACL8D,WAAS,EACTpO,QAAQ,WACR6O,MAAO+H,EACPjI,SAAWrI,GAAMygB,EAAazgB,EAAEsI,OAAOC,SAGzC,eAACyI,GAAA,EAAD,CAAarhB,OAAO,SAASmY,WAAS,EAACpO,QAAQ,WAA/C,UACE,cAACwX,GAAA,EAAD,CAAY9a,GAAG,QAAf,0BACA,cAAC+a,GAAA,EAAD,CACE0H,QAAQ,QACR9M,MAAM,eACNxD,MAAOmY,EACPrY,SA/DYrS,IACpB,MACEsS,QAAQ,MAAEC,IACRvS,EACJ2qB,EAAmC,kBAAVpY,EAAqBA,EAAMlT,MAAM,KAAOkT,IA4DzD6I,UAAQ,EACRK,YAAc/T,GAAaA,EAASgU,KAAK,MACzCf,UAAWA,GAPb,SASG5L,EAAUpO,KAAKiL,GACd,eAAC6G,GAAA,EAAD,CAAyBF,MAAO3G,EAAKkN,IAArC,UACE,cAACzC,GAAA,EAAD,CAAU5B,QAASiW,EAAe9O,QAAQhQ,EAAKkN,MAAQ,IACvD,cAACxX,EAAA,EAAD,CAAc3G,QAASiR,EAAKnB,aAFfmB,EAAKkN,YAQ1B,cAAC,GAAD,CACEiR,SAAUA,EACVG,OAAQA,EACRF,YAAaA,EACbG,UAAWA,EACXG,KAAMA,EACND,QAASA,OAGb,eAACvH,GAAA,EAAD,WACE,cAACxM,GAAA,EAAD,CAAQvW,QAAS,IAAMgG,EAAMzI,SAAQ,GAArC,oBACA,cAACgZ,GAAA,EAAD,CAAQvW,QAAS,IAAMyiB,IAAvB,2BAMOpf,WAAMwD,KAAK0kB,ICaXI,OA7JM,KACjB,MAAOC,EAAYC,GAAiB1uB,oBAAS,IACtC2uB,EAAUR,GAAenuB,oBAAS,IAClCsuB,EAAeJ,GAAoBluB,mBAAS,KAC5CsS,EAAWC,GAAgBvS,oBAAS,IACpC8mB,EAAYkD,GAAiBhqB,mBAAS,OACtC+mB,EAAUkD,GAAejqB,mBAAS,OAGlCkf,EAAcmE,GAAmBrjB,mBAAS,MAE3CO,EAAWC,eAAeC,QAAQ,YAClCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEAiT,EAAST,aAAaC,GAAUA,EAAMQ,UACtC,UAAE4P,EAAF,QAAa9Q,EAAb,MAAsBzN,GAAU2O,EAEhCrT,EAAWC,eACX,MAAE4S,GAAUkO,KAElBxgB,qBAAU,KACYJ,eAAeC,QAAQ,cAGrCJ,EAAS,YAEd,IAEHO,qBAAU,KACiB2K,WACnB,MAAM4U,QAAgBmB,GAAuBpO,GAC7CmQ,EAAgBlD,IAGpBqD,KACD,IAEH5iB,qBAAU,KACF4R,IACAwX,EAAcxX,GACdD,GAAa,SAEHoD,IAAV5Q,IACAklB,EAAYllB,GACZwN,GAAa,MAElB,CAACC,EAASzN,IAEb,MAAMsO,EAAmB,CAACC,EAAGC,KACV,cAAXA,IAIJhB,GAAa,GACb0X,EAAY,MACZD,EAAc,QAGlB,OACI,eAACpmB,EAAA,EAAD,CAAKpB,GAAI,CAAEgY,EAAG,GAAd,UACI,+CAEA,cAAC1E,GAAA,EAAD,CACIC,UAAU,MACVrT,eAAe,WACfksB,OAAQ,EACRC,UAAW,EAJf,SAMI,cAACzV,GAAA,EAAD,CACI5S,QAAQ,YACRhE,GAAI,CAAEgT,GAAI,KACV3S,QAAS,IAAM6rB,GAAc,GAHjC,gCASJ,cAAC9qB,EAAA,EAAD,CAAKpB,GAAI,CAAEqa,GAAI,GAAf,SACI,cAAC,GAAD,CACIrK,QAASwX,EACTjlB,MAAOklB,EACP9pB,KAAMoS,EACN2b,iBAAkBA,EAClBC,YAAaA,MAIrB,cAACvqB,EAAA,EAAD,UACI,cAAC,GAAD,CACIzD,KAAMsuB,EACNruB,QAASsuB,EACT5kB,UAAW,CACP5G,GAAE,OAAE3C,QAAF,IAAEA,OAAF,EAAEA,EAAUQ,IACdwM,SAAW,GAAD,OAAGhN,QAAH,IAAGA,OAAH,EAAGA,EAAUyZ,aAAb,OAA0BzZ,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAU2Z,YAElDgF,aAAcA,EACdxM,SAAUuX,EACV1X,aAAcA,EACdE,WAAYuX,EACZ1G,UAAWA,MAInB,cAAC1f,EAAA,EAAD,UACI,cAAC,GAAD,CACIzD,KAAMwuB,EACNvuB,QAAS+tB,EACTG,cAAeA,EACf5b,SAAUuX,EACV1X,aAAcA,EACdE,WAAYuX,EACZlgB,UAAW,CACP5G,GAAE,OAAE3C,QAAF,IAAEA,OAAF,EAAEA,EAAUQ,IACdwM,SAAW,GAAD,OAAGhN,QAAH,IAAGA,OAAH,EAAGA,EAAUyZ,aAAb,OAA0BzZ,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAU2Z,gBAK7C,OAAZ1H,GACG,cAACwD,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,UACT3T,GAAI,CAAE3F,MAAO,QACb2J,QAAQ,SAJZ,SAMKsgB,MAIF,OAAV/hB,GACG,cAACiR,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,QACT3T,GAAI,CAAE3F,MAAO,QACb2J,QAAQ,SAJZ,SAMKugB,U,oBC3IzB,MAAM+H,GAAcjmB,IAClB,MAAM+I,EAASqB,aAAaC,GAAUA,EAAMtB,UACtC,UAAEC,GAAcD,EAEhBf,EAAWkC,cAEXgc,EAAeC,I9BgEFpT,M8B/DjB/K,G9B+DiB+K,E8B/DIoT,EAAMpT,I9B+DFrQ,MAAOsF,EAAUW,KAC1C,UACUhG,KAAM0a,OAAQ,GAAE1d,mBAA4BoT,KAElD/K,EAAS,CACLC,KAAMC,GACNC,QAAS4K,IAGbpb,eAAekR,QACX,YACAhR,KAAKiR,UAAUH,IAAWI,OAAOC,YAEvC,MAAO9M,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,e8B5EzB,OACE,cAACT,EAAA,EAAD,UACE,cAAC2Z,GAAA,EAAD,CAAgBhU,UAAWmL,KAAOlS,GAAI,CAAEoiB,UAAW,GAAnD,SACE,eAAC9H,GAAA,EAAD,CAAOta,GAAI,CAAE2jB,SAAU,KAAvB,UACE,cAACpJ,GAAA,EAAD,UACE,eAACd,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,CAAW5Y,UAAU,aAArB,wBACA,cAAC4Y,GAAA,EAAD,CAAW5Y,UAAU,aAAasW,MAAM,SAAxC,sBAGA,cAACsC,GAAA,EAAD,CAAW5Y,UAAU,aAAasW,MAAM,SAAxC,mBAGA,cAACsC,GAAA,EAAD,CAAW5Y,UAAU,aAAasW,MAAM,SAAxC,oBAGA,cAACsC,GAAA,EAAD,CAAW3Z,GAAI,CAAEvE,WAAY,KAAO4b,MAAM,SAA1C,wBAGA,cAACsC,GAAA,EAAD,CAAW3Z,GAAI,CAAEvE,WAAY,KAAO4b,MAAM,SAA1C,yBAGA,cAACsC,GAAA,EAAD,CAAW5Y,UAAU,aAAasW,MAAM,SAAxC,yBAKJ,cAACmD,GAAA,EAAD,UACGnL,EAAUpO,KAAKwX,GACd,eAACgB,GAAA,EAAD,CAEEzZ,GAAI,CAAE,mCAAoC,CAAE4jB,OAAQ,IAFtD,UAIE,cAACjK,GAAA,EAAD,CAAW5S,UAAU,KAAK6S,MAAM,MAAhC,SACGnB,EAAI1N,WAEP,cAAC4O,GAAA,EAAD,CAAWtC,MAAM,SAAjB,SAA2BoB,EAAIW,MAC/B,cAACO,GAAA,EAAD,CAAWtC,MAAM,SAAjB,SAA2BoB,EAAIzH,QAC/B,eAAC2I,GAAA,EAAD,CAAWtC,MAAM,SAAjB,UACyB,IAAtBoB,EAAIvH,OAAOtG,QAAgB,2CAC3B6N,EAAIvH,OAAOjQ,KAAI,CAACC,EAAGC,IAClB,cAAC,IAAMyb,SAAP,UAA0B,GAAE1b,EAAE0Z,aAC5BzZ,IAAMsX,EAAIvH,OAAOtG,OAAS,EAAI,KAAO,MADlBzJ,QAMzB,cAACwY,GAAA,EAAD,CAAWtC,MAAM,SAAjB,SACG9X,IAAOkZ,EAAI3W,WAAWmF,OAAO,iBAGhC,cAAC0S,GAAA,EAAD,CAAWtC,MAAM,SAAjB,SACG9X,IAAOkZ,EAAIgT,WAAWxkB,OAAO,kBAGhC,eAAC0S,GAAA,EAAD,CAAWtC,MAAM,SAASrX,GAAI,CAAEgY,EAAG,GAAnC,UACE,cAAC5X,EAAA,EAAD,CACEI,MAAM,UACNH,QAAS,KACPgG,EAAMomB,iBAAiBhU,GACvBpS,EAAMqmB,mBAAkB,IAJ5B,SAOE,cAAC,KAAD,MAEF,cAACtsB,EAAA,EAAD,CAAYI,MAAM,QAAQH,QAAS,IAAMksB,EAAY9T,GAArD,SACE,cAAC,KAAD,WApCCA,EAAIW,iBAgDV1V,WAAMwD,KAAKolB,IC3F1B,MAAMK,GAAqBtmB,IACzB,MAAO0E,EAAUiZ,GAAexmB,mBAAS,KAClCwT,EAAOwD,GAAYhX,mBAAS,IAE7B6Q,EAAWkC,cAgCjB,MAAMqc,EAAY7jB,UAChB,GAxB2B,OAAvB1C,EAAMqW,cACRrW,EAAM9D,MAAM,0DACZ8D,EAAM0J,cAAa,GACZ,GACE1J,EAAMgJ,UAAUzE,SAAWvE,EAAMqW,aAAauD,YACvD5Z,EAAM9D,MACJ,oEAEF8D,EAAM0J,cAAa,GACZ,GACe,KAAbhF,GACT1E,EAAM9D,MAAM,6BACZ8D,EAAM0J,cAAa,GACZ,GACY,KAAViB,GApBQ,yJAED6b,KAkBuB7b,KACvC3K,EAAM9D,MAAM,iBACZ8D,EAAM0J,cAAa,GACZ,GAOS,CAChB,MAAM0E,EAAW,iBAEXwD,YAA+Blb,EAAMiU,EAAOyD,GAC/CrS,MAAK2G,eAAgB3B,GACpB,MAAM9M,EAAO,CACXyQ,WACAiG,QACAE,OAAQ,GACR5J,UAAWjB,EAAMiB,UACjBiO,iBAAiB,G/B3DR4P,M+B6DX9W,G/B7DW8W,E+B6DU7qB,E/B7DGyO,MAAOsF,EAAUW,KAC/C,IACI,MAAMjJ,EAAS,CACX2I,QAAS,CACL,eAAgB,qBAIlBpU,EAAO,CACTA,KAAM6qB,IAGJ,KAAEhmB,SAAe6J,KAAM2F,KACxB,GAAE3I,kBACH1L,EACAyL,GAGJsI,EAAS,CACLC,KAAMC,GACNC,QAASrP,IAGbnB,eAAekR,QACX,YACAhR,KAAKiR,UAAUH,IAAWI,OAAOC,YAEvC,MAAO9M,GACL8L,EAAS,CACLC,KAAMC,GACNC,QAASjM,EAAMV,c+BsCjBwM,E/BsCSye,IAAc/jB,UAC7B,IACI,MAAMhD,EAAS,CACX2I,QAAS,CACL,eAAgB,sBAIlB,KAAEvP,SAAe6J,KAAM2F,KACxB,GAAE3I,gBACH8mB,EACA/mB,GAGJvD,QAAQC,IAAItD,GACd,MAAOoD,GACLC,QAAQC,IAAI,uC+BtDDsqB,CALS,CAChB9qB,GAAI+O,EACJgc,QAAS,0CACT1yB,KAAO,uCAAsC0W,gBAAoByD,OAInEuP,EAAY,IACZxP,EAAS,IACTnO,EAAMzI,SAAQ,MAEf0E,OAAOC,IACN,MAAMiT,EAAYjT,EAAMkT,KAClBC,EAAenT,EAAMV,QAC3B8T,MAAMH,EAAWE,QAKzB,OACE,eAACsN,GAAA,EAAD,CAAQrlB,KAAM0I,EAAM1I,KAAMgD,QAAS,IAAM0F,EAAMzI,SAAQ,GAAvD,UACE,cAACqlB,GAAA,EAAD,CAAajjB,GAAI,CAAEtE,SAAU,IAA7B,8BACA,eAACwnB,GAAA,EAAD,CAAeljB,GAAI,CAAE3F,MAAO,KAA5B,UACE,cAAC8X,GAAA,EAAD,CACEC,WAAS,EACTmE,WAAS,EACTtc,OAAO,SACPyG,GAAG,OACH2V,MAAM,YACN/H,KAAK,OACLtK,QAAQ,WACR6O,MAAO9H,EACP4H,SAAWrI,GAAM0Z,EAAY1Z,EAAEsI,OAAOC,SAExC,cAACV,GAAA,EAAD,CACEC,WAAS,EACTnY,OAAO,SACPyG,GAAG,QACH2V,MAAM,gBACN/H,KAAK,QACLtK,QAAQ,WACR6O,MAAO7B,EACP2B,SAAWrI,GAAMkK,EAASlK,EAAEsI,OAAOC,YAGvC,eAACuQ,GAAA,EAAD,WACE,cAACxM,GAAA,EAAD,CAAQvW,QAAS,IAAMgG,EAAMzI,SAAQ,GAArC,oBACA,cAACgZ,GAAA,EAAD,CAAQvW,QAAS,IAAMusB,IAAvB,2BAMOlpB,WAAMwD,KAAKylB,ICrG1B,MAAMM,GAAmB5mB,IACvB,MAAO0E,EAAUiZ,GAAexmB,mBAAS,KAClCwT,EAAOwD,GAAYhX,mBAAS,IAE7B6Q,EAAWkC,cAEjBnS,qBAAU,KACR4lB,EAAY3d,EAAM6mB,cAAcniB,UAChCyJ,EAASnO,EAAM6mB,cAAclc,SAC5B,CAAC3K,EAAM6mB,gBAsBV,MAAMC,EAAa,KACjB,GAdiB,KAAbpiB,GACF1E,EAAM9D,MAAM,6BACZ8D,EAAM0J,cAAa,GACZ,GACY,KAAViB,GAVQ,yJAED6b,KAQuB7b,KACvC3K,EAAM9D,MAAM,iBACZ8D,EAAM0J,cAAa,GACZ,GAOS,CAChB,MAAMzV,EAAO,CACX8e,IAAK/S,EAAM6mB,cAAc9T,IACzBrO,WACAiG,SAGF3C,EAASU,GAAYzU,IACrB+L,EAAM2J,QAAQ,iBACd3J,EAAM0J,cAAa,GACnBiU,EAAY,IACZxP,EAAS,IACTnO,EAAMzI,SAAQ,KA8ClB,OACE,eAAColB,GAAA,EAAD,CAAQrlB,KAAM0I,EAAM1I,KAAMgD,QAAS,IAAM0F,EAAMzI,SAAQ,GAAvD,UACE,cAACqlB,GAAA,EAAD,CAAajjB,GAAI,CAAEtE,SAAU,IAA7B,gCACA,eAACwnB,GAAA,EAAD,CAAeljB,GAAI,CAAE3F,MAAO,KAA5B,UACE,cAAC8X,GAAA,EAAD,CACEC,WAAS,EACTmE,WAAS,EACTtc,OAAO,SACPyG,GAAG,OACH2V,MAAM,YACN/H,KAAK,OACLtK,QAAQ,WACR6O,MAAO9H,EACP4H,SAAWrI,GAAM0Z,EAAY1Z,EAAEsI,OAAOC,SAExC,cAACV,GAAA,EAAD,CACEC,WAAS,EACTnY,OAAO,SACPyG,GAAG,QACH2V,MAAM,gBACN/H,KAAK,QACLtK,QAAQ,WACR6O,MAAO7B,EACP2B,SAAWrI,GAAMkK,EAASlK,EAAEsI,OAAOC,YAGvC,eAACuQ,GAAA,EAAD,WACE,cAACxM,GAAA,EAAD,CAAQvW,QAAS,IAAMgG,EAAMzI,SAAQ,GAArC,oBACA,cAACgZ,GAAA,EAAD,CAAQvW,QAAS,IAAM8sB,IAAvB,2BAMOzpB,WAAMwD,KAAK+lB,ICaXG,OAlJM,KACjB,MAAOC,EAAkBC,GAAuB9vB,oBAAS,IAClD+vB,EAAgBb,GAAqBlvB,oBAAS,IAC9C0vB,EAAeT,GAAoBjvB,mBAAS,KAE5CsS,EAAWC,GAAgBvS,oBAAS,IACpC8mB,EAAYrU,GAAczS,mBAAS,OACnC+mB,EAAUrU,GAAY1S,mBAAS,OAE/Bkf,EAAcmE,GAAmBrjB,mBAAS,MAE3CgwB,EAAYxvB,eAAeC,QAAQ,aACnCF,EAAWC,eAAeC,QAAQ,YAClCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEAoQ,EAAWkC,cACX1S,EAAWC,eACX,MAAE4S,GAAUkO,KAEZxP,EAASqB,aAAaC,GAAUA,EAAMtB,UACtC,UAAEC,EAAF,QAAaW,EAAb,MAAsBzN,GAAU6M,EAEtChR,qBAAU,KACiB2K,WACnB,MAAM4U,QAAgBmB,GAAuBpO,GAC7CmQ,EAAgBlD,IAGpBqD,KACD,IAEH5iB,qBAAU,KACDovB,GACD3vB,EAAS,YAEd,CAAC2vB,IAEJpvB,qBAAU,KACW,OAAbL,GACAsQ,EAASS,GAAU/Q,EAASQ,QAEjC,CAAC8P,IAEJ,MAQMwC,EAAmB,CAACC,EAAGC,KACV,cAAXA,IAIJhB,GAAa,GACbG,EAAS,MACTD,EAAW,QAGf,OACI,eAAC7O,EAAA,EAAD,CAAKpB,GAAI,CAAEgY,EAAG,GAAd,UACI,+CAEA,cAAC1E,GAAA,EAAD,CAAOC,UAAU,MAAMrT,eAAe,WAAtC,SACI,cAAC0W,GAAA,EAAD,CACI5S,QAAQ,YACRhE,GAAI,CAAEgT,GAAI,KACV3S,QA1BW,KAEnBitB,GADAD,IAsBI,4BASJ,cAACjsB,EAAA,EAAD,CAAKpB,GAAI,CAAEqa,GAAI,GAAf,SACI,cAAC,GAAD,CACIoS,iBAAkBA,EAClBC,kBAAmBA,MAI3B,cAACtrB,EAAA,EAAD,UACI,cAAC,GAAD,CACIzD,KAAM0vB,EACNzvB,QAAS0vB,EACThmB,UAAS,OAAEvJ,QAAF,IAAEA,OAAF,EAAEA,EAAUQ,IACrBwR,aAAcA,EACdC,QAASC,EACT1N,MAAO2N,EACPb,UAAWA,EACXqN,aAAcA,MAItB,cAACtb,EAAA,EAAD,UACI,cAAC,GAAD,CACIzD,KAAM4vB,EACN3vB,QAAS8uB,EACTplB,UAAS,OAAEvJ,QAAF,IAAEA,OAAF,EAAEA,EAAUQ,IACrBwR,aAAcA,EACdmd,cAAeA,EACfld,QAASC,EACT1N,MAAO2N,MAIF,OAAZF,GACG,cAACwD,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,UACT3T,GAAI,CAAE3F,MAAO,QACb2J,QAAQ,SAJZ,SAMKsgB,MAIF,OAAV/hB,GACG,cAACiR,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,QACT3T,GAAI,CAAE3F,MAAO,QACb2J,QAAQ,SAJZ,SAMKugB,UClIzB,MAAMzH,GAAS,CACb,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YA2Va2Q,OAxVK,KAClB,MAAOxR,EAAcyR,GAAmBlwB,mBAAS,KAC1C2f,EAAYwQ,GAAiBnwB,mBAAS,KACtCwd,EAAWoF,GAAgB5iB,mBAAS,KACpC8e,EAAesR,GAAoBpwB,mBAAS,KAC5CqwB,EAAcC,GAAmBtwB,mBAAS,KAE1C2S,EAAQC,GAAa5S,oBAAS,IAC9Bme,EAAsB0E,GAA2B7iB,mBAAS,KAC1Dyf,EAAoB8Q,GAAyBvwB,mBAAS,KACtDmb,EAAkB4H,GAAuB/iB,mBAAS,KAClD4e,EAAiBoE,GAAsBhjB,mBAAS,KAChDqb,EAAegE,GAAoBrf,mBACxCsf,IAAO,IAAItd,MAAOkK,cAEb+W,EAASC,GAAcljB,oBAAS,GAEjCO,EAAWC,eAAeC,QAAQ,YACpCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEE0F,EAAY3F,eAAeC,QAAQ,aACrCC,KAAKC,MAAMH,eAAeC,QAAQ,cAClC,KAGJG,qBAAU,KACY2K,WAClB,IACE,MAAMmV,EAAM5f,YAAW1B,EAAI,oBACrB4B,EAAIC,YACRyf,EACA7M,YAAM,YAAa,KAAMtT,EAASQ,KAClC8S,YAAM,UAAW,qBAAsB1N,EAAUqqB,UAG7CC,QAAcnX,YAAQtY,GACtB0vB,EAAQ,GACdD,EAAMjvB,SAASsK,IACb4kB,EAAMhvB,KAAK,IAAKoK,EAASnK,OAAQuB,GAAI4I,EAAS5I,QAGhD,MAAMytB,EAASD,EAAMjtB,KAAKiL,IACjB,CAAEyO,YAAazO,EAAKyO,YAAaja,GAAIwL,EAAKxL,OAGnDgtB,EAAgBS,GAChB,MAAO5rB,GACPC,QAAQC,IAAIF,KAIhBsM,KACC,IAGHzQ,qBAAU,KACU2K,WAChB,IACE,MAAMmV,EAAM5f,YAAW1B,EAAI,kBACrB4B,EAAIC,YACRyf,EACA7M,YAAM,YAAa,KAAMtT,EAASQ,KAClC8S,YAAM+c,cAAc,KAAMzqB,EAAUqqB,UAGhCC,QAAcnX,YAAQtY,GACtB0vB,EAAQ,GACdD,EAAMjvB,SAASsK,IACb4kB,EAAMhvB,KAAK,IAAKoK,EAASnK,OAAQuB,GAAI4I,EAAS5I,QAGhD,MAAMytB,EAASD,EAAMjtB,KAAKiL,IACjB,CAAE0O,UAAW1O,EAAK0O,UAAWla,GAAIwL,EAAKxL,OAG/CitB,EAAcQ,GACd,MAAO5rB,GACPC,QAAQC,IAAIF,KAIhB+M,KACC,IAGHlR,qBAAU,KACgB2K,WACtB,IACE,MAAMslB,EAAkB/vB,YAAW1B,EAAI,iBACjC4B,EAAIC,YACR4vB,EACAhd,YAAM,WAAY,KAAMtT,EAASQ,KACjC8S,YAAM,UAAW,qBAAsB1N,EAAUqqB,UAG7CC,QAAcnX,YAAQtY,GACtB+S,EAAQ,GACR+c,EAAU,GAChBL,EAAMjvB,SAASsK,IACbiI,EAAMrS,KAAK,IAAKoK,EAASnK,OAAQuB,GAAI4I,EAAS5I,KAC9C4tB,EAAQpvB,KAAKoK,EAASnK,OAAOkI,gBAE/BymB,EAAgBQ,GAChBV,EAAiBrc,GACjB,MAAOhP,GACPC,QAAQC,IAAIF,KAIhBgsB,KACC,IAEH,MAAMC,EAAYzlB,MAAO8Q,EAAQZ,IACxB,IAAII,SAAQtQ,UACjB,MAAMmV,EAAM5f,YACV1B,EACA,qBACAid,EAAOxS,YACPtJ,EAASQ,KAGLC,EAAIC,YAAMyf,EAAK7M,YAAM,YAAa,KAAM4H,EAAQvY,WAChDoW,YAAQtY,GAAG4D,MAAMokB,IACrBlN,EAAQ,CAAEmV,MAAOjI,EAAIzP,KAAKnM,OAAQqO,QAASA,EAAQ0B,oBAKnD+T,EAAkB3lB,MAAO8Q,EAAQb,IAC9B,IAAIK,SAAQtQ,UACjB,MAAM2B,EAAM,GACZ,IAAK,IAAIuO,KAAWD,EAAU,CAC5B,MAAM7Z,QAAaqvB,EAAU3U,EAAQZ,GACrCvO,EAAIxL,KAAKC,GAEXma,EAAQ5O,MAINikB,EAAkB5lB,MAAO8Q,EAAQb,IAC9B,IAAIK,SAAQtQ,UACjB,MAAM4R,EAAc3B,EAAS/X,KAAKC,GACzBA,EAAEyZ,cAELuD,EAAM5f,YACV1B,EACA,oBACAid,EAAOxS,YACP,aAEF,IAAI7I,EACJgE,QAAQC,IAAIqa,GAAOZ,QAAQrD,GAAgBA,GAEzCra,EADgC,IAA9Bye,EAAmBrS,OACjBnM,YACFyf,EACA7M,YAAM,YAAa,KAAMtT,EAASQ,KAClC8S,YAAM,QAAS,KAAM4L,GACrB5L,YAAM,QAAS,KAAMyL,GAAOZ,QAAQrD,GAAiB,GACrDna,YAAQ,YAAa,QACrBC,YAAM,MAGJF,YACFyf,EACA7M,YAAM,YAAa,KAAMtT,EAASQ,KAClC8S,YAAM,UAAW,KAAMsJ,GACvBtJ,YAAM,QAAS,KAAMyL,GAAOZ,QAAQrD,GAAiB,GACrDna,YAAQ,YAAa,QACrBC,YAAM,MAIV,MAAMsvB,QAAcnX,YAAQtY,GACtBkM,EAAM,GACZujB,EAAMjvB,SAASC,IACb,MAAME,EAAOF,EAAKE,OAClBuL,EAAIxL,KAAKC,MAEXqD,QAAQC,IAAIiI,GACZ4O,EAAQ5O,MAINkkB,EAAe7lB,MAAOyH,EAASwI,KACnC,MAAM6V,EAAU,GAEhB,IAAK,IAAIhV,KAAUrJ,EAAS,CAC1B,MAAMse,EAAY,GACZhW,QAAgB6V,EAAgB9U,EAAQb,GACxC7Z,QAAauvB,EAAgB7U,EAAQb,GAC3C8V,EAAS,QAAchW,EACvBgW,EAAS,KAAW3vB,EACpB2vB,EAAS,OAAa,CACpBznB,YAAawS,EAAOxS,YACpB0D,SAAU8O,EAAO9O,UAEnB8jB,EAAQ3vB,KAAK4vB,GAGf1O,EAAayO,GACbnO,GAAW,IAGbtiB,qBAAU,KACoB,IAAxByvB,EAAajjB,QAAyC,IAAzB0R,EAAc1R,SAC7C8V,GAAW,GACNvQ,GACHye,EAAatS,EAAeL,MAG/B,CAAC4R,EAAcvR,EAAenM,IAoEjC,OAvCA/R,qBAAU2K,UACR2X,GAAW,GACX,IAAI1H,EAAW,GACqB,IAAhC2C,EAAqB/Q,QACvB+Q,EAAqB3c,SAASkC,IAC5B,MACMsQ,EADOyK,EACU9L,QAAQjE,GAASA,EAAKyO,cAAgBzZ,IAC7D8X,EAAS9Z,QAAQsS,MAEnBpB,GAAU,KAEV4I,EAAWiD,EACX7L,GAAU,IAGZmQ,EAAoBvH,GACpB,IAAIxI,EAAU,GACiB,IAA3B4L,EAAgBxR,QAClB0R,EAActd,SAAS+vB,IACrB3S,EAAgBpd,SAAQ,CAACkC,EAAGC,KAC1B,MAAM+f,EAAShgB,EAAEvB,MAAM,OAAO,GAC1BovB,EAAE1nB,cAAgB6Z,GACpB1Q,EAAQtR,KAAK6vB,SAInB3e,GAAU,KAEVI,EAAU8L,EACVlM,GAAU,IAGsB,IAA9B6M,EAAmBrS,QACrBwF,GAAU,SAGNwe,EAAape,EAASwI,KAC3B,CAACoD,EAAiBT,EAAsBsB,EAAoBpE,IAG7D,eAACzX,EAAA,EAAD,CAAKpB,GAAI,CAAEgY,EAAG,GAAd,UACE,eAAC5W,EAAA,EAAD,CACEpB,GAAI,CACFC,QAAS,OACTC,eAAgB,WAChBC,IAAK,EACLoB,GAAI,GALR,UAQE,cAAC,GAAD,CACEub,OAAQA,GACRjE,cAAeA,EACfgE,iBAAkBA,IAGpB,cAAC,GAAD,CACEjB,oBAlFoB7S,UAC1B,MACE6J,QAAQ,MAAEC,IACRvS,EACJ+f,EACmB,kBAAVxN,EAAqBA,EAAMlT,MAAM,KAAOkT,IA8E3C8I,qBAAsBA,EACtBM,aAAcA,IAGhB,cAAC,GAAD,CACEiB,kBA9EkBnU,UACxB,MACE6J,QAAQ,MAAEC,IACRvS,EACJytB,EAAuC,kBAAVlb,EAAqBA,EAAMlT,MAAM,KAAOkT,IA2E/DoK,mBAAoBA,EACpBE,WAAYA,IAGd,cAAC,GAAD,CACEd,qBA5EsB/b,IAC5B,MACEsS,QAAQ,MAAEC,IACRvS,EACJkgB,EAAoC,kBAAV3N,EAAqBA,EAAMlT,MAAM,KAAOkT,IAyE5DuJ,gBAAiBA,EACjBE,cAAeA,IAGjB,cAAC1F,GAAA,EAAD,CAAQ5S,QAAQ,WAAWhE,GAAI,CAAEgT,GAAI,IAAK3O,GAAI,EAAG3I,SAAU,IAA3D,8BAKF,cAAC0F,EAAA,EAAD,CAAKpB,GAAI,CAAEqa,GAAI,GAAf,SACIoG,EAUA,cAACrf,EAAA,EAAD,CACEpB,GAAI,CACFC,QAAS,OACTC,eAAgB,SAChBqB,GAAI,SAJR,SAOE,cAACsZ,GAAA,EAAD,CAAkBra,MAAM,cAhB1B,cAAC,GAAD,CACEwa,UAAWA,EACXiB,aACkC,IAAhCN,EAAqB/Q,OACjBqR,EACAtD,UChVlB,MAAM9e,GAAYC,aAAYa,IAAD,CACzBiZ,MAAO,CACHC,gBAAiB,0CACjBC,iBAAkB,YAClBvZ,gBAC2B,UAAvBI,EAAME,QAAQyT,KACR3T,EAAME,QAAQkZ,KAAK,IACnBpZ,EAAME,QAAQkZ,KAAK,KAC7BC,eAAgB,QAChBC,mBAAoB,UAExBjZ,MAAO,CACHf,OAAQU,EAAMuI,QAAQ,EAAG,GACzBjD,QAAS,OACToD,cAAe,SACfJ,WAAY,UAEhBiR,OAAQ,CACJja,OAAQU,EAAMuI,QAAQ,GACtB3I,gBAAiBI,EAAME,QAAQQ,UAAUF,MAE7CgZ,KAAM,CACF9Z,MAAO,OACP+Z,UAAWzZ,EAAMuI,QAAQ,IAE7BmR,MAAO,CACHpa,OAAQU,EAAMuI,QAAQ,EAAG,EAAG,GAC5BhJ,QAASS,EAAMuI,QAAQ,KACvBxH,SAAU,IAEd4Y,YAAa,CACTra,OAAQU,EAAMuI,QAAQ,EAAG,EAAG,GAC5BxH,SAAU,QAqIHszB,OAjIQ,KACnB,MAAMzrB,EAAU1J,KACVgE,EAAWC,eAEVmqB,EAAiBC,GAAsB1qB,mBAAS,KAChD2qB,EAAaC,GAAkB5qB,mBAAS,IAEzCmG,EAAY3F,eAAeC,QAAQ,aACnCC,KAAKC,MAAMH,eAAeC,QAAQ,cAClC,KAEAoQ,EAAWkC,cAgDjB,OACI,eAACuB,GAAA,EAAD,CACI9R,GAAI,CAAE5F,OAAQ,QACd2X,WAAS,EACThL,UAAU,OACVhG,UAAWwC,EAAQb,KAJvB,UAMI,cAACoB,EAAA,EAAD,IACA,cAACgO,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,IAAI,EAAOgE,GAAI,EAAGC,GAAI,EAAGlV,UAAWwC,EAAQqQ,QACvD,cAAC9B,GAAA,EAAD,CACI5F,MAAI,EACJ8F,GAAI,GACJgE,GAAI,EACJC,GAAI,EACJlP,UAAWmL,KACXpS,UAAW,EACXoW,QAAM,EAPV,SASI,sBAAKnV,UAAWwC,EAAQvI,MAAxB,UACI,cAAC0G,EAAA,EAAD,CAAQX,UAAWwC,EAAQ2Q,OAA3B,SACI,cAAC,KAAD,MAEJ,cAAC1P,GAAA,EAAD,CACIuC,UAAU,KACV/C,QAAQ,KACRhE,GAAI,CAAEuB,GAAI,EAAG2R,GAAI,GAHrB,6BAOA,uBAAMnS,UAAWwC,EAAQ4Q,KAAMgC,YAAU,EAAzC,UACI,cAAChE,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,WACH2V,MAAM,mBACN5L,KAAK,WACL6L,aAAa,OACbhI,KAAK,WACLuE,MAAOoV,EACPtV,SAAWrI,GAAM4d,EAAmB5d,EAAEsI,OAAOC,SAEjD,cAACV,GAAA,EAAD,CACInO,QAAQ,WACR/J,OAAO,SACPmY,WAAS,EACT1R,GAAG,WACH2V,MAAM,eACN5L,KAAK,WACL6D,KAAK,WACLgI,aAAa,OACbzD,MAAOsV,EACPxV,SAAWrI,GAAM8d,EAAe9d,EAAEsI,OAAOC,SAE7C,cAAC+D,GAAA,EAAD,CACIxE,WAAS,EACTpO,QAAQ,YACRxD,MAAM,UACNO,UAAWwC,EAAQ8Q,MACnBhU,QAAS,IAzGX0I,WAClB,GAAkB,OAAdpF,EACA,OAGJ,GAAIwkB,EAAYvd,OAAS,EAErB,YADA+K,MAAM,+CAIV,MAAMvO,EAAOrK,EAAKob,YACZjD,EAAaqT,IAAkBrT,WACjCvR,EAAUqN,MACViX,GAGJO,YAA6BphB,EAAM8N,GAC9B9S,MAAK,KACFqmB,YAAerhB,EAAM+gB,GAChB/lB,MAAK2G,UACF,MAAMzO,EAAO,CACT8e,IAAKzV,EAAUyV,IACf7D,iBAAiB,GAErBlH,EAASU,GAAYzU,OAExB8H,MAAK,KACFgmB,EAAe,IACfF,EAAmB,IACnBvS,MAAM,iCAEN9X,EAAS,iBAAkB,CAAEwE,SAAS,OAEzCC,OAAO6G,IACJ,MAAMqM,EAAYrM,EAAIsM,KAChBC,EAAevM,EAAItH,QACzB8T,MAAMH,EAAWE,SAG5BpT,OAAO6G,IACJ,MAAMqM,EAAYrM,EAAIsM,KAChBC,EAAevM,EAAItH,QACzB8T,MAAMH,EAAWE,OA+DUuB,GALnB,yC,mDCVTgY,OAlJE5oB,GAST,eAAC6oB,GAAA,EAAD,CACInuB,UAAU,mBACVf,GAAI,CACAoiB,UAAW,GACXpP,GAAI,EACJ3O,GAAI,GALZ,UAQI,eAACjD,EAAA,EAAD,WACI,eAACkS,GAAA,EAAD,CACIpQ,QAAS,EACTqQ,UAAU,MACVvT,GAAI,CAAEkT,GAAI,GACVjQ,WAAW,SACX/C,eAAe,gBALnB,UAcI,cAACsE,GAAA,EAAD,CACIR,QAAQ,KACRhE,GAAI,CAAEqa,GAAI,EAAG3e,SAAU,GAAI8E,MAAO,SAFtC,SAIM,IAAG6F,EAAMwM,UAEdxM,EAAM8oB,WACH,eAAC/tB,EAAA,EAAD,CAAKpB,GAAI,CAAEC,QAAS,OAAQgD,WAAY,UAAxC,UACI,qBACI5B,MAAO,CACHhH,MAAO,OACPD,OAAQ,OACRG,gBAAiB,UACjB6Q,aAAc,SAGtB,cAAC5G,GAAA,EAAD,CACIR,QAAQ,KACRhE,GAAI,CAAEqa,GAAI,EAAG7Z,MAAO,UAAW+a,GAAI,GAFvC,0BASZ,cAACsI,GAAA,EAAD,CACIxN,MAAM,cACNrS,QAAQ,WACRjD,UAAU,OACVf,GAAI,CACAqa,GAAI,EACJ7Z,MAAO,UACPojB,OAAQ,sBACRvpB,MAAO,UAIf,eAACiZ,GAAA,EAAD,CAAOC,UAAU,MAAMrT,eAAe,gBAAtC,UACI,eAACsE,GAAA,EAAD,CACIR,QAAQ,KACRhE,GAAI,CAAEqa,GAAI,EAAG3e,SAAU,GAAI8E,MAAO,SAFtC,eAIO,IACH,sBACIa,MAAO,CACHb,MAAO,OACP9E,SAAU,GACV0zB,cAAe,aAJvB,uBAWJ,cAAC5qB,GAAA,EAAD,CACIR,QAAQ,KACRhE,GAAI,CAAEqa,GAAI,EAAG3e,SAAU,GAAI8E,MAAO,SAFtC,SAIM,GAAE6F,EAAMwM,aAIlB,eAACS,GAAA,EAAD,CACIpQ,QAAS,EACTqQ,UAAU,MACVvT,GAAI,CAAEkT,GAAI,GACVjQ,WAAW,SAJf,UAMI,cAACuB,GAAA,EAAD,CAAYR,QAAQ,KAAKxD,MAAM,QAA/B,eAGA,cAAC6uB,GAAA,EAAD,CACIrvB,GAAI,CAAEQ,MAAO,cACbqS,MAAOxM,EAAMwM,MACbF,SAAUtM,EAAMipB,kBAChBC,IAAK,MAET,cAAC/qB,GAAA,EAAD,CAAYR,QAAQ,KAAKxD,MAAM,QAA/B,qBAKJ,cAACQ,EAAA,EAAD,CAAMhB,GAAI,CAAEqa,GAAI,GAAhB,SAjHK,CACb,qBACA,oBACA,mBACA,mBACA,kCA6GsBpZ,KAAKC,GACX,eAACI,EAAA,EAAD,CAAUkuB,gBAAc,EAAxB,UACI,cAACC,GAAA,EAAD,UACI,cAAC,KAAD,CACIC,UAAU,UACV1vB,GAAI,CAAEtE,SAAU,GAAI2e,GAAI,GAAKkB,GAAI,QAGzC,cAAC3Z,EAAA,EAAD,CAAc3G,QAASiG,EAAGlB,GAAI,CAAEQ,MAAO,aAPbU,UAa1C,cAAC0V,GAAA,EAAD,CACI7V,UAAU,cACViD,QAAQ,YAERhE,GAAI,CACAgT,GAAI,IACJ5H,aAAc,GACdgX,UAAW,GAEf/hB,QAASgG,EAAMoX,OATnB,8B,qBClBGkS,OA7GGtpB,GASV,eAAC6oB,GAAA,EAAD,CACInuB,UAAU,eACVf,GAAI,CACAgT,GAAI,EACJ3O,GAAI,GAJZ,UAOI,eAACjD,EAAA,EAAD,WACI,eAACkS,GAAA,EAAD,CACIpQ,QAAS,EACTqQ,UAAU,MACVvT,GAAI,CAAEkT,GAAI,GACVjQ,WAAW,SACX/C,eAAe,gBALnB,UAOI,cAACsE,GAAA,EAAD,CAAYR,QAAQ,KAAKhE,GAAI,CAAEqa,GAAI,EAAG3e,SAAU,IAAhD,gBAGC2K,EAAM8oB,WACH,eAAC/tB,EAAA,EAAD,CAAKpB,GAAI,CAAEC,QAAS,OAAQgD,WAAY,UAAxC,UACI,qBACI5B,MAAO,CACHhH,MAAO,OACPD,OAAQ,OACRG,gBAAiB,QACjB6Q,aAAc,SAGtB,cAAC5G,GAAA,EAAD,CACIR,QAAQ,KACRhE,GAAI,CAAEqa,GAAI,EAAG7Z,MAAO,UAAW+a,GAAI,GAFvC,0BASZ,cAACsI,GAAA,EAAD,CACIxN,MAAM,eACNrS,QAAQ,WACRjD,UAAU,OACVf,GAAI,CACAqa,GAAI,EACJ7Z,MAAO,UACPojB,OAAQ,sBACRvpB,MAAO,UAGf,eAACmK,GAAA,EAAD,CAAYR,QAAQ,KAAKhE,GAAI,CAAEqa,GAAI,EAAG3e,SAAU,IAAhD,eACO,IACH,sBACI2F,MAAO,CACHb,MAAO,OACP9E,SAAU,GACV0zB,cAAe,aAJvB,uBAWJ,cAACpuB,EAAA,EAAD,CAAMhB,GAAI,CAAEqa,GAAI,EAAG9Y,GAAI,GAAvB,SArEK,CACb,mBACA,oBACA,gBACA,YACA,8BAiEsBN,KAAI,CAACC,EAAGC,IACd,eAACG,EAAA,EAAD,CAAkBkuB,gBAAc,EAAhC,UACI,cAACC,GAAA,EAAD,UACW,IAANtuB,EACG,cAAC,KAAD,CACIuuB,UAAU,UACV1vB,GAAI,CAAEtE,SAAU,GAAI2e,GAAI,GAAKkB,GAAI,MAGrC,cAAC,KAAD,CACImU,UAAU,UACV1vB,GAAI,CAAEtE,SAAU,GAAI2e,GAAI,GAAKkB,GAAI,QAI7C,cAAC3Z,EAAA,EAAD,CAAc3G,QAASiG,MAdZC,UAoB3B,cAACyV,GAAA,EAAD,CACI7V,UAAU,eACViD,QAAQ,WACRoP,SAAU/M,EAAM8oB,UAChBnvB,GAAI,CACAgT,GAAI,IACJ5H,aAAc,GACdgX,UAAW,GAEf/hB,QAASgG,EAAMoX,OATnB,+BCkDGmS,OAtJC,KACZ,MAAO7P,EAAU8P,GAAensB,IAAMlG,SAAS,MACxCsyB,EAAaC,GAAkBvyB,mBAAS,KACxC2hB,EAAQ6Q,GAAaxyB,mBAAS,IAE/BK,EAAWC,eAEX,MAAE4S,EAAF,SAASrC,GAAauQ,KACtBvB,EAAU,OAAG3M,QAAH,IAAGA,OAAH,EAAGA,EAAO2M,WAE1Bjf,qBAAU,KACN,GAAIsS,EAAM4M,cAAe,CACrB,IAAIZ,EACJ,IAAK,IAAIsC,KAAT,OAAgBtO,QAAhB,IAAgBA,GAAhB,UAAgBA,EAAO4M,qBAAvB,aAAgB,EAAsBne,KAAM,CAAC,IAAD,EACxC,GAAmB,WAAf6f,EAAIC,OAAqB,CACzBvC,EAAesC,EACf,OAIR,MAAMM,EAAO5C,EAAeA,EAAa4C,KAAK5e,GAAK,GAC7CuvB,EAAcvT,EAAeA,EAAaqD,SAAW,EAE3DgQ,EAAezQ,GACfuQ,EAAYI,MAEjB,CAACvf,IAEJtS,qBAAU,KACc2K,WAChB,MAAM,KAAE5J,SAAe6J,KAAMC,IACxB,GAAEjD,0BAGPxD,QAAQC,IAAItD,GACZ6wB,EAAU7wB,EAAKggB,SAGnB+Q,KACD,IAEH,MAAMZ,EAAoB,CAACxe,EAAGqf,KAC1BN,EAAYM,IAGVC,EAAqBrnB,MAAOyW,EAAS6Q,KACvC,GAAIA,GAAU,EACV1a,MAAM,sCAGV,IACI,MAAM5P,EAAS,CACX2I,QAAS,CACL,eAAgB,qBAGlBpU,EAAO,CACT+iB,aACAiT,QAAS9Q,EAAQ9e,GACjBqf,SAAUsQ,IAER,KAAElxB,SAAe6J,KAAM2F,KACxB,GAAE3I,yBACH1L,EACAyL,GAGJvD,QAAQC,IAAItD,GACZ,MAAM,aAAEoxB,GAAiBpxB,EAEpBoxB,GAcDliB,EAAS,CACLC,KAAM,iBACNE,QAAS,CACL+O,KAAM,CAAEiC,UAAS+Q,mBAII,cAAzB/Q,EAAQA,QAAQ/U,MAChB+lB,OAAO/pB,SAASgqB,SAEpB5yB,EAAS,aAAc,CAAE6S,MAAO,CAAEqP,gBAvBlCvd,QAAQC,IAAI,8BACZ4L,EAAS,CACLC,KAAM,iBACNE,QAAS,CACL+O,KAAM,CAAEiC,UAAS+Q,mBAGzB/tB,QAAQC,IAAI,QAEiB,cAAzB+c,EAAQA,QAAQ/U,MAChB+lB,OAAO/pB,SAASgqB,UAe1B,MAAOluB,GACLC,QAAQC,IAAIF,EAAMV,WAI1B,OACI,eAACT,EAAA,EAAD,CAAKpB,GAAI,CAAEgY,EAAG,GAAd,UACI,eAAC5W,EAAA,EAAD,CAAKpB,GAAI,CAAEuB,GAAI,EAAG2R,GAAI,GAAtB,UACI,cAAC1O,GAAA,EAAD,CAAYR,QAAQ,KAAKhE,GAAI,CAAEgL,UAAW,UAA1C,8BAGA,cAACxG,GAAA,EAAD,CACIksB,SAAS,KACT1wB,GAAI,CACAgL,UAAW,SACXzJ,GAAI,EACJ5F,cAAe,GACf6E,MAAO,QANf,sEAYJ,cAACY,EAAA,EAAD,CACIL,UAAU,iBACVf,GAAI,CACAuB,GAAI,GAHZ,SAMK4d,EAAOle,KAAK0vB,GACT,eAACvvB,EAAA,EAAD,WAC4B,aAAvBuvB,EAAMnR,QAAQ/U,MACX,cAAC,GAAD,CACIoI,MAAOkN,EACPuP,kBAAmBA,EACnBH,UAAWW,IAAgBa,EAAMjwB,GACjC+c,OAAQ,IACJ2S,EAAmBO,EAAO5Q,KAId,cAAvB4Q,EAAMnR,QAAQ/U,MACX,cAAC,GAAD,CACI0kB,UAAWW,IAAgBa,EAAMjwB,GACjC+c,OAAQ,IAAM2S,EAAmBO,EAAO,OAd1CA,EAAMjwB,Y,wCChFrBkwB,OA5Cf,UAAqB,WAAEC,EAAF,aAAcC,EAAd,SAA4B/Q,IAC7C,MAAM,MAAErP,GAAUkO,KAGlB,OAFApc,QAAQC,IAAIiO,GAGR,eAACtP,EAAA,EAAD,WACI,eAAC0Q,GAAA,EAAD,CAAMC,WAAS,EAAC7O,QAAS,EAAzB,UACI,cAAC4O,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,GAAI,GAAf,SACI,sDAEJ,cAACF,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,GAAI,GAAf,SACI,cAAC5Q,EAAA,EAAD,UACI,cAAC,eAAD,WAKZ,cAAC0Q,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,GAAI,GAAf,SACI,eAAC5Q,EAAA,EAAD,CACIG,GAAI,EACJ0B,WAAW,SACX/C,eAAe,gBACfD,QAAQ,OAJZ,UAMI,cAAC2W,GAAA,EAAD,CACI+R,UAAW,cAAC,KAAD,IACXtoB,QAASwwB,EAFb,qBAMA,cAACja,GAAA,EAAD,CACItI,KAAK,SACLtK,QAAQ,YACR3D,QAASywB,EACT9wB,GAAI,CAAEgT,GAAI,IAAKtX,SAAU,GAAI2I,GAAI,QAJrC,SAMM,SAAQ0b,eChD3B,MAAM+G,GAAY,CACrB,CAAErc,KAAM,cAAegL,KAAM,MAC7B,CAAEhL,KAAM,mBAAiBgL,KAAM,MAC/B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,iBAAkBgL,KAAM,MAChC,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,sBAAuBgL,KAAM,MACrC,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,yBAA0BgL,KAAM,MACxC,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,gBAAiBgL,KAAM,MAC/B,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,iCAAkCgL,KAAM,MAChD,CAAEhL,KAAM,oBAAqBgL,KAAM,MACnC,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,eAAgBgL,KAAM,MAC9B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,iBAAkBgL,KAAM,MAChC,CAAEhL,KAAM,2BAA4BgL,KAAM,MAC1C,CAAEhL,KAAM,OAAQgL,KAAM,MACtB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,mBAAoBgL,KAAM,MAClC,CAAEhL,KAAM,0BAA2BgL,KAAM,MACzC,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,wCAAyCgL,KAAM,MACvD,CAAEhL,KAAM,eAAgBgL,KAAM,MAC9B,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,gBAAiBgL,KAAM,MAC/B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,OAAQgL,KAAM,MACtB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,iBAAkBgL,KAAM,MAChC,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,qBAAsBgL,KAAM,MACpC,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,cAAegL,KAAM,MAC7B,CAAEhL,KAAM,oBAAqBgL,KAAM,MACnC,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,8BAA+BgL,KAAM,MAC7C,CAAEhL,KAAM,gBAAiBgL,KAAM,MAC/B,CAAEhL,KAAM,OAAQgL,KAAM,MACtB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,gBAAiBgL,KAAM,MAC/B,CAAEhL,KAAM,mBAAoBgL,KAAM,MAClC,CAAEhL,KAAM,8BAA+BgL,KAAM,MAC7C,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,OAAQgL,KAAM,MACtB,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,gBAAiBgL,KAAM,MAC/B,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,oCAAqCgL,KAAM,MACnD,CAAEhL,KAAM,gCAAiCgL,KAAM,MAC/C,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,4BAA6BgL,KAAM,MAC3C,CAAEhL,KAAM,OAAQgL,KAAM,MACtB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,cAAegL,KAAM,MAC7B,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,yCAA0CgL,KAAM,MACxD,CAAEhL,KAAM,qBAAsBgL,KAAM,MACpC,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,mCAAoCgL,KAAM,MAClD,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,yBAA0BgL,KAAM,MACxC,CAAEhL,KAAM,gBAAiBgL,KAAM,MAC/B,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,6CAA8CgL,KAAM,MAC5D,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,OAAQgL,KAAM,MACtB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,mBAAoBgL,KAAM,MAClC,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,kCAAmCgL,KAAM,MACjD,CAAEhL,KAAM,uBAAwBgL,KAAM,MACtC,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,cAAegL,KAAM,MAC7B,CAAEhL,KAAM,uBAAwBgL,KAAM,MACtC,CAAEhL,KAAM,gBAAiBgL,KAAM,MAC/B,CAAEhL,KAAM,cAAegL,KAAM,MAC7B,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,OAAQgL,KAAM,MACtB,CAAEhL,KAAM,iBAAkBgL,KAAM,MAChC,CAAEhL,KAAM,2BAA4BgL,KAAM,MAC1C,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,OAAQgL,KAAM,MACtB,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,kCAAmCgL,KAAM,MACjD,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,mBAAoBgL,KAAM,MAClC,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,OAAQgL,KAAM,MACtB,CAAEhL,KAAM,cAAegL,KAAM,MAC7B,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,cAAegL,KAAM,MAC7B,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,qBAAsBgL,KAAM,MACpC,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,eAAgBgL,KAAM,MAC9B,CAAEhL,KAAM,wBAAyBgL,KAAM,MACvC,CAAEhL,KAAM,cAAegL,KAAM,MAC7B,CAAEhL,KAAM,4BAA6BgL,KAAM,MAC3C,CAAEhL,KAAM,mCAAoCgL,KAAM,MAClD,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,wBAAyBgL,KAAM,MACvC,CAAEhL,KAAM,eAAgBgL,KAAM,MAC9B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,wBAAyBgL,KAAM,MACvC,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,eAAgBgL,KAAM,MAC9B,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,kBAAmBgL,KAAM,MACjC,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,eAAgBgL,KAAM,MAC9B,CAAEhL,KAAM,+CAAgDgL,KAAM,MAC9D,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,yBAA0BgL,KAAM,MACxC,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,cAAegL,KAAM,MAC7B,CAAEhL,KAAM,uBAAwBgL,KAAM,MACtC,CAAEhL,KAAM,4BAA6BgL,KAAM,MAC3C,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,+BAAgCgL,KAAM,MAC9C,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,cAAegL,KAAM,MAC7B,CAAEhL,KAAM,OAAQgL,KAAM,MACtB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,sBAAuBgL,KAAM,MACrC,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,eAAgBgL,KAAM,MAC9B,CAAEhL,KAAM,2BAA4BgL,KAAM,MAC1C,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,uBAAwBgL,KAAM,MACtC,CAAEhL,KAAM,iBAAkBgL,KAAM,MAChC,CAAEhL,KAAM,gBAAiBgL,KAAM,MAC/B,CAAEhL,KAAM,uCAAwCgL,KAAM,MACtD,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,aAAcgL,KAAM,MAC5B,CAAEhL,KAAM,UAAWgL,KAAM,MACzB,CAAEhL,KAAM,YAAagL,KAAM,MAC3B,CAAEhL,KAAM,WAAYgL,KAAM,MAC1B,CAAEhL,KAAM,0BAA2BgL,KAAM,MACzC,CAAEhL,KAAM,uBAAwBgL,KAAM,MACtC,CAAEhL,KAAM,oBAAqBgL,KAAM,MACnC,CAAEhL,KAAM,iBAAkBgL,KAAM,MAChC,CAAEhL,KAAM,QAASgL,KAAM,MACvB,CAAEhL,KAAM,SAAUgL,KAAM,MACxB,CAAEhL,KAAM,WAAYgL,KAAM,OCzGfsb,OA9Hf,SAAiB1qB,GAAQ,IAAD,EACpB,MAAM,MAAEqK,GAAUkO,KACZoS,EAAI,OAAGtgB,QAAH,IAAGA,GAAH,UAAGA,EAAO6M,YAAV,aAAG,EAAaI,SACnBA,EAASsT,GAAczzB,mBAC1BwzB,GAEM,CACIvmB,KAAM,GACNzD,QAAS,GACTkqB,KAAM,GACNxgB,MAAO,GACPygB,QAAS,KAIjBC,EAAgB9mB,IAClB2mB,EAAW,IAAKtT,EAAS,CAACrT,EAAEsI,OAAOnI,MAAOH,EAAEsI,OAAOC,SAYvD,OACI,eAACzR,EAAA,EAAD,WACI,eAAC0Q,GAAA,EAAD,CAAMC,WAAS,EAAC7O,QAAS,EAAzB,UACI,cAAC4O,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,GAAI,GAAf,SACI,mDAEJ,cAACF,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,GAAI,GAAf,SACI,cAACG,GAAA,EAAD,CACIoE,WAAS,EACTnE,WAAS,EACTiE,MAAM,mBACN5L,KAAK,OACL2L,UAAQ,EACRvD,MAAO8K,EAAQlT,KACfkI,SAAUye,MAIlB,cAACtf,GAAA,EAAD,CAAM5F,MAAI,EAAC+J,GAAI,GAAIjE,GAAI,GAAvB,SACI,mDAEJ,cAACF,GAAA,EAAD,CAAM5F,MAAI,EAAC+J,GAAI,EAAGjE,GAAI,GAAtB,SACI,cAACG,GAAA,EAAD,CACIC,WAAS,EACTiE,MAAM,iBACN5L,KAAK,UACL2L,UAAQ,EACRvD,MAAO8K,EAAQ3W,QACf2L,SAAUye,MAIlB,cAACtf,GAAA,EAAD,CAAM5F,MAAI,EAAC+J,GAAI,EAAGjE,GAAI,GAAtB,SACI,eAACsJ,GAAA,EAAD,CAAalJ,WAAS,EAAtB,UACI,cAACoJ,GAAA,EAAD,CAAY9a,GAAG,iBAAf,qBACA,cAAC+a,GAAA,EAAD,CACIrF,UAAQ,EACR+M,QAAQ,iBACR1Y,KAAK,UACLoI,MAAO8K,EAAQwT,QACf9a,MAAM,UACN1D,SAAUye,EANd,SAQKtK,GAAU7lB,KAAKC,GACZ,cAAC6R,GAAA,EAAD,CACI/S,GAAI,CAAEgT,GAAI,GAEVH,MAAO3R,EAAEuU,KAHb,SAIG,GAAEvU,EAAEuJ,UAAUvJ,EAAEuU,QAFVvU,EAAEuU,eAO3B,cAAC3D,GAAA,EAAD,CAAM5F,MAAI,EAAC+J,GAAI,EAAGjE,GAAI,GAAtB,SACI,cAACG,GAAA,EAAD,CACIC,WAAS,EACTiE,MAAM,QACN5L,KAAK,QACL2L,UAAQ,EACRvD,MAAO8K,EAAQjN,MACfiC,SAAUye,MAGlB,cAACtf,GAAA,EAAD,CAAM5F,MAAI,EAAC+J,GAAI,EAAGjE,GAAI,GAAtB,SACI,cAACG,GAAA,EAAD,CACIC,WAAS,EACTiE,MAAM,OACN5L,KAAK,OACL2L,UAAQ,EACRvD,MAAO8K,EAAQuT,KACfve,SAAUye,SAItB,cAACtf,GAAA,EAAD,CAAM5F,MAAI,EAAC8F,GAAI,GAAf,SACI,cAAC5Q,EAAA,EAAD,CACIG,GAAI,EACJ0B,WAAW,SACX/C,eAAe,gBACfD,QAAQ,OAJZ,SAMI,cAAC2W,GAAA,EAAD,CACItI,KAAK,SACLtK,QAAQ,YACR3D,QAAS,IA7FNlB,KACnB,GAAIyjB,OAAOyO,OAAOlyB,GAAMuS,SAAS,IAG7B,OAFArL,EAAMohB,YAAY,gCAClBphB,EAAM0J,cAAa,GAGvB1J,EAAMirB,WAAWnyB,IAuFcoyB,CAAc5T,GAC7B3d,GAAI,CACA3F,MAAO,OACP2Y,GAAI,KANZ,qC,UCpHpB,MAAMwe,GAAiBnrB,IACnB,MAAOkjB,EAAUkI,GAAej0B,mBAAS,IAClCk0B,EAAYC,GAAiBn0B,mBAAS,GAEvCK,EAAWC,cAyBjB,OAvBAM,qBAAU,KACN,IAAmB,IAAfiI,EAAM1I,KACN,OAGJ,MAAMi0B,EAAWC,aAAY,KACzBJ,GAAalI,GAAaA,EAAW,MACtC,KAIH,OAFAoI,EAAcC,GAEP,IAAME,cAAcF,KAC5B,CAACvrB,IAEJjI,qBAAU,KACFmrB,EAAW,MACXuI,cAAcJ,GACd7zB,EAAS,eAAgB,CAAEwE,SAAS,OAEzC,CAACknB,IAEJ/mB,QAAQC,IAAI,QAGR,cAACugB,GAAA,EAAD,CAAQrlB,KAAM0I,EAAM1I,KAAMgD,QAAS0F,EAAM0rB,YAAzC,SACI,cAAC7O,GAAA,EAAD,UACI,eAAC9hB,EAAA,EAAD,WACI,qBACIO,IAAI,6IACJ2V,IAAI,gBACJjW,MAAO,CAAEhH,MAAO,QAASD,OAAQ,WAGrC,cAAC43B,GAAA,EAAD,CACIhuB,QAAQ,cACR6O,MAAO0W,EACP/oB,MAAM,oBAQfkD,WAAMwD,KAAKsqB,IC5CX,SAASS,KACpB,MAAMC,EAASC,uBACTC,EAAWC,0BACX,MAAE3hB,EAAF,SAASrC,GAAauQ,MACtB,KAAErB,GAAS7M,GAEV4hB,EAAUC,GAAgB/0B,mBAAS,KAEnCg1B,EAAUC,GAAej1B,oBAAS,IAElCsS,EAAWC,GAAgBvS,oBAAS,IACpC+mB,EAAUkD,GAAejqB,mBAAS,OAElCk1B,EAAeC,GAAoBn1B,oBAAS,GAE7CK,EAAWC,cACX2I,EAAWmsB,cACX7S,EAAWtZ,EAASiK,MAAQjK,EAASiK,MAAMqP,SAAW,EAgEtDlP,EAAmB,CAACvQ,EAAOyQ,KACd,cAAXA,IAIJhB,GAAa,GACb0X,EAAY,QAOhB,OACI,eAACrmB,EAAA,EAAD,CAAKpB,GAAI,CAAEgY,EAAG,EAAGld,WAAY,UAAW+O,UAAW,QAAnD,UACI,cAACzI,EAAA,EAAD,UACI,cAACwV,GAAA,EAAD,CACI+R,UAAW,cAAC,KAAD,IACXtoB,QAAS,IAAMxC,EAAS,gBAF5B,uBAOJ,eAACuD,EAAA,EAAD,CAAKpB,GAAI,CAAEuB,GAAI,EAAG2R,GAAI,GAAtB,UACI,cAAC1O,GAAA,EAAD,CAAYR,QAAQ,KAAKhE,GAAI,CAAEgL,UAAW,UAA1C,4BAGA,cAACxG,GAAA,EAAD,CACIksB,SAAS,KACT1wB,GAAI,CACAgL,UAAW,SACXzJ,GAAI,EACJ5F,cAAe,GACf6E,MAAO,QANf,8FAcJ,eAAC0R,GAAA,EAAD,CACIlS,GAAI,CACAoL,aAAc,EACdgX,UAAW,GACXnoB,OAAQ,YACRM,gBAAiB,mBACjByd,EAAG,EACHjO,SAAU,QACVxI,GAAI,GARZ,UAWKixB,GACG,cAAC,GAAD,CACI3B,WAAY,KACR4B,GAAY,IAEhB3B,aAlHC/nB,UAAkB,IAAD,MAKlC,GAFAzI,EAAMiK,kBAED2nB,IAAWE,EAGZ,OAGJ5vB,QAAQC,IAAR,OAAYiO,QAAZ,IAAYA,OAAZ,EAAYA,EAAO6M,MAEnB,MAAM,MAAEhb,EAAF,cAASswB,SAAwBX,EAAOY,mBAAP,OACnCpiB,QADmC,IACnCA,GADmC,UACnCA,EAAO6M,YAD4B,aACnC,EAAagT,aACb,CACIwC,eAAgB,CACZC,KAAMZ,EAASa,WAAWC,gBAC1BC,gBAAiB,CACb1oB,KAAI,OAAE8S,QAAF,IAAEA,OAAF,EAAEA,EAAMI,QAAQlT,KACpBzD,QAAS,CACLosB,MAAK,OAAE7V,QAAF,IAAEA,OAAF,EAAEA,EAAMI,QAAQ3W,QACrBqsB,aAAiB,OAAJ9V,QAAI,IAAJA,OAAA,EAAAA,EAAMI,QAAQ2V,MAAO,QAClCpC,KAAI,OAAE3T,QAAF,IAAEA,GAAF,UAAEA,EAAMI,eAAR,aAAE,EAAeuT,KACrBC,QAAO,OAAE5T,QAAF,IAAEA,GAAF,UAAEA,EAAMI,eAAR,aAAE,EAAewT,aA5B5BtvB,MAmCZU,GAnCYV,EAqCDU,EAAMV,QApCrB0wB,EAAc,GAAED,QAAezwB,KAqC3B4lB,EAAYllB,EAAMV,SAClBkO,GAAa,GACbvN,QAAQC,IAAIF,EAAMV,UAGW,cAAzBgxB,EAAc5T,SAMdzc,QAAQC,IAAI,WACZkwB,GAAiB,KAqET5S,SAAUA,KAGhByS,GACE,cAAC,GAAD,CACIlB,WAAa3T,IACTtP,EAAS,CACLC,KAAM,kBACNE,QAAS,CACLmP,QAASA,KAGjB8U,GAAY,IAEhBhL,YAAaA,EACb1X,aAAcA,OAK1B,cAAC,GAAD,CACIpS,KAAM+0B,EACNX,YAvEc,KACtBY,GAAiB,MA+FC,OAAbpO,GACG,cAAC/Q,GAAA,EAAD,CACI7V,KAAMmS,EACN2D,iBAAkB,IAClB9S,QAASkQ,EACTjQ,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAJjD,SAMI,cAAC4S,GAAA,EAAD,CACI/S,QAASkQ,EACT8C,SAAS,QACT3T,GAAI,CAAE3F,MAAO,QACb2J,QAAQ,SAJZ,SAMKugB,SC7MzB,MAAMgP,GAAgBC,aAClB,+GAWWC,OARG,IAEV,cAAC,YAAD,CAAUvB,OAAQqB,GAAlB,SACI,cAACtB,GAAD,MC+CGyB,OAtCA,CACX,CACIC,KAAM,MACNC,QAAS,cAAC,GAAD,IACT7V,SAAU,CACN,CAAE4V,KAAM,YAAaC,QAAS,cAAC,GAAD,KAC9B,CAAED,KAAM,iBAAkBC,QAAS,cAAC,GAAD,KACnC,CAAED,KAAM,kBAAmBC,QAAS,cAAC,GAAD,KACpC,CAAED,KAAM,gBAAiBC,QAAS,cAAC,GAAD,KAClC,CAAED,KAAM,gBAAiBC,QAAS,cAAC,GAAD,KAClC,CAAED,KAAM,UAAWC,QAAS,cAAC,GAAD,KAC5B,CAAED,KAAM,gBAAiBC,QAAS,cAAC,GAAD,KAClC,CAAED,KAAM,UAAWC,QAAS,cAAC,GAAD,KAC5B,CACID,KAAM,uCACNC,QAAS,cAAC,GAAD,KAEb,CAAED,KAAM,UAAWC,QAAS,cAAC,GAAD,KAE5B,CAAED,KAAM,iBAAkBC,QAAS,cAAC,GAAD,KACnC,CAAED,KAAM,IAAKC,QAAS,cAAC,IAAD,CAAU3xB,GAAG,YAG3C,CACI0xB,KAAM,IACNC,QAAS,cAAC,GAAD,IACT7V,SAAU,CACN,CAAE4V,KAAM,QAASC,QAAS,cAAC,GAAD,KAC1B,CAAED,KAAM,WAAYC,QAAS,cAAC,GAAD,KAC7B,CAAED,KAAM,YAAaC,QAAS,cAAC,GAAD,KAC9B,CAAED,KAAM,yBAA0BC,QAAS,cAAC,GAAD,KAC3C,CAAED,KAAM,MAAOC,QAAS,cAAC,GAAD,KACxB,CAAED,KAAM,IAAKC,QAAS,cAAC,IAAD,CAAU3xB,GAAG,oBACnC,CAAE0xB,KAAM,IAAKC,QAAS,cAAC,IAAD,CAAU3xB,GAAG,a,OCoBhC4xB,OAzDH,KACR,MAAMC,EAAUC,YAAUL,IACpB71B,EAAWC,cACXuQ,EAAWkC,cAEXid,EAAYxvB,eAAeC,QAAQ,aACnCF,EAAWC,eAAeC,QAAQ,YAClCC,KAAKC,MAAMH,eAAeC,QAAQ,aAClC,KAEA0F,EAAY3F,eAAeC,QAAQ,aACnCC,KAAKC,MAAMH,eAAeC,QAAQ,cAClC,KAmCN,OAjCAG,qBAAU2K,UAQN,GAPkB,OAAdpF,GAAmC,OAAb5F,IACtBsQ,EAASD,GAAWrQ,EAASQ,MAC7B8P,EAASQ,GAAY9Q,EAASQ,MAC9B8P,EAASiB,GAAUvR,EAASQ,MAC5B8P,EAASS,GAAU/Q,EAASQ,OAGd,OAAdoF,GAAmC,OAAb5F,EAAmB,CACzC,MAAM,KAAEoB,SAAe6J,KAAMC,IACxB,GAAEjD,gBAAyBrC,EAAUqN,SAE1C3C,EACII,GAAgB,CACZnH,UAAWvJ,EAASQ,IACpB0S,YAAa9R,EAAK+R,UAG1B7C,EACIO,GAAiB,CACbtH,UAAWvJ,EAASQ,IACpB0S,YAAa9R,EAAK+R,aAI/B,CAAC7C,IAEJjQ,qBAAU,KACDovB,GACD3vB,EAAS,YAEd,CAAC2vB,IAGA,cAACwG,EAAA,EAAD,CAAsBC,aAAW,EAAjC,SACI,eAACC,EAAA,EAAD,CAAev5B,MAAOA,EAAtB,UACI,cAAC,EAAD,IACCm5B,Q,8BClEV,MCODtW,GAAU2W,2BAAgB,CAC5Bnb,SDR0B,CAACtI,EAAQ,CAAEgI,YAAa,IAAM+E,KACxD,OAAQA,EAAOnP,MACX,KAAKC,GACD,MAAO,CACHmK,YAAa+E,EAAOjP,SAE5B,KAAKD,GACD,MAAO,CACHhM,MAAOkb,EAAOjP,QACdkK,YAAa,IAGrB,KAAKnK,GAA8B,CAC/B,MAAMrC,EAAOuR,EAAOjP,QACpBhM,QAAQC,IAAIyJ,GACZ,MAAMkoB,EAAc1jB,EAAMgI,YAAY2b,MACjCnzB,GAAMA,EAAEkY,MAAQlN,EAAKkN,MAG1B,OAAIgb,EACO,IACA1jB,EACHgI,YAAahI,EAAMgI,YAAYzX,KAAKC,GAChCA,EAAEkY,MAAQgb,EAAYhb,IAAMlN,EAAOhL,IAEvC8O,QAAS,+BAGV,IACAU,EACHgI,YAAa,IAAIhI,EAAMgI,YAAaxM,GACpC8D,QAAS,+BAGjB,KAAKzB,GACD,MAAO,CACHmK,YAAa,IAAIhI,EAAMgI,aACvBnW,MAAOkb,EAAOjP,SAGtB,KAAKD,GAA8B,CAC/B,MAAMrC,EAAOuR,EAAOjP,QACpBhM,QAAQC,IAAIyJ,GACZ,MAAMkoB,EAAc1jB,EAAMgI,YAAY2b,MACjCnzB,GAAMA,EAAEkY,MAAQlN,EAAKkN,MAG1B,OAAIgb,EACO,IACA1jB,EACHgI,YAAahI,EAAMgI,YAAYzX,KAAKC,GAChCA,EAAEkY,MAAQgb,EAAYhb,IAAMlN,EAAOhL,IAEvC8O,QAAS,+BAGV,IACAU,EACHgI,YAAa,IAAIhI,EAAMgI,YAAaxM,GACpC8D,QAAS,+BAIjB,KAAKzB,GACD,MAAO,CACHmK,YAAa,IAAIhI,EAAMgI,aACvBnW,MAAOkb,EAAOjP,SAGtB,KAAKD,GACD,MAAO,IACAmC,EACHgI,YAAahI,EAAMgI,YAAYvI,QAC1BjP,GAAMA,EAAEkY,MAAQqE,EAAOjP,UAE5BwB,QAAS,+BAEjB,KAAKzB,GACD,MAAO,CACHhM,MAAOkb,EAAOjP,QACdkK,YAAa,IAAIhI,EAAMgI,cAG/B,QACI,OAAOhI,IC3EfQ,OCTwB,CAACR,EAAQ,CAAEoQ,UAAW,IAAMrD,KACpD,OAAQA,EAAOnP,MACX,KAAKC,GACD,MAAO,CACHuS,UAAWrD,EAAOjP,SAE1B,KAAKD,GACD,MAAO,CACHhM,MAAOkb,EAAOjP,QACdsS,UAAW,IAGnB,KAAKvS,GAA4B,CAC7B,MAAMrC,EAAOuR,EAAOjP,QACd8lB,EAAa5jB,EAAMoQ,UAAUuT,MAAMnzB,GAAMA,EAAEkY,MAAQlN,EAAKkN,MAE9D,OAAIkb,EACO,IACA5jB,EACHoQ,UAAWpQ,EAAMoQ,UAAU7f,KAAKC,GAC5BA,EAAEkY,MAAQkb,EAAWlb,IAAMlN,EAAOhL,IAEtC8O,QAAS,6BAGV,IACAU,EACHoQ,UAAW,IAAIpQ,EAAMoQ,UAAW5U,GAChC8D,QAAS,6BAGjB,KAAKzB,GACD,MAAO,CACHuS,UAAW,IAAIpQ,EAAMoQ,WACrBve,MAAOkb,EAAOjP,SAGtB,KAAKD,GAA4B,CAC7B,MAAMrC,EAAOuR,EAAOjP,QACd8lB,EAAa5jB,EAAMoQ,UAAUuT,MAAMnzB,GAAMA,EAAEkY,MAAQlN,EAAKkN,MAE9D,OAAIkb,EACO,IACA5jB,EACHoQ,UAAWpQ,EAAMoQ,UAAU7f,KAAKC,GAC5BA,EAAEkY,MAAQkb,EAAWlb,IAAMlN,EAAOhL,IAEtC8O,QAAS,6BAGV,IACAU,EACHoQ,UAAW,IAAIpQ,EAAMoQ,UAAW5U,GAChC8D,QAAS,6BAGjB,KAAKzB,GACD,MAAO,CACHuS,UAAW,IAAIpQ,EAAMoQ,WACrBve,MAAOkb,EAAOjP,SAGtB,KAAKD,GACD,MAAO,IACAmC,EACHoQ,UAAWpQ,EAAMoQ,UAAU3Q,QACtBjP,GAAMA,EAAEkY,MAAQqE,EAAOjP,UAE5BwB,QAAS,6BAEjB,KAAKzB,GACD,MAAO,CACHhM,MAAOkb,EAAOjP,QACdsS,UAAW,IAAIpQ,EAAMoQ,YAG7B,QACI,OAAOpQ,IDnEftB,OEVwB,CAACsB,EAAQ,CAAErB,UAAW,IAAMoO,KACpD,OAAQA,EAAOnP,MACX,KAAKC,GACD,MAAO,CACHc,UAAWoO,EAAOjP,SAE1B,KAAKD,GACD,MAAO,CACHhM,MAAOkb,EAAOjP,QACda,UAAW,IAGnB,KAAKd,GAA4B,CAC7B,MAAMrC,EAAOuR,EAAOjP,QACd+lB,EAAa7jB,EAAMrB,UAAUglB,MAAMnzB,GAAMA,EAAEkY,MAAQlN,EAAKkN,MAE9D,OAAImb,EACO,IACA7jB,EACHrB,UAAWqB,EAAMrB,UAAUpO,KAAKC,GAC5BA,EAAEkY,MAAQmb,EAAWnb,IAAMlN,EAAOhL,IAEtC8O,QAAS,6BAGV,IACAU,EACHrB,UAAW,IAAIqB,EAAMrB,UAAWnD,GAChC8D,QAAS,6BAGjB,KAAKzB,GACD,MAAO,CACHc,UAAW,IAAIqB,EAAMrB,WACrB9M,MAAOkb,EAAOjP,SAGtB,KAAKD,GAA4B,CAC7B,MAAMrC,EAAOuR,EAAOjP,QACd+lB,EAAa7jB,EAAMrB,UAAUglB,MAAMnzB,GAAMA,EAAEkY,MAAQlN,EAAKkN,MAE9D,OAAImb,EACO,IACA7jB,EACHrB,UAAWqB,EAAMrB,UAAUpO,KAAKC,GAC5BA,EAAEkY,MAAQmb,EAAWnb,IAAMlN,EAAOhL,IAEtC8O,QAAS,6BAGV,IACAU,EACHrB,UAAW,IAAIqB,EAAMrB,UAAWnD,GAChC8D,QAAS,6BAGjB,KAAKzB,GACD,MAAO,CACHc,UAAW,IAAIqB,EAAMrB,WACrB9M,MAAOkb,EAAOjP,SAGtB,KAAKD,GACD,MAAO,IACAmC,EACHrB,UAAWqB,EAAMrB,UAAUc,QACtBjP,GAAMA,EAAEkY,MAAQqE,EAAOjP,UAE5BwB,QAAS,8BAEjB,KAAKzB,GACD,MAAO,CACHhM,MAAOkb,EAAOjP,QACdkK,YAAa,IAAIhI,EAAMrB,YAG/B,QACI,OAAOqB,IFlEfF,QGXyB,CAACE,EAAQ,CAAEC,WAAY,IAAM8M,KACtD,OAAQA,EAAOnP,MACX,KAAKC,GACD,MAAO,CACHoC,WAAY8M,EAAOjP,SAE3B,KAAKD,GACD,MAAO,CACHhM,MAAOkb,EAAOjP,QACdmC,WAAY,IAGpB,KAAKpC,GAA6B,CAC9B,MAAMrC,EAAOuR,EAAOjP,QACdgmB,EAAc9jB,EAAMC,WAAW0jB,MAAMnzB,GAAMA,EAAEkY,MAAQlN,EAAKkN,MAEhE,OAAIob,EACO,IACA9jB,EACHC,WAAYD,EAAMC,WAAW1P,KAAKC,GAC9BA,EAAEkY,MAAQob,EAAYpb,IAAMlN,EAAOhL,IAEvC8O,QAAS,4BAGV,IACAU,EACHC,WAAY,IAAID,EAAMC,WAAYzE,GAClC8D,QAAS,4BAIjB,KAAKzB,GACD,MAAO,CACHoC,WAAY,IAAID,EAAMC,YACtBpO,MAAOkb,EAAOjP,SAGtB,KAAKD,GAA6B,CAC9B,MAAMrC,EAAOuR,EAAOjP,QACpBhM,QAAQC,IAAIyJ,GACZ,MAAMuoB,EAAc/jB,EAAMC,WAAW0jB,MAAMnzB,GAAMA,EAAEkY,MAAQlN,EAAKkN,MAEhE,OAAIqb,EACO,IACA/jB,EACHC,WAAYD,EAAMC,WAAW1P,KAAKC,GAC9BA,EAAEkY,MAAQqb,EAAYrb,IAAMlN,EAAOhL,IAEvC8O,QAAS,8BAGV,IACAU,EACHC,WAAY,IAAID,EAAMC,WAAYzE,GAClC8D,QAAS,8BAIjB,KAAKzB,GACD,MAAO,CACHoC,WAAY,IAAID,EAAMC,YACtBpO,MAAOkb,EAAOjP,SAGtB,KAAKD,GACD,MAAO,IACAmC,EACHC,WAAYD,EAAMC,WAAWR,QACxBjP,GAAMA,EAAEkY,MAAQqE,EAAOjP,UAE5BwB,QAAS,8BAEjB,KAAKzB,GACD,MAAO,CACHhM,MAAOkb,EAAOjP,QACdmC,WAAY,IAAID,EAAMC,aAG9B,QACI,OAAOD,MHlDb0M,GAAe,CACjBpE,SAAU,CAAEN,YAjBW1a,eAAeC,QAAQ,eAC5CC,KAAKC,MAAMH,eAAeC,QAAQ,gBAClC,IAgBFiT,OAAQ,CAAE4P,UAdW9iB,eAAeC,QAAQ,aAC1CC,KAAKC,MAAMH,eAAeC,QAAQ,cAClC,IAaFmR,OAAQ,CAAEC,UAXWrR,eAAeC,QAAQ,aAC1CC,KAAKC,MAAMH,eAAeC,QAAQ,cAClC,IAUFuS,QAAS,CAAEG,WARW3S,eAAeC,QAAQ,cAC3CC,KAAKC,MAAMH,eAAeC,QAAQ,eAClC,KAQAy2B,GAAa,CAACC,MAQLC,OANDC,uBACVrX,GACAJ,GACA0X,+BAAoBC,8BAAmBL,MIjC3CM,IAASC,OACL,cAACnX,GAAD,UACI,cAACY,GAAD,UACMM,GACEA,EAAItO,MAAMgN,eACN,cAAC,IAAD,CAAUkX,MAAOA,GAAjB,SACI,cAAC,IAAD,UACI,cAAC,GAAD,YAQxBtrB,SAAS4rB,eAAe,W","file":"static/js/main.33852ccf.chunk.js","sourcesContent":["import { createStyles, makeStyles } from '@mui/styles'\r\n\r\nconst useStyles = makeStyles(() =>\r\n    createStyles({\r\n        '@global': {\r\n            '*': {\r\n                boxSizing: 'border-box',\r\n                margin: 0,\r\n                padding: 0,\r\n            },\r\n            html: {\r\n                '-webkit-font-smoothing': 'antialiased',\r\n                '-moz-osx-font-smoothing': 'grayscale',\r\n                height: '100%',\r\n                width: '100%',\r\n            },\r\n            body: {\r\n                backgroundColor: '#f4f6f8',\r\n                height: '100%',\r\n                width: '100%',\r\n            },\r\n            a: {\r\n                textDecoration: 'none',\r\n            },\r\n            '#root': {\r\n                height: '100%',\r\n                width: '100%',\r\n            },\r\n        },\r\n    })\r\n)\r\n\r\nconst GlobalStyles = () => {\r\n    useStyles()\r\n\r\n    return null\r\n}\r\n\r\nexport default GlobalStyles\r\n","import { createTheme } from '@mui/material'\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    background: {\r\n      default: '#f4f6f8',\r\n      paper: '#ffffff',\r\n    },\r\n    primary: {\r\n      contrastText: '#ffffff',\r\n      main: '#5664d2',\r\n    },\r\n    text: {\r\n      primary: '#172b4d',\r\n      secondary: '#6b778c',\r\n    },\r\n  },\r\n  shadows: [\r\n    'none',\r\n    '0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)',\r\n    '0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)',\r\n  ],\r\n  typography: {\r\n    h1: {\r\n      fontWeight: 500,\r\n      fontSize: 35,\r\n      letterSpacing: '-0.24px',\r\n    },\r\n    h2: {\r\n      fontWeight: 500,\r\n      fontSize: 29,\r\n      letterSpacing: '-0.24px',\r\n    },\r\n    h3: {\r\n      fontWeight: 500,\r\n      fontSize: 24,\r\n      letterSpacing: '-0.06px',\r\n    },\r\n    h4: {\r\n      fontWeight: 500,\r\n      fontSize: 20,\r\n      letterSpacing: '-0.06px',\r\n    },\r\n    h5: {\r\n      fontWeight: 500,\r\n      fontSize: 16,\r\n      letterSpacing: '-0.05px',\r\n    },\r\n    h6: {\r\n      fontWeight: 500,\r\n      fontSize: 14,\r\n      letterSpacing: '-0.05px',\r\n    },\r\n    overline: {\r\n      fontWeight: 500,\r\n    },\r\n  },\r\n})\r\n\r\nexport default theme\r\n","import { initializeApp } from 'firebase/app'\r\nimport { getAnalytics } from 'firebase/analytics'\r\nimport { getAuth } from 'firebase/auth'\r\nimport { getFirestore } from 'firebase/firestore'\r\nimport { getStorage } from 'firebase/storage'\r\n\r\n// const firebaseConfig = {\r\n//   apiKey: 'AIzaSyDGpc3IFaTYM-3CQnF6YHdapasZBcpZrEo',\r\n//   authDomain: 'evencloud-26d32.firebaseapp.com',\r\n//   databaseURL: 'https://evencloud-26d32.firebaseio.com',\r\n//   projectId: 'evencloud-26d32',\r\n//   storageBucket: 'evencloud-26d32.appspot.com',\r\n//   messagingSenderId: '599725599274',\r\n//   appId: '1:599725599274:web:0a3c20e350260df4a1f153',\r\n//   measurementId: 'G-PXGR5P46SP',\r\n// }\r\n\r\nconst firebaseConfig = {\r\n    apiKey: 'AIzaSyCB3eqMf02L6kH_F7MAuwXUQVd1dFZfVFQ',\r\n    authDomain: 'mobiletracking-cd8f2.firebaseapp.com',\r\n    databaseURL: 'https://mobiletracking-cd8f2.firebaseio.com',\r\n    projectId: 'mobiletracking-cd8f2',\r\n    storageBucket: 'mobiletracking-cd8f2.appspot.com',\r\n    messagingSenderId: '448981545000',\r\n    appId: '1:448981545000:web:14011a88c4a6079456051d',\r\n    measurementId: 'G-M9EEMS9J5G',\r\n}\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig)\r\nconst analytics = getAnalytics(app)\r\nconst db = getFirestore(app)\r\nconst auth = getAuth(app)\r\nconst storage = getStorage(app)\r\n\r\nexport { db, auth, app, storage }\r\n","import { useState, useEffect } from 'react'\r\nimport {\r\n    Link,\r\n    Link as RouterLink,\r\n    Navigate,\r\n    useNavigate,\r\n} from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n    AppBar,\r\n    Avatar,\r\n    Box,\r\n    Divider,\r\n    IconButton,\r\n    List,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemText,\r\n    Popover,\r\n    Toolbar,\r\n} from '@mui/material'\r\nimport MenuIcon from '@mui/icons-material/Menu'\r\nimport NotificationsIcon from '@mui/icons-material/Notifications'\r\nimport Account from '@mui/icons-material/AccountCircle'\r\nimport { auth, db } from '../Firebase/index'\r\nimport {\r\n    onSnapshot,\r\n    doc,\r\n    query,\r\n    orderBy,\r\n    collection,\r\n    limit,\r\n} from 'firebase/firestore'\r\nimport moment from 'moment'\r\nimport { Image } from '@mui/icons-material'\r\nimport { signOut } from 'firebase/auth'\r\nimport LogoutIcon from '@mui/icons-material/Logout'\r\n\r\nconst DashboardNavbar = ({ onMobileNavOpen, ...rest }) => {\r\n    const [notifications, setNotifications] = useState([])\r\n    const [anchorEl, setAnchorEl] = useState(null)\r\n    const [open, setOpen] = useState(false)\r\n\r\n    const accept =\r\n        'https://firebasestorage.googleapis.com/v0/b/mobiletracking-cd8f2.appspot.com/o/accept.png?alt=media&token=83902429-f4af-40b8-852c-faca1e144a92'\r\n    const pending =\r\n        'https://firebasestorage.googleapis.com/v0/b/mobiletracking-cd8f2.appspot.com/o/pending.png?alt=media&token=20afc88a-6914-4657-962e-ba9d5e684ae5'\r\n    const reject =\r\n        'https://firebasestorage.googleapis.com/v0/b/mobiletracking-cd8f2.appspot.com/o/reject.png?alt=media&token=25da312f-2ec2-492d-97d9-1d47ecd1afd5'\r\n\r\n    const handleMenu = (event) => {\r\n        setAnchorEl(event.currentTarget)\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null)\r\n        setOpen(false)\r\n    }\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget)\r\n        setOpen(true)\r\n    }\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const userData = sessionStorage.getItem('userData')\r\n        ? JSON.parse(sessionStorage.getItem('userData'))\r\n        : null\r\n\r\n    useEffect(() => {\r\n        const authToken = sessionStorage.getItem('authToken')\r\n\r\n        if (!authToken) {\r\n            navigate('/login')\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (userData !== null) {\r\n            const notificationRef = collection(\r\n                db,\r\n                'trackingWebNotification',\r\n                userData?.uid,\r\n                'notifications'\r\n            )\r\n            const q = query(\r\n                notificationRef,\r\n                orderBy('createdAt', 'desc'),\r\n                limit(100)\r\n            )\r\n\r\n            const unsub = onSnapshot(q, (snapshots) => {\r\n                const list = []\r\n                snapshots.forEach((snap) => {\r\n                    list.push(snap.data())\r\n                })\r\n\r\n                setNotifications(list)\r\n            })\r\n\r\n            return () => unsub()\r\n        }\r\n    }, [])\r\n\r\n    const getTime = (sec) => {\r\n        const str = moment(new Date(sec * 1000)).fromNow()\r\n\r\n        switch (str) {\r\n            case 'in a few seconds':\r\n                return 'few sec'\r\n            case 'a few seconds ago':\r\n                return 'few sec'\r\n            case 'a minute ago':\r\n                return '1m'\r\n            case 'an hour ago':\r\n                return '1h'\r\n            case 'a day ago':\r\n                return '1day'\r\n            default:\r\n                const first = str.split(' ')[0]\r\n                let mid = str.split(' ')[1]\r\n                if (mid === 'minutes' || mid === 'minute') {\r\n                    mid = 'm'\r\n                }\r\n                if (mid === 'hours' || mid === 'hour') {\r\n                    mid = 'h'\r\n                }\r\n                if (mid === 'days' || mid === 'day') {\r\n                    mid = 'd'\r\n                }\r\n                return first + mid\r\n        }\r\n    }\r\n\r\n    const logout = () => {\r\n        sessionStorage.removeItem('userData')\r\n        signOut(auth)\r\n            .then(() => navigate('/login', { replace: true }))\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n    return (\r\n        <AppBar elevation={0} {...rest}>\r\n            <Toolbar\r\n                sx={{\r\n                    backgroundColor: '#007bff',\r\n                    display: 'flex',\r\n                    justifyContent: 'flex-end',\r\n                    gap: 1,\r\n                }}\r\n            >\r\n                <IconButton onClick={handleClick}>\r\n                    <NotificationsIcon sx={{ color: 'white' }} />\r\n                </IconButton>\r\n                <Popover\r\n                    id='notification'\r\n                    open={open}\r\n                    anchorEl={anchorEl}\r\n                    onClose={handleClose}\r\n                    anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'left',\r\n                    }}\r\n                    className='notification'\r\n                >\r\n                    <List sx={{ padding: 2 }}>\r\n                        {notifications.map((x, i) => (\r\n                            <Box key={++i} style={{ padding: 2 }}>\r\n                                <ListItem sx={{ mt: 1.5 }}>\r\n                                    <ListItemAvatar>\r\n                                        {x.requestStatus === 'pending' && (\r\n                                            <Avatar src={pending} />\r\n                                        )}\r\n                                        {x.requestStatus === 'accepted' && (\r\n                                            <Avatar src={accept} />\r\n                                        )}\r\n                                        {x.requestStatus === 'rejected' && (\r\n                                            <Avatar src={reject} />\r\n                                        )}\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={x.message}\r\n                                        secondary={\r\n                                            getTime(x.createdAt.seconds) +\r\n                                            ' ago'\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                                <Divider />\r\n                            </Box>\r\n                        ))}\r\n                    </List>\r\n                </Popover>\r\n\r\n                <Link to='/app/profile'>\r\n                    <IconButton onClick={handleMenu}>\r\n                        <Account sx={{ color: 'white' }} />\r\n                    </IconButton>\r\n                </Link>\r\n\r\n                <IconButton onClick={logout}>\r\n                    <LogoutIcon sx={{ color: 'white' }} />\r\n                </IconButton>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\nDashboardNavbar.propTypes = {\r\n    onMobileNavOpen: PropTypes.func,\r\n}\r\n\r\nexport default DashboardNavbar\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@mui/styles'\r\nimport Drawer from '@mui/material/Drawer'\r\nimport List from '@mui/material/List'\r\nimport CssBaseline from '@mui/material/CssBaseline'\r\nimport ListItem from '@mui/material/ListItem'\r\nimport LocationOnIcon from '@mui/icons-material/LocationOnOutlined'\r\nimport PhoneAndroidIcon from '@mui/icons-material/PhoneAndroidOutlined'\r\nimport GroupsIcon from '@mui/icons-material/GroupsOutlined'\r\nimport AdminPanelSettingsIcon from '@mui/icons-material/AdminPanelSettingsRounded'\r\nimport SignalCellularAltIcon from '@mui/icons-material/SignalCellularAltOutlined'\r\nimport MonetizationOnOutlinedIcon from '@mui/icons-material/MonetizationOnOutlined'\r\nimport { Settings, HomeOutlined } from '@mui/icons-material'\r\nimport { AppBar, Toolbar, Typography } from '@mui/material'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    drawer: {\r\n        width: 60,\r\n        flexShrink: 0,\r\n        whiteSpace: 'nowrap',\r\n    },\r\n\r\n    appBar: {\r\n        width: `calc(100% - ${60}px)`,\r\n        marginLeft: 60,\r\n    },\r\n\r\n    toolbar: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n    },\r\n    listContainer: {\r\n        display: 'flex',\r\n        height: '100%',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n    },\r\n}))\r\n\r\nconst DashboardSidebar = () => {\r\n    const classes = useStyles()\r\n\r\n    const [selectedIndex, setSelectedIndex] = React.useState(0)\r\n\r\n    const adminData = sessionStorage.getItem('adminData')\r\n        ? JSON.parse(sessionStorage.getItem('adminData'))\r\n        : null\r\n\r\n    const paths = [\r\n        '/app/dashboard',\r\n        '/app/manage-hotspots',\r\n        '/app/manage-devices',\r\n        '/app/reports',\r\n        '/app/manage-groups',\r\n        '/app/manage-admins',\r\n        '/app/pricing',\r\n    ]\r\n\r\n    const names = [\r\n        'Overview',\r\n        'Hotspots',\r\n        'Devices',\r\n        'Reports',\r\n        'Groups',\r\n        'Admins',\r\n        'Pricing',\r\n    ]\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CssBaseline />\r\n            <Drawer variant='permanent'>\r\n                <div className={classes.listContainer}>\r\n                    <List>\r\n                        {adminData === null\r\n                            ? [\r\n                                  <HomeOutlined\r\n                                      fontSize='large'\r\n                                      sx={{ color: '#6600cc' }}\r\n                                  />,\r\n                                  <LocationOnIcon\r\n                                      fontSize='large'\r\n                                      sx={{ color: 'red' }}\r\n                                  />,\r\n                                  <PhoneAndroidIcon\r\n                                      fontSize='large'\r\n                                      sx={{ color: '#007bff' }}\r\n                                  />,\r\n                                  <SignalCellularAltIcon\r\n                                      fontSize='large'\r\n                                      sx={{ color: '#fc6a03' }}\r\n                                  />,\r\n                                  <GroupsIcon\r\n                                      fontSize='large'\r\n                                      sx={{ color: 'green' }}\r\n                                  />,\r\n                                  <AdminPanelSettingsIcon\r\n                                      fontSize='large'\r\n                                      sx={{ color: '#cc33ff' }}\r\n                                  />,\r\n                                  <MonetizationOnOutlinedIcon\r\n                                      fontSize='large'\r\n                                      sx={{ color: '#3F00FF' }}\r\n                                  />,\r\n                              ].map((text, index) => (\r\n                                  <Link key={index} to={paths[index]}>\r\n                                      <ListItem\r\n                                          sx={{\r\n                                              pt: 1.5,\r\n                                              pb: 1.5,\r\n                                              px: 1,\r\n                                              display: 'flex',\r\n                                              flexDirection: 'column',\r\n                                              borderBottomColor: '#007bff',\r\n                                              borderBottomWidth: 10,\r\n                                          }}\r\n                                          onClick={() =>\r\n                                              setSelectedIndex(index)\r\n                                          }\r\n                                      >\r\n                                          <div>{text}</div>\r\n\r\n                                          <Typography\r\n                                              color='black'\r\n                                              sx={{\r\n                                                  fontSize: 12,\r\n                                              }}\r\n                                          >\r\n                                              {names[index]}\r\n                                          </Typography>\r\n                                      </ListItem>\r\n                                  </Link>\r\n                              ))\r\n                            : [\r\n                                  <HomeOutlined\r\n                                      fontSize='large'\r\n                                      sx={{ color: '#6600cc' }}\r\n                                  />,\r\n                                  <LocationOnIcon\r\n                                      fontSize='large'\r\n                                      sx={{ color: 'red' }}\r\n                                  />,\r\n                                  <PhoneAndroidIcon\r\n                                      fontSize='large'\r\n                                      sx={{ color: '#007bff' }}\r\n                                  />,\r\n                                  <SignalCellularAltIcon\r\n                                      fontSize='large'\r\n                                      sx={{ color: 'orange' }}\r\n                                  />,\r\n                              ].map((text, index) => (\r\n                                  <Link key={index} to={paths[index]}>\r\n                                      <ListItem\r\n                                          sx={{\r\n                                              pt: 1.5,\r\n                                              pb: 1.5,\r\n                                              px: 1,\r\n                                              display: 'flex',\r\n                                              flexDirection: 'column',\r\n                                              borderBottomColor: '#007bff',\r\n                                              borderBottomWidth: 10,\r\n                                          }}\r\n                                          onClick={() =>\r\n                                              setSelectedIndex(index)\r\n                                          }\r\n                                      >\r\n                                          <div>{text}</div>\r\n\r\n                                          <Typography\r\n                                              color='black'\r\n                                              sx={{\r\n                                                  fontSize: 12,\r\n                                              }}\r\n                                          >\r\n                                              {names[index]}\r\n                                          </Typography>\r\n                                      </ListItem>\r\n                                  </Link>\r\n                              ))}\r\n                    </List>\r\n                </div>\r\n            </Drawer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DashboardSidebar\r\n","import { useState } from 'react'\r\nimport { Outlet } from 'react-router-dom'\r\nimport { styled } from '@mui/material'\r\nimport DashboardNavbar from './DashboardNavbar'\r\nimport DashboardSidebar from './DashboardSidebar'\r\n\r\nconst DashboardLayoutRoot = styled('div')(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.default,\r\n  display: 'flex',\r\n  height: '100%',\r\n  overflow: 'hidden',\r\n  width: '100%',\r\n}))\r\n\r\nconst DashboardLayoutWrapper = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden',\r\n  paddingTop: 64,\r\n  [theme.breakpoints.up('md')]: {\r\n    paddingLeft: 68,\r\n  },\r\n}))\r\n\r\nconst DashboardLayoutContainer = styled('div')({\r\n  display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden',\r\n})\r\n\r\nconst DashboardLayoutContent = styled('div')({\r\n  flex: '1 1 auto',\r\n  height: '100%',\r\n  overflow: 'auto',\r\n})\r\n\r\nconst DashboardLayout = () => {\r\n  const [isMobileNavOpen, setMobileNavOpen] = useState(false)\r\n\r\n  return (\r\n    <DashboardLayoutRoot>\r\n      <DashboardNavbar onMobileNavOpen={() => setMobileNavOpen(true)} />\r\n      <DashboardSidebar\r\n        onMobileClose={() => setMobileNavOpen(false)}\r\n        openMobile={isMobileNavOpen}\r\n      />\r\n      <DashboardLayoutWrapper>\r\n        <DashboardLayoutContainer>\r\n          <DashboardLayoutContent>\r\n            <Outlet />\r\n          </DashboardLayoutContent>\r\n        </DashboardLayoutContainer>\r\n      </DashboardLayoutWrapper>\r\n    </DashboardLayoutRoot>\r\n  )\r\n}\r\n\r\nexport default DashboardLayout\r\n","import { Outlet } from 'react-router-dom'\r\nimport { styled } from '@mui/material'\r\nimport MainNavbar from './MainNavbar'\r\n\r\nconst MainLayoutRoot = styled('div')(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper,\r\n  display: 'flex',\r\n  height: '100%',\r\n  overflow: 'hidden',\r\n  width: '100%',\r\n}))\r\n\r\nconst MainLayoutWrapper = styled('div')({\r\n  display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden',\r\n})\r\n\r\nconst MainLayoutContainer = styled('div')({\r\n  display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden',\r\n})\r\n\r\nconst MainLayoutContent = styled('div')({\r\n  flex: '1 1 auto',\r\n  height: '100%',\r\n  overflow: 'auto',\r\n})\r\n\r\nconst MainLayout = () => (\r\n  <MainLayoutRoot>\r\n    <MainLayoutWrapper>\r\n      <MainLayoutContainer>\r\n        <MainLayoutContent>\r\n          <Outlet />\r\n        </MainLayoutContent>\r\n      </MainLayoutContainer>\r\n    </MainLayoutWrapper>\r\n  </MainLayoutRoot>\r\n)\r\n\r\nexport default MainLayout\r\n","import dotenv from 'dotenv'\r\n\r\ndotenv.config()\r\n\r\nconst API_SERVICE = process.env.REACT_APP_API_SERVICE\r\nconst SECRET_KEY = process.env.REACT_APP_SECRET_KEY\r\nconst MAP_TOKEN = process.env.REACT_APP_MAP_TOKEN\r\nconst MAP_STYLE = process.env.REACT_APP_MAP_STYLE\r\n\r\n// const API_SERVICE = \"https://trackermobileapp.herokuapp.com\";\r\n\r\nexport { API_SERVICE, SECRET_KEY, MAP_TOKEN, MAP_STYLE }\r\n","import React from 'react'\r\nimport { Box, Stack, Typography } from '@mui/material'\r\nimport {\r\n  Timeline,\r\n  TimelineConnector,\r\n  TimelineContent,\r\n  TimelineDot,\r\n  TimelineItem,\r\n  TimelineSeparator,\r\n} from '@mui/lab'\r\nimport moment from 'moment'\r\n\r\nconst LocationTimeline = (props) => {\r\n  return (\r\n    <Box>\r\n      <Timeline sx={{ px: 0, mr: 4 }}>\r\n        {props.locations.map((location) => (\r\n          <TimelineItem>\r\n            <TimelineSeparator>\r\n              <TimelineDot variant=\"outlined\" color=\"error\" />\r\n              <TimelineConnector />\r\n            </TimelineSeparator>\r\n            <TimelineContent>\r\n              <Box sx={{ pb: 1.3 }}>\r\n                <Typography component=\"h6\">{location.address}</Typography>\r\n                <Typography component=\"p\" sx={{ fontSize: 12 }}>\r\n                  {moment(location.createdAt).format('DD MMMM YYYY - hh:mm a')}\r\n                </Typography>\r\n              </Box>\r\n            </TimelineContent>\r\n          </TimelineItem>\r\n        ))}\r\n      </Timeline>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default React.memo(LocationTimeline)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Helmet } from 'react-helmet'\r\nimport { Avatar, Box, Container, Typography } from '@mui/material'\r\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\r\nimport axios from 'axios'\r\nimport { API_SERVICE, MAP_STYLE, MAP_TOKEN } from '../URI'\r\nimport { db } from '../Firebase/index'\r\nimport { doc, onSnapshot } from 'firebase/firestore'\r\nimport LocationTimeline from '../components/dashboard/LocationTimeline'\r\n\r\nconst Locationview = (props) => {\r\n    const { user } = props\r\n    const { phoneNumber, createdBy } = user\r\n\r\n    console.log(user, phoneNumber, createdBy)\r\n\r\n    const [lat, setlat] = useState(0)\r\n    const [long, setlong] = useState(0)\r\n    const [viewport, setViewport] = useState({\r\n        width: '100%',\r\n        height: '100%',\r\n        latitude: lat,\r\n        longitude: long,\r\n        zoom: 15,\r\n    })\r\n\r\n    const [selected, setSelected] = useState(false)\r\n    const [selectedLat, setSelectedLat] = useState(null)\r\n    const [selectedLong, setSelectedLong] = useState(null)\r\n    const [userlocationdata, setuserlocationdata] = useState({})\r\n    const [imgUri, setImgUri] = useState('')\r\n    const [load, setLoad] = useState(false)\r\n    const [showDetails, setShowDetails] = useState(false)\r\n    const [locations, setLocations] = useState([])\r\n\r\n    useEffect(async () => {\r\n        setLoad(true)\r\n        if (lat === 0 || long === 0) {\r\n            return\r\n        }\r\n        axios\r\n            .get(`${API_SERVICE}/getlatlong/${selectedLat}/${selectedLong}`)\r\n            .then((response) => {\r\n                console.log('SETTING DATA')\r\n                setuserlocationdata(response.data)\r\n                setLoad(false)\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }, [selectedLat, selectedLong])\r\n\r\n    useEffect(() => {\r\n        var userRef = doc(db, 'trackerAndroidUser', phoneNumber)\r\n\r\n        const unsub = onSnapshot(userRef, (document) => {\r\n            if (document.exists()) {\r\n                const data = document.data()\r\n                setViewport({\r\n                    width: '100%',\r\n                    height: 800,\r\n                    latitude: data.liveLocation.latitude,\r\n                    longitude: data.liveLocation.longitude,\r\n                    zoom: 15,\r\n                })\r\n                setlat(data.liveLocation.latitude)\r\n                setlong(data.liveLocation.longitude)\r\n                setImgUri(data.profilePicture)\r\n            }\r\n        })\r\n\r\n        return () => unsub()\r\n    }, [phoneNumber])\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            const { data } = await axios.get(\r\n                `${API_SERVICE}/get/location/${createdBy}/${phoneNumber}/${\r\n                    new Date().getMonth() + 1\r\n                }`\r\n            )\r\n\r\n            setLocations(data)\r\n        } catch (error) {\r\n            console.log(error.message)\r\n        }\r\n    }, [user])\r\n\r\n    const handleShowDetails = () => {\r\n        if (showDetails) {\r\n            setShowDetails(false)\r\n            setViewport({ ...viewport, width: '100%' })\r\n        } else {\r\n            setShowDetails(true)\r\n            setViewport({ ...viewport, width: '100%' })\r\n        }\r\n    }\r\n\r\n    const getInitials = (name) => {\r\n        const arr = name.split(' ')\r\n        let initials\r\n        if (arr.length === 1) {\r\n            initials = arr[0].split('')[0].toUpperCase()\r\n        } else {\r\n            initials =\r\n                arr[0].split('')[0].toUpperCase() +\r\n                arr[1].split('')[0].toUpperCase()\r\n        }\r\n\r\n        return initials\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>Dashboard</title>\r\n            </Helmet>\r\n            <Box\r\n                sx={{\r\n                    backgroundColor: 'background.default',\r\n                    minHeight: '100%',\r\n                    display: 'flex',\r\n                }}\r\n            >\r\n                <Container maxWidth={true} sx={{ px: 0, height: '100' }}>\r\n                    {user.trackingStatus === 'accepted' && (\r\n                        <ReactMapGL\r\n                            {...viewport}\r\n                            mapboxApiAccessToken={MAP_TOKEN}\r\n                            mapStyle={MAP_STYLE}\r\n                            onViewportChange={(nextViewport) =>\r\n                                setViewport(nextViewport)\r\n                            }\r\n                        >\r\n                            <Marker\r\n                                key='India Gate1'\r\n                                latitude={lat}\r\n                                longitude={long}\r\n                            >\r\n                                <button\r\n                                    className='marker-btn'\r\n                                    onMouseEnter={(e) => {\r\n                                        e.preventDefault()\r\n                                        setSelected(true)\r\n                                        setSelectedLat(lat)\r\n                                        setSelectedLong(long)\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        e.preventDefault()\r\n                                        setSelected(false)\r\n                                    }}\r\n                                    onClick={handleShowDetails}\r\n                                >\r\n                                    <Avatar\r\n                                        src={imgUri}\r\n                                        sx={{\r\n                                            backgroundColor: 'orange',\r\n                                        }}\r\n                                    >\r\n                                        {getInitials(user.fullName)}\r\n                                    </Avatar>\r\n                                </button>\r\n                            </Marker>\r\n                            {selected ? (\r\n                                <Popup\r\n                                    latitude={selectedLat}\r\n                                    longitude={selectedLong}\r\n                                >\r\n                                    <div>\r\n                                        <h2 style={{ textAlign: 'center' }}>\r\n                                            {user.fullName}\r\n                                        </h2>\r\n                                        {load ? (\r\n                                            <p>Fetching Location ...</p>\r\n                                        ) : (\r\n                                            <p>\r\n                                                {\r\n                                                    userlocationdata.formattedAddress\r\n                                                }\r\n                                            </p>\r\n                                        )}\r\n                                    </div>\r\n                                </Popup>\r\n                            ) : null}\r\n                        </ReactMapGL>\r\n                    )}\r\n\r\n                    {user.trackingStatus === 'pending' && (\r\n                        <Typography\r\n                            sx={{ margin: 10, textAlign: 'center' }}\r\n                            component='h1'\r\n                        >\r\n                            Tracking request is in pending\r\n                        </Typography>\r\n                    )}\r\n\r\n                    {user.trackingStatus === 'rejected' && (\r\n                        <Box sx={{ position: 'relative' }}>\r\n                            <Box\r\n                                sx={{\r\n                                    position: 'absolute',\r\n                                    zIndex: 1000,\r\n                                    backgroundColor: '#f5f5f5',\r\n                                    borderRadius: 25,\r\n                                    right: '50%',\r\n                                    bottom: '30px',\r\n                                    transform: 'translate(50%)',\r\n                                    px: 2,\r\n                                }}\r\n                            >\r\n                                <Typography\r\n                                    sx={{\r\n                                        margin: 2,\r\n                                        textAlign: 'center',\r\n                                        color: 'red',\r\n                                        fontWeight: 'bold',\r\n                                    }}\r\n                                    component='h1'\r\n                                >\r\n                                    Tracking request is rejected\r\n                                </Typography>\r\n                            </Box>\r\n\r\n                            <ReactMapGL\r\n                                {...viewport}\r\n                                mapboxApiAccessToken={MAP_TOKEN}\r\n                                mapStyle={MAP_STYLE}\r\n                                onViewportChange={(nextViewport) =>\r\n                                    setViewport(nextViewport)\r\n                                }\r\n                            >\r\n                                <Marker\r\n                                    key='India Gate1'\r\n                                    latitude={lat}\r\n                                    longitude={long}\r\n                                >\r\n                                    <button\r\n                                        className='marker-btn'\r\n                                        onMouseEnter={(e) => {\r\n                                            e.preventDefault()\r\n                                            setSelected(true)\r\n                                            setSelectedLat(lat)\r\n                                            setSelectedLong(long)\r\n                                        }}\r\n                                        onMouseLeave={(e) => {\r\n                                            e.preventDefault()\r\n                                            setSelected(false)\r\n                                        }}\r\n                                        onClick={handleShowDetails}\r\n                                    >\r\n                                        <Avatar\r\n                                            src={imgUri}\r\n                                            sx={{\r\n                                                backgroundColor: 'orange',\r\n                                            }}\r\n                                        />\r\n                                    </button>\r\n                                </Marker>\r\n                                {selected ? (\r\n                                    <Popup\r\n                                        latitude={selectedLat}\r\n                                        longitude={selectedLong}\r\n                                    >\r\n                                        <div>\r\n                                            <h2 style={{ textAlign: 'center' }}>\r\n                                                {user.fullName}\r\n                                            </h2>\r\n                                            {load ? (\r\n                                                <p>Fetching Location ...</p>\r\n                                            ) : (\r\n                                                <p>\r\n                                                    {\r\n                                                        userlocationdata.formattedAddress\r\n                                                    }\r\n                                                </p>\r\n                                            )}\r\n                                        </div>\r\n                                    </Popup>\r\n                                ) : null}\r\n                            </ReactMapGL>\r\n                        </Box>\r\n                    )}\r\n                </Container>\r\n                {showDetails && (\r\n                    <Box\r\n                        sx={{\r\n                            width: 400,\r\n                            display: 'flex',\r\n                            justifyContent: 'flex-start',\r\n                        }}\r\n                    >\r\n                        {locations.length !== 0 ? (\r\n                            <LocationTimeline locations={locations} />\r\n                        ) : (\r\n                            <Box\r\n                                sx={{\r\n                                    width: 300,\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                }}\r\n                            >\r\n                                <Typography component='h5' variant='h5'>\r\n                                    No History Found\r\n                                </Typography>\r\n                            </Box>\r\n                        )}\r\n                    </Box>\r\n                )}\r\n            </Box>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default React.memo(Locationview)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Helmet } from 'react-helmet'\r\nimport { Avatar, Box, Container, Typography } from '@mui/material'\r\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\r\nimport axios from 'axios'\r\nimport LocationTimeline from '../components/dashboard/LocationTimeline'\r\n\r\nimport { API_SERVICE, MAP_STYLE, MAP_TOKEN } from '../URI'\r\n\r\nconst AllLocationView = (props) => {\r\n    const { userList, senderId, trackingList } = props\r\n\r\n    const [selected, setSelected] = useState(false)\r\n    const [selectedLat, setSelectedLat] = useState(null)\r\n    const [selectedLong, setSelectedLong] = useState(null)\r\n    const [selectedLocation, setSelectedLocation] = useState(0)\r\n    const [selectedDevice, setSelectedDevice] = useState('')\r\n    const [userlocationdata, setuserlocationdata] = useState({})\r\n    const [lat, setlat] = useState(28.598)\r\n    const [long, setlong] = useState(77.3)\r\n    const [load, setLoad] = useState(false)\r\n    const [showDetails, setShowDetails] = useState(false)\r\n    const [locations, setLocations] = useState([])\r\n    const [trackingData, setTrackingData] = useState([])\r\n\r\n    const [viewport, setViewport] = useState({\r\n        width: '100%',\r\n        height: '100%',\r\n        latitude: lat,\r\n        longitude: long,\r\n        zoom: 11,\r\n    })\r\n\r\n    useEffect(() => {\r\n        const data = []\r\n        trackingList.forEach((list) => {\r\n            userList.forEach((item) => {\r\n                if (list.phoneNumber === item.phoneNumber) {\r\n                    list['location'] = item.liveLocation\r\n                    data.push(list)\r\n                }\r\n            })\r\n        })\r\n\r\n        setTrackingData(data)\r\n    }, [trackingList, userList])\r\n\r\n    useEffect(async () => {\r\n        setLoad(true)\r\n        axios\r\n            .get(`${API_SERVICE}/getlatlong/${selectedLat}/${selectedLong}`)\r\n            .then((response) => {\r\n                setuserlocationdata(response.data)\r\n                setLoad(false)\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }, [selectedLat, selectedLong])\r\n\r\n    useEffect(async () => {\r\n        if (selectedDevice.length === 0) {\r\n            return\r\n        }\r\n        try {\r\n            const { data } = await axios.get(\r\n                `${API_SERVICE}/get/location/${senderId}/${selectedDevice}/${\r\n                    new Date().getMonth() + 1\r\n                }`\r\n            )\r\n\r\n            setLocations(data)\r\n        } catch (error) {\r\n            console.log(error.message)\r\n        }\r\n    }, [selectedDevice])\r\n\r\n    const handleShowDetails = (user) => {\r\n        if (showDetails) {\r\n            setShowDetails(false)\r\n            setViewport({ ...viewport, width: '100%' })\r\n        } else {\r\n            setShowDetails(true)\r\n            setViewport({ ...viewport, width: '100%' })\r\n            setSelectedDevice(user.phoneNumber)\r\n        }\r\n    }\r\n\r\n    const getInitials = (name) => {\r\n        const arr = name.split(' ')\r\n        let initials\r\n        if (arr.length === 1) {\r\n            initials = arr[0].split('')[0].toUpperCase()\r\n        } else {\r\n            initials =\r\n                arr[0].split('')[0].toUpperCase() +\r\n                arr[1].split('')[0].toUpperCase()\r\n        }\r\n\r\n        return initials\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>Dashboard</title>\r\n            </Helmet>\r\n            <Box\r\n                sx={{\r\n                    backgroundColor: 'background.default',\r\n                    minHeight: '100%',\r\n                    display: 'flex',\r\n                }}\r\n            >\r\n                <Container maxWidth={true} sx={{ height: '100' }}>\r\n                    <ReactMapGL\r\n                        {...viewport}\r\n                        mapboxApiAccessToken={MAP_TOKEN}\r\n                        mapStyle={MAP_STYLE}\r\n                        onViewportChange={(nextViewport) =>\r\n                            setViewport(nextViewport)\r\n                        }\r\n                    >\r\n                        {trackingData.map((user, index) => (\r\n                            <Marker\r\n                                key={user.phoneNumber}\r\n                                latitude={user.location.latitude}\r\n                                longitude={user.location.longitude}\r\n                            >\r\n                                <button\r\n                                    className='marker-btn'\r\n                                    onMouseEnter={(e) => {\r\n                                        e.preventDefault()\r\n                                        setSelected(true)\r\n                                        setSelectedLat(user.location.latitude)\r\n                                        setSelectedLong(user.location.longitude)\r\n                                        setlat(user.location.latitude)\r\n                                        setlong(user.location.longitude)\r\n\r\n                                        setSelectedLocation(index)\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        e.preventDefault()\r\n                                        setSelected(false)\r\n                                    }}\r\n                                    onClick={() => handleShowDetails(user)}\r\n                                >\r\n                                    <Avatar sx={{ backgroundColor: 'orange' }}>\r\n                                        {getInitials(user.fullName)}\r\n                                    </Avatar>\r\n                                </button>\r\n                            </Marker>\r\n                        ))}\r\n                        {selected ? (\r\n                            <Popup\r\n                                latitude={selectedLat}\r\n                                longitude={selectedLong}\r\n                                onClose={() => {\r\n                                    setSelected(false)\r\n                                    setSelectedLat(0)\r\n                                    setSelectedLong(0)\r\n                                }}\r\n                            >\r\n                                <div>\r\n                                    <h2\r\n                                        style={{\r\n                                            textAlign: 'center',\r\n                                            marginBottom: '10px',\r\n                                        }}\r\n                                    >\r\n                                        {\r\n                                            trackingData[selectedLocation]\r\n                                                .fullName\r\n                                        }\r\n                                    </h2>\r\n                                    {load ? (\r\n                                        <p>Fetching Location ...</p>\r\n                                    ) : (\r\n                                        <p>\r\n                                            {userlocationdata.formattedAddress}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                            </Popup>\r\n                        ) : null}\r\n                    </ReactMapGL>\r\n                </Container>\r\n                {showDetails && (\r\n                    <Box\r\n                        sx={{\r\n                            width: 400,\r\n                            display: 'flex',\r\n                            justifyContent: 'flex-start',\r\n                        }}\r\n                    >\r\n                        {locations.length !== 0 ? (\r\n                            <LocationTimeline locations={locations} />\r\n                        ) : (\r\n                            <Box\r\n                                sx={{\r\n                                    width: 300,\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                }}\r\n                            >\r\n                                <Typography component='h5' variant='h5'>\r\n                                    No History Found\r\n                                </Typography>\r\n                            </Box>\r\n                        )}\r\n                    </Box>\r\n                )}\r\n            </Box>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default React.memo(AllLocationView)\r\n","export const ADD_FORM_SUCCESS = 'ADD_FORM_SUCCESS'\r\nexport const GET_FORM_SUCCESS = 'GET_FORM_SUCCESS'\r\nexport const DELETE_FORM_SUCCESS = 'DELETE_FORM_SUCCESS'\r\n\r\nexport const ADD_FORM_FAIL = 'ADD_FORM_FAIL'\r\nexport const GET_FORM_FAIL = 'GET_FORM_FAIL'\r\nexport const DELETE_FORM_FAIL = 'DELETE_FORM_FAIL'\r\n\r\n// ***************** HOTSPOT ******************* //\r\n\r\nexport const CREATE_HOTSPOT_SUCCESS = 'CREATE_HOTSPOT_SUCCESS'\r\nexport const CREATE_HOTSPOT_FAIL = 'CREATE_HOTSPOT_FAIL'\r\n\r\nexport const GET_HOTSPOT_SUCCESS = 'GET_HOTSPOT_SUCCESS'\r\nexport const GET_HOTSPOT_FAIL = 'GET_HOTSPOT_FAIL'\r\n\r\nexport const UPDATE_HOTSPOT_SUCCESS = 'UPDATE_HOTSPOT_SUCCESS'\r\nexport const UPDATE_HOTSPOT_FAIL = 'UPDATE_HOTSPOT_FAIL'\r\n\r\nexport const DELETE_HOTSPOT_SUCCESS = 'DELETE_HOTSPOT_SUCCESS'\r\nexport const DELETE_HOTSPOT_FAIL = 'DELETE_HOTSPOT_FAIL'\r\n\r\n// ***************** GROUP ******************* //\r\n\r\nexport const CREATE_GROUP_SUCCESS = 'CREATE_GROUP_SUCCESS'\r\nexport const CREATE_GROUP_FAIL = 'CREATE_GROUP_FAIL'\r\n\r\nexport const GET_GROUP_SUCCESS = 'GET_GROUP_SUCCESS'\r\nexport const GET_GROUP_FAIL = 'GET_GROUP_FAIL'\r\n\r\nexport const UPDATE_GROUP_SUCCESS = 'UPDATE_GROUP_SUCCESS'\r\nexport const UPDATE_GROUP_FAIL = 'UPDATE_GROUP_FAIL'\r\n\r\nexport const DELETE_GROUP_SUCCESS = 'DELETE_GROUP_SUCCESS'\r\nexport const DELETE_GROUP_FAIL = 'DELETE_GROUP_FAIL'\r\n\r\n// ***************** ADMIN ******************* //\r\n\r\nexport const CREATE_ADMIN_SUCCESS = 'CREATE_ADMIN_SUCCESS'\r\nexport const CREATE_ADMIN_FAIL = 'CREATE_ADMIN_FAIL'\r\n\r\nexport const GET_ADMIN_SUCCESS = 'GET_ADMIN_SUCCESS'\r\nexport const GET_ADMIN_FAIL = 'GET_ADMIN_FAIL'\r\n\r\nexport const UPDATE_ADMIN_SUCCESS = 'UPDATE_ADMIN_SUCCESS'\r\nexport const UPDATE_ADMIN_FAIL = 'UPDATE_ADMIN_FAIL'\r\n\r\nexport const DELETE_ADMIN_SUCCESS = 'DELETE_ADMIN_SUCCESS'\r\nexport const DELETE_ADMIN_FAIL = 'DELETE_ADMIN_FAIL'\r\n\r\n// ***************** DEVICE ******************* //\r\n\r\nexport const CREATE_DEVICE_SUCCESS = 'CREATE_DEVICE_SUCCESS'\r\nexport const CREATE_DEVICE_FAIL = 'CREATE_DEVICE_FAIL'\r\n\r\nexport const GET_DEVICE_SUCCESS = 'GET_DEVICE_SUCCESS'\r\nexport const GET_DEVICE_FAIL = 'GET_DEVICE_FAIL'\r\n\r\nexport const UPDATE_DEVICE_SUCCESS = 'UPDATE_DEVICE_SUCCESS'\r\nexport const UPDATE_DEVICE_FAIL = 'UPDATE_DEVICE_FAIL'\r\n\r\nexport const DELETE_DEVICE_SUCCESS = 'DELETE_DEVICE_SUCCESS'\r\nexport const DELETE_DEVICE_FAIL = 'DELETE_DEVICE_FAIL'\r\n","import * as types from '../constants'\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from '../../URI'\r\n\r\nconst createDevice = (bodyData) => async (dispatch, getState) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n\r\n        const body = {\r\n            body: bodyData,\r\n        }\r\n\r\n        const { data } = await axios.post(\r\n            `${API_SERVICE}/create/device`,\r\n            body,\r\n            config\r\n        )\r\n\r\n        dispatch({\r\n            type: types.CREATE_DEVICE_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'deviceList',\r\n            JSON.stringify(getState().devices.deviceList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.CREATE_DEVICE_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst getDevices = (createdBy) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(\r\n            `${API_SERVICE}/get/devices/${createdBy}`\r\n        )\r\n        dispatch({\r\n            type: types.GET_DEVICE_SUCCESS,\r\n            payload: data,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.GET_DEVICE_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst getAdminDevices = (body) => async (dispatch) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n        const { data } = await axios.post(\r\n            `${API_SERVICE}/get/devices/admin`,\r\n            body,\r\n            config\r\n        )\r\n        dispatch({\r\n            type: types.GET_DEVICE_SUCCESS,\r\n            payload: data,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.GET_DEVICE_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst updateDevice = (body) => async (dispatch, getState) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n\r\n        const { data } = await axios.put(\r\n            `${API_SERVICE}/update/device`,\r\n            body,\r\n            config\r\n        )\r\n\r\n        dispatch({\r\n            type: types.UPDATE_DEVICE_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'deviceList',\r\n            JSON.stringify(getState().devices.deviceList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.UPDATE_DEVICE_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst deleteDevice = (_id) => async (dispatch, getState) => {\r\n    try {\r\n        await axios.delete(`${API_SERVICE}/delete/device/${_id}`)\r\n\r\n        dispatch({\r\n            type: types.DELETE_DEVICE_SUCCESS,\r\n            payload: _id,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'deviceList',\r\n            JSON.stringify(getState().devices.deviceList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.DELETE_DEVICE_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nexport { createDevice, getAdminDevices, getDevices, updateDevice, deleteDevice }\r\n","import * as types from '../constants'\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from '../../URI'\r\n\r\nconst createHotspot = (bodyData) => async (dispatch, getState) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n\r\n        const body = {\r\n            body: bodyData,\r\n        }\r\n\r\n        const { data } = await axios.post(\r\n            `${API_SERVICE}/create/hotspot`,\r\n            body,\r\n            config\r\n        )\r\n\r\n        dispatch({\r\n            type: types.CREATE_HOTSPOT_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'hotspotList',\r\n            JSON.stringify(getState().hotspots.hotspotList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.CREATE_HOTSPOT_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst getAdminHotspots = (body) => async (dispatch) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n        const { data } = await axios.post(\r\n            `${API_SERVICE}/get/hotspots/admin`,\r\n            body,\r\n            config\r\n        )\r\n        dispatch({\r\n            type: types.GET_HOTSPOT_SUCCESS,\r\n            payload: data,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.GET_HOTSPOT_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst getHotspots = (createdBy) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(\r\n            `${API_SERVICE}/get/hotspots/${createdBy}`\r\n        )\r\n        dispatch({\r\n            type: types.GET_HOTSPOT_SUCCESS,\r\n            payload: data,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.GET_HOTSPOT_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst updateHotspot = (body) => async (dispatch, getState) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n\r\n        const { data } = await axios.put(\r\n            `${API_SERVICE}/update/hotspot`,\r\n            body,\r\n            config\r\n        )\r\n\r\n        dispatch({\r\n            type: types.UPDATE_HOTSPOT_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'hotspotList',\r\n            JSON.stringify(getState().hotspots.hotspotList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.UPDATE_HOTSPOT_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst deleteHotspot = (_id) => async (dispatch, getState) => {\r\n    try {\r\n        await axios.delete(`${API_SERVICE}/delete/hotspot/${_id}`)\r\n\r\n        dispatch({\r\n            type: types.DELETE_HOTSPOT_SUCCESS,\r\n            payload: _id,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'hotspotList',\r\n            JSON.stringify(getState().hotspots.hotspotList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.DELETE_HOTSPOT_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nexport {\r\n    createHotspot,\r\n    getAdminHotspots,\r\n    getHotspots,\r\n    updateHotspot,\r\n    deleteHotspot,\r\n}\r\n","import * as types from '../constants'\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from '../../URI'\r\nimport { async } from '@firebase/util'\r\n\r\nconst createAdmin = (bodyData) => async (dispatch, getState) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n\r\n        const body = {\r\n            body: bodyData,\r\n        }\r\n\r\n        const { data } = await axios.post(\r\n            `${API_SERVICE}/create/admin`,\r\n            body,\r\n            config\r\n        )\r\n\r\n        dispatch({\r\n            type: types.CREATE_ADMIN_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'adminList',\r\n            JSON.stringify(getState().admins.adminList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.CREATE_ADMIN_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst getAdmins = (createdBy) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(\r\n            `${API_SERVICE}/get/admins/${createdBy}`\r\n        )\r\n        dispatch({\r\n            type: types.GET_ADMIN_SUCCESS,\r\n            payload: data,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.GET_ADMIN_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst updateAdmin = (body) => async (dispatch, getState) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n\r\n        const { data } = await axios.put(\r\n            `${API_SERVICE}/update/admin`,\r\n            body,\r\n            config\r\n        )\r\n\r\n        console.log(data)\r\n\r\n        dispatch({\r\n            type: types.UPDATE_ADMIN_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'adminList',\r\n            JSON.stringify(getState().admins.adminList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.UPDATE_ADMIN_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst deleteAdmin = (_id) => async (dispatch, getState) => {\r\n    try {\r\n        await axios.delete(`${API_SERVICE}/delete/admin/${_id}`)\r\n\r\n        dispatch({\r\n            type: types.DELETE_ADMIN_SUCCESS,\r\n            payload: _id,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'adminList',\r\n            JSON.stringify(getState().admins.adminList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.DELETE_ADMIN_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst sendEmail = (emailData) => async (dispatch) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n\r\n        const { data } = await axios.post(\r\n            `${API_SERVICE}/send-email`,\r\n            emailData,\r\n            config\r\n        )\r\n\r\n        console.log(data)\r\n    } catch (error) {\r\n        console.log('Error occured while sending email')\r\n    }\r\n}\r\n\r\nexport { createAdmin, getAdmins, updateAdmin, deleteAdmin, sendEmail }\r\n","import * as types from '../constants'\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from '../../URI'\r\n\r\nconst createGroup = (bodyData) => async (dispatch, getState) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n\r\n        const body = {\r\n            body: bodyData,\r\n        }\r\n\r\n        const { data } = await axios.post(\r\n            `${API_SERVICE}/create/group`,\r\n            body,\r\n            config\r\n        )\r\n\r\n        dispatch({\r\n            type: types.CREATE_GROUP_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'groupList',\r\n            JSON.stringify(getState().groups.groupList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.CREATE_GROUP_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst getGroups = (createdBy) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(\r\n            `${API_SERVICE}/get/groups/${createdBy}`\r\n        )\r\n        dispatch({\r\n            type: types.GET_GROUP_SUCCESS,\r\n            payload: data,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.GET_GROUP_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst updateGroup = (body) => async (dispatch, getState) => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n\r\n        const { data } = await axios.put(\r\n            `${API_SERVICE}/update/group`,\r\n            body,\r\n            config\r\n        )\r\n\r\n        dispatch({\r\n            type: types.UPDATE_GROUP_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'groupList',\r\n            JSON.stringify(getState().groups.groupList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.UPDATE_GROUP_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst deleteGroup = (_id) => async (dispatch, getState) => {\r\n    try {\r\n        await axios.delete(`${API_SERVICE}/delete/group/${_id}`)\r\n\r\n        dispatch({\r\n            type: types.DELETE_GROUP_SUCCESS,\r\n            payload: _id,\r\n        })\r\n\r\n        sessionStorage.setItem(\r\n            'groupList',\r\n            JSON.stringify(getState().groups.groupList)\r\n        )\r\n    } catch (error) {\r\n        dispatch({\r\n            type: types.DELETE_GROUP_FAIL,\r\n            payload: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nexport { createGroup, getGroups, updateGroup, deleteGroup }\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport {\r\n    Box,\r\n    TextField,\r\n    InputAdornment,\r\n    SvgIcon,\r\n    Typography,\r\n    Grid,\r\n    MenuItem,\r\n    Menu,\r\n    Stack,\r\n} from '@mui/material'\r\nimport { makeStyles } from '@mui/styles'\r\n\r\nimport Paper from '@mui/material/Paper'\r\nimport IconButton from '@mui/material/IconButton'\r\nimport List from '@mui/material/List'\r\nimport ListItem from '@mui/material/ListItem'\r\nimport ListItemText from '@mui/material/ListItemText'\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar'\r\nimport Avatar from '@mui/material/Avatar'\r\nimport PeopleIcon from '@mui/icons-material/People'\r\nimport Button from '@mui/material/Button'\r\nimport Snackbar from '@mui/material/Snackbar'\r\nimport Alert from '@mui/material/Alert'\r\nimport { Search as SearchIcon } from 'react-feather'\r\nimport Locationview from './Locationview'\r\nimport AllLocationView from './AllLocationView'\r\nimport { db, auth } from '../Firebase/index'\r\nimport { collection, query, where, onSnapshot } from 'firebase/firestore'\r\nimport { signOut } from 'firebase/auth'\r\nimport FilterAltIcon from '@mui/icons-material/FilterAlt'\r\nimport { getDevices, getAdminDevices } from '../store/actions/device'\r\n\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from '../URI'\r\nimport { getAdminHotspots, getHotspots } from '../store/actions/hotspot'\r\nimport { getAdmins } from '../store/actions/admin'\r\nimport { getGroups } from '../store/actions/group'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100%',\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n    },\r\n}))\r\n\r\nconst Dashboard = () => {\r\n    const classes = useStyles()\r\n\r\n    const [selectedIndex, setSelectedIndex] = useState(-1)\r\n    // const [deviceList, setdeviceList] = useState([])\r\n    const [userLocations, setUserLocations] = useState([])\r\n    const [search, setSearch] = useState('')\r\n    const [searchResult, setSearchResult] = useState([])\r\n\r\n    const [snackOpen, setSnackOpen] = useState(false)\r\n    const [success, setSuccess] = useState(null)\r\n    const [error, setError] = useState(null)\r\n\r\n    const [filter, setFilter] = useState(null)\r\n    const [anchorEl, setAnchorEl] = useState(null)\r\n    const menuOpen = Boolean(anchorEl)\r\n\r\n    const dispatch = useDispatch()\r\n    const devices = useSelector((state) => state.devices)\r\n    const { deviceList } = devices\r\n\r\n    const handleFilterClick = (event) => {\r\n        setAnchorEl(event.currentTarget)\r\n    }\r\n    const handleFilterClose = () => {\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const handleSnackClose = (_, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return\r\n        }\r\n        setSnackOpen(false)\r\n        setError(null)\r\n        setSuccess(null)\r\n    }\r\n\r\n    const userData = sessionStorage.getItem('userData')\r\n        ? JSON.parse(sessionStorage.getItem('userData'))\r\n        : null\r\n\r\n    const adminData = sessionStorage.getItem('adminData')\r\n        ? JSON.parse(sessionStorage.getItem('adminData'))\r\n        : null\r\n\r\n    useEffect(() => {\r\n        const authToken = sessionStorage.getItem('authToken')\r\n\r\n        if (!authToken) {\r\n            navigate('/login')\r\n        }\r\n    }, [])\r\n\r\n    useEffect(async () => {\r\n        if (adminData === null && userData !== null) {\r\n            dispatch(getDevices(userData.uid))\r\n            dispatch(getHotspots(userData.uid))\r\n            dispatch(getGroups(userData.uid))\r\n            dispatch(getAdmins(userData.uid))\r\n        }\r\n\r\n        if (adminData !== null && userData !== null) {\r\n            const { data } = await axios.get(\r\n                `${API_SERVICE}/get/admin/${adminData.email}`\r\n            )\r\n            dispatch(\r\n                getAdminDevices({\r\n                    createdBy: userData.uid,\r\n                    adminGroups: data.groups,\r\n                })\r\n            )\r\n            dispatch(\r\n                getAdminHotspots({\r\n                    createdBy: userData.uid,\r\n                    adminGroups: data.groups,\r\n                })\r\n            )\r\n        }\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        if (deviceList.length !== 0) {\r\n            const phoneNumberArr = deviceList.map((x) => x.phoneNumber)\r\n            const UsersRef = collection(db, 'trackerAndroidUser')\r\n            const q = query(\r\n                UsersRef,\r\n                where('phoneNumber', 'in', phoneNumberArr)\r\n            )\r\n\r\n            const unsub = onSnapshot(q, (snapshot) => {\r\n                const users = []\r\n\r\n                snapshot.forEach((doc) => {\r\n                    users.push(doc.data())\r\n                })\r\n\r\n                setUserLocations(users)\r\n            })\r\n\r\n            return () => unsub()\r\n        }\r\n    }, [deviceList])\r\n\r\n    useEffect(() => {\r\n        if (search.length === 0) {\r\n            setSearchResult([])\r\n        }\r\n\r\n        setSelectedIndex(-1)\r\n        const temp = deviceList\r\n\r\n        const filterArr = temp.filter((x) =>\r\n            x.fullName.toLowerCase().includes(search.toLowerCase())\r\n        )\r\n\r\n        setSearchResult(filterArr)\r\n    }, [search])\r\n\r\n    useEffect(() => {\r\n        if (filter === 'all') {\r\n            setSearchResult([])\r\n            return\r\n        }\r\n\r\n        const temp = deviceList\r\n        const filterArr = temp.filter((x) => x.trackingStatus === filter)\r\n        setSearchResult(filterArr)\r\n    }, [filter])\r\n\r\n    const handleListItemClick = (_, index) => {\r\n        setSelectedIndex(index)\r\n    }\r\n\r\n    const logout = () => {\r\n        sessionStorage.removeItem('userData')\r\n        signOut(auth)\r\n            .then(() => navigate('/login', { replace: true }))\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n    const changeFilter = (val) => {\r\n        setFilter(val)\r\n        handleFilterClose()\r\n    }\r\n\r\n    const getInitials = (name) => {\r\n        const arr = name.split(' ')\r\n        const initials =\r\n            arr[0].split('')[0].toUpperCase() +\r\n            arr[1].split('')[0].toUpperCase()\r\n\r\n        return initials\r\n    }\r\n\r\n    return (\r\n        <Box className={classes.root}>\r\n            <Grid container sx={{ height: 'inherit' }}>\r\n                <Grid\r\n                    item\r\n                    xs={2.4}\r\n                    sx={{\r\n                        height: '100%',\r\n                        overflowY: 'scroll',\r\n                    }}\r\n                    className='gridItem'\r\n                >\r\n                    <Paper sx={{ minHeight: '100%' }} className={classes.paper}>\r\n                        <Box sx={{ maxWidth: 500 }}>\r\n                            <TextField\r\n                                fullWidth\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                        <InputAdornment position='start'>\r\n                                            <SvgIcon\r\n                                                fontSize='small'\r\n                                                color='action'\r\n                                            >\r\n                                                <SearchIcon />\r\n                                            </SvgIcon>\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                    endAdornment: (\r\n                                        <IconButton onClick={handleFilterClick}>\r\n                                            <SvgIcon\r\n                                                fontSize='small'\r\n                                                color='action'\r\n                                            >\r\n                                                <FilterAltIcon />\r\n                                            </SvgIcon>\r\n                                        </IconButton>\r\n                                    ),\r\n                                }}\r\n                                placeholder='Search user'\r\n                                variant='outlined'\r\n                                onChange={(e) => setSearch(e.target.value)}\r\n                            />\r\n                            <Menu\r\n                                anchorEl={anchorEl}\r\n                                open={menuOpen}\r\n                                onClose={handleFilterClose}\r\n                            >\r\n                                <MenuItem\r\n                                    sx={{ py: 1.2, px: 2.5 }}\r\n                                    onClick={() => {\r\n                                        changeFilter('all')\r\n                                        setSelectedIndex(-1)\r\n                                    }}\r\n                                >\r\n                                    All Requests\r\n                                </MenuItem>\r\n                                <MenuItem\r\n                                    sx={{ py: 1.2, px: 2.5 }}\r\n                                    onClick={() => {\r\n                                        changeFilter('accepted')\r\n                                        setSelectedIndex(-1)\r\n                                    }}\r\n                                >\r\n                                    Accepted Requests\r\n                                </MenuItem>\r\n                                <MenuItem\r\n                                    sx={{ py: 1.2, px: 2.5 }}\r\n                                    onClick={() => {\r\n                                        changeFilter('rejected')\r\n                                        setSelectedIndex(-1)\r\n                                    }}\r\n                                >\r\n                                    Rejected Requests\r\n                                </MenuItem>\r\n                                <MenuItem\r\n                                    sx={{ py: 1.2, px: 2.5 }}\r\n                                    onClick={() => {\r\n                                        changeFilter('pending')\r\n                                        setSelectedIndex(-1)\r\n                                    }}\r\n                                >\r\n                                    Pending Requests\r\n                                </MenuItem>\r\n                            </Menu>\r\n                        </Box>\r\n                        <List component='nav'>\r\n                            <ListItem\r\n                                key={-1}\r\n                                button\r\n                                sx={{\r\n                                    mt: 0.5,\r\n                                    mb: 0.5,\r\n                                    backgroundColor: '#F5F5F5',\r\n                                    pt: 1.5,\r\n                                    pb: 1.5,\r\n                                }}\r\n                                selected={selectedIndex === -1}\r\n                                onClick={() => setSelectedIndex(-1)}\r\n                            >\r\n                                <ListItemAvatar>\r\n                                    <Avatar sx={{ backgroundColor: 'orange' }}>\r\n                                        <PeopleIcon />\r\n                                    </Avatar>\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary='Overview All Devices' />\r\n                            </ListItem>\r\n\r\n                            {searchResult.length === 0 &&\r\n                                deviceList !== undefined &&\r\n                                deviceList !== null &&\r\n                                deviceList.map((item, index) => (\r\n                                    <ListItem\r\n                                        key={index}\r\n                                        button\r\n                                        disabled={\r\n                                            item.trackingStatus === 'pending'\r\n                                        }\r\n                                        sx={{\r\n                                            mt: 0.5,\r\n                                            mb: 0.5,\r\n                                            py: 2,\r\n                                            backgroundColor: '#F5F5F5',\r\n                                            borderLeft:\r\n                                                item.trackingStatus ===\r\n                                                'accepted'\r\n                                                    ? '6px solid green'\r\n                                                    : item.trackingStatus ===\r\n                                                      'rejected'\r\n                                                    ? '6px solid red'\r\n                                                    : '6px solid orange',\r\n                                        }}\r\n                                        selected={selectedIndex === index}\r\n                                        onClick={(event) =>\r\n                                            handleListItemClick(event, index)\r\n                                        }\r\n                                    >\r\n                                        <ListItemAvatar>\r\n                                            <Avatar\r\n                                                sx={{\r\n                                                    backgroundColor: 'orange',\r\n                                                }}\r\n                                            >\r\n                                                <Typography\r\n                                                    fontSize={16}\r\n                                                    letterSpacing={1}\r\n                                                >\r\n                                                    {getInitials(item.fullName)}\r\n                                                </Typography>\r\n                                            </Avatar>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText primary={item.fullName} />\r\n                                    </ListItem>\r\n                                ))}\r\n\r\n                            {/* showing search results */}\r\n                            {searchResult.length !== 0 &&\r\n                                searchResult.map((item, index) => (\r\n                                    <ListItem\r\n                                        key={index}\r\n                                        button\r\n                                        disabled={\r\n                                            item.trackingStatus === 'pending'\r\n                                        }\r\n                                        sx={{\r\n                                            mt: 0.5,\r\n                                            mb: 0.5,\r\n                                            py: 2,\r\n                                            backgroundColor: '#F5F5F5',\r\n                                            borderLeft:\r\n                                                item.trackingStatus ===\r\n                                                'accepted'\r\n                                                    ? '6px solid green'\r\n                                                    : item.trackingStatus ===\r\n                                                      'rejected'\r\n                                                    ? '6px solid red'\r\n                                                    : '6px solid orange',\r\n                                        }}\r\n                                        selected={selectedIndex === index}\r\n                                        onClick={(event) =>\r\n                                            handleListItemClick(event, index)\r\n                                        }\r\n                                    >\r\n                                        <ListItemAvatar>\r\n                                            <Avatar\r\n                                                sx={{\r\n                                                    backgroundColor: 'orange',\r\n                                                }}\r\n                                            >\r\n                                                <Typography\r\n                                                    fontSize={16}\r\n                                                    letterSpacing={1}\r\n                                                >\r\n                                                    {getInitials(item.fullName)}\r\n                                                </Typography>\r\n                                            </Avatar>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText primary={item.fullName} />\r\n                                    </ListItem>\r\n                                ))}\r\n                        </List>\r\n                    </Paper>\r\n                </Grid>\r\n\r\n                <Grid item xs={9.6} sx={{ height: '100%' }}>\r\n                    <Stack\r\n                        direction='row'\r\n                        justifyContent='space-between'\r\n                        sx={{ padding: 2 }}\r\n                    >\r\n                        <Typography variant='h4' component='h2'>\r\n                            Current Activity\r\n                        </Typography>\r\n                    </Stack>\r\n                    <Box\r\n                        sx={{\r\n                            height: '90%',\r\n                            py: 1,\r\n                        }}\r\n                    >\r\n                        {selectedIndex === -1 && (\r\n                            <AllLocationView\r\n                                userList={userLocations}\r\n                                senderId={userData?.uid}\r\n                                trackingList={deviceList}\r\n                            />\r\n                        )}\r\n                        {selectedIndex >= 0 && searchResult.length === 0 && (\r\n                            <Locationview\r\n                                user={deviceList[selectedIndex]}\r\n                                index={selectedIndex}\r\n                            />\r\n                        )}\r\n\r\n                        {selectedIndex >= 0 && searchResult.length !== 0 && (\r\n                            <Locationview\r\n                                user={searchResult[selectedIndex]}\r\n                                index={selectedIndex}\r\n                            />\r\n                        )}\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n            {success !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='success'\r\n                        sx={{ width: '100%' }}\r\n                    >\r\n                        {success}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n            {error !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='error'\r\n                        sx={{ width: '100%' }}\r\n                    >\r\n                        {error}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useNavigate, Link as RouterLink } from 'react-router-dom'\r\nimport Avatar from '@mui/material/Avatar'\r\nimport Button from '@mui/material/Button'\r\nimport CssBaseline from '@mui/material/CssBaseline'\r\nimport TextField from '@mui/material/TextField'\r\nimport FormControlLabel from '@mui/material/FormControlLabel'\r\nimport Checkbox from '@mui/material/Checkbox'\r\nimport Paper from '@mui/material/Paper'\r\nimport Box from '@mui/material/Box'\r\nimport Grid from '@mui/material/Grid'\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined'\r\nimport Typography from '@mui/material/Typography'\r\nimport Link from '@mui/material/Link'\r\nimport { makeStyles } from '@mui/styles'\r\nimport { auth, db } from '../Firebase'\r\nimport { signInWithEmailAndPassword } from 'firebase/auth'\r\nimport {\r\n    collection,\r\n    doc,\r\n    getDoc,\r\n    getDocs,\r\n    query,\r\n    where,\r\n} from 'firebase/firestore'\r\nimport { API_SERVICE } from '../URI'\r\nimport axios from 'axios'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    image: {\r\n        backgroundImage: 'url(https://source.unsplash.com/random)',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n            theme.palette.type === 'light'\r\n                ? theme.palette.grey[50]\r\n                : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    login: {\r\n        margin: theme.spacing(3, 0, 2),\r\n        padding: theme.spacing(1.4),\r\n        fontSize: 15,\r\n    },\r\n    googleLogin: {\r\n        margin: theme.spacing(2, 0, 2),\r\n        fontSize: 15,\r\n    },\r\n}))\r\n\r\nconst Login = () => {\r\n    const classes = useStyles()\r\n    const navigate = useNavigate()\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [remember, setRemember] = useState(false)\r\n\r\n    const credentials = localStorage.getItem('credentials')\r\n        ? JSON.parse(localStorage.getItem('credentials'))\r\n        : null\r\n\r\n    useEffect(() => {\r\n        if (credentials !== null) {\r\n            setEmail(credentials.email)\r\n            setPassword(credentials.password)\r\n            setRemember(credentials.checked)\r\n        }\r\n    }, [credentials])\r\n\r\n    const submitHandler = async () => {\r\n        const superRef = collection(db, 'trackerWebUser')\r\n        const q = query(superRef, where('email', '==', email))\r\n        await getDocs(q).then(async (docs) => {\r\n            if (docs.size !== 0) {\r\n                superAdminLogin()\r\n            } else {\r\n                adminLogin()\r\n            }\r\n        })\r\n    }\r\n\r\n    const adminLogin = async () => {\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then(async (credential) => {\r\n                sessionStorage.setItem('authToken', credential.user.accessToken)\r\n                try {\r\n                    const { data } = await axios.get(\r\n                        `${API_SERVICE}/get/admin/${email}`\r\n                    )\r\n                    const superAdminRef = doc(\r\n                        db,\r\n                        'trackerWebUser',\r\n                        data.createdBy\r\n                    )\r\n                    const superData = await getDoc(superAdminRef)\r\n\r\n                    if (superData.exists()) {\r\n                        sessionStorage.setItem(\r\n                            'userData',\r\n                            JSON.stringify(superData.data())\r\n                        )\r\n                    }\r\n\r\n                    sessionStorage.setItem('adminData', JSON.stringify(data))\r\n\r\n                    if (data.passwordChanged) {\r\n                        navigate('/app/dashboard', { replace: true })\r\n                    } else {\r\n                        navigate('/admin/change-password', { replace: true })\r\n                    }\r\n                } catch (error) {\r\n                    console.log(error.message)\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                const errorCode = error.code\r\n                const errorMessage = error.message\r\n                alert(errorCode, errorMessage)\r\n            })\r\n    }\r\n\r\n    const superAdminLogin = async () => {\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then(async (userCredential) => {\r\n                const user = userCredential.user\r\n                console.log(user)\r\n                sessionStorage.setItem('authToken', user.accessToken)\r\n                const docRef = doc(db, 'trackerWebUser', user.uid)\r\n                const docSnap = await getDoc(docRef)\r\n\r\n                if (docSnap.exists()) {\r\n                    sessionStorage.setItem(\r\n                        'userData',\r\n                        JSON.stringify(docSnap.data())\r\n                    )\r\n                    navigate('/app/dashboard', { replace: true })\r\n                } else {\r\n                    console.log('No such document!')\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                const errorCode = error.code\r\n                const errorMessage = error.message\r\n                alert(errorCode, errorMessage)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Grid\r\n            sx={{ height: '100%' }}\r\n            container\r\n            component='main'\r\n            className={classes.root}\r\n        >\r\n            <CssBaseline />\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n            <Grid\r\n                item\r\n                xs={12}\r\n                sm={8}\r\n                md={5}\r\n                component={Paper}\r\n                elevation={6}\r\n                square\r\n            >\r\n                <div className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography\r\n                        component='h1'\r\n                        variant='h1'\r\n                        sx={{ mt: 1, mb: 4 }}\r\n                    >\r\n                        GPS REPORT\r\n                    </Typography>\r\n                    <form className={classes.form} noValidate>\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            required\r\n                            fullWidth\r\n                            id='email'\r\n                            label='Email Address'\r\n                            name='email'\r\n                            autoComplete='email'\r\n                            autoFocus\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            required\r\n                            fullWidth\r\n                            name='password'\r\n                            label='Password'\r\n                            type='password'\r\n                            id='password'\r\n                            autoComplete='current-password'\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                        <Box\r\n                            sx={{ display: 'flex', justifyContent: 'flex-end' }}\r\n                        >\r\n                            <Link variant='body2'>Forgot password?</Link>\r\n                        </Box>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    value={remember}\r\n                                    color='primary'\r\n                                    onChange={(e) =>\r\n                                        setRemember(e.target.checked)\r\n                                    }\r\n                                />\r\n                            }\r\n                            label='Remember me'\r\n                        />\r\n                        <Button\r\n                            fullWidth\r\n                            variant='contained'\r\n                            color='primary'\r\n                            className={classes.login}\r\n                            onClick={() => submitHandler()}\r\n                        >\r\n                            LOGIN\r\n                        </Button>\r\n\r\n                        <Box\r\n                            sx={{\r\n                                display: 'flex',\r\n                                justifyContent: 'center',\r\n                                mt: 1.3,\r\n                            }}\r\n                        >\r\n                            <Link\r\n                                component={RouterLink}\r\n                                to='/register'\r\n                                variant='body2'\r\n                                underline='hover'\r\n                            >\r\n                                Don't have an account? Sign up for free\r\n                            </Link>\r\n                        </Box>\r\n                    </form>\r\n                </div>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import { Helmet } from 'react-helmet'\r\nimport { Box, Container, Typography } from '@mui/material'\r\n\r\nconst NotFound = () => (\r\n  <>\r\n    <Helmet>\r\n      <title>404 | Material Kit</title>\r\n    </Helmet>\r\n    <Box\r\n      sx={{\r\n        backgroundColor: 'background.default',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: '100%',\r\n        justifyContent: 'center',\r\n      }}\r\n    >\r\n      <Container maxWidth='md'>\r\n        <Typography align='center' color='textPrimary' variant='h1'>\r\n          404: The page you are looking for isnt here\r\n        </Typography>\r\n        <Typography align='center' color='textPrimary' variant='subtitle2'>\r\n          You either tried some shady route or you came here by mistake.\r\n          Whichever it is, try using the navigation\r\n        </Typography>\r\n        <Box sx={{ textAlign: 'center' }}>\r\n          <img\r\n            alt='Under development'\r\n            src='/static/images/undraw_page_not_found_su7k.svg'\r\n            style={{\r\n              marginTop: 50,\r\n              display: 'inline-block',\r\n              maxWidth: '100%',\r\n              width: 560,\r\n            }}\r\n          />\r\n        </Box>\r\n      </Container>\r\n    </Box>\r\n  </>\r\n)\r\n\r\nexport default NotFound\r\n","import React, { useState } from 'react'\r\nimport { useNavigate, Link as RouterLink } from 'react-router-dom'\r\nimport Avatar from '@mui/material/Avatar'\r\nimport Button from '@mui/material/Button'\r\nimport CssBaseline from '@mui/material/CssBaseline'\r\nimport TextField from '@mui/material/TextField'\r\nimport FormControlLabel from '@mui/material/FormControlLabel'\r\nimport Checkbox from '@mui/material/Checkbox'\r\nimport Paper from '@mui/material/Paper'\r\nimport Box from '@mui/material/Box'\r\nimport Grid from '@mui/material/Grid'\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined'\r\nimport Typography from '@mui/material/Typography'\r\nimport Link from '@mui/material/Link'\r\nimport { makeStyles } from '@mui/styles'\r\nimport { auth, db } from '../Firebase'\r\nimport { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth'\r\nimport { doc, serverTimestamp, setDoc } from 'firebase/firestore'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    image: {\r\n        backgroundImage: 'url(https://source.unsplash.com/random)',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n            theme.palette.type === 'light'\r\n                ? theme.palette.grey[50]\r\n                : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(4, 2),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    login: {\r\n        margin: theme.spacing(3, 0, 2),\r\n        padding: theme.spacing(1.4),\r\n        fontSize: 15,\r\n    },\r\n    googleLogin: {\r\n        margin: theme.spacing(2, 0, 2),\r\n        fontSize: 15,\r\n    },\r\n}))\r\n\r\nconst Register = () => {\r\n    const classes = useStyles()\r\n    const navigate = useNavigate()\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [firstName, setFirstName] = useState('')\r\n    const [lastName, setLastName] = useState('')\r\n    const [companyName, setCompanyName] = useState('')\r\n    const [policy, setPolicy] = useState(false)\r\n\r\n    const submitHandler = async () => {\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n            .then(async (userCredential) => {\r\n                const user = userCredential.user\r\n\r\n                updateProfile(auth.currentUser, {\r\n                    displayName: firstName + lastName,\r\n                }).catch((error) => console.log(error.message))\r\n\r\n                const userData = {\r\n                    uid: user.uid,\r\n                    firstName,\r\n                    lastName,\r\n                    email: user.email,\r\n                    profilePhoto:\r\n                        'https://th.bing.com/th/id/OIP.9B2RxsHDB_s7FZT0mljnhQHaHa?pid=ImgDet&rs=1',\r\n                    companyName,\r\n                    createdAt: serverTimestamp(),\r\n                }\r\n\r\n                sessionStorage.setItem('authToken', user.accessToken)\r\n\r\n                const userRef = doc(db, 'trackerWebUser', user.uid)\r\n\r\n                await setDoc(userRef, userData)\r\n                    .then(() => {\r\n                        sessionStorage.setItem(\r\n                            'userData',\r\n                            JSON.stringify(userData)\r\n                        )\r\n                        navigate('/app/dashboard', { replace: true })\r\n                    })\r\n                    .catch((error) => {\r\n                        const errorCode = error.code\r\n                        const errorMessage = error.message\r\n                        alert(errorCode, errorMessage)\r\n                    })\r\n            })\r\n            .catch((error) => {\r\n                const errorCode = error.code\r\n                const errorMessage = error.message\r\n                alert(errorCode, errorMessage)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Grid sx={{ height: '100%' }} container component='main'>\r\n            <CssBaseline />\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n            <Grid\r\n                item\r\n                xs={12}\r\n                sm={8}\r\n                md={5}\r\n                component={Paper}\r\n                elevation={6}\r\n                square\r\n                sx={{ p: 2 }}\r\n            >\r\n                <div className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography\r\n                        component='h1'\r\n                        variant='h1'\r\n                        sx={{ mt: 1, mb: 4 }}\r\n                    >\r\n                        GPS REPORT\r\n                    </Typography>\r\n                    <form className={classes.form} noValidate>\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            required\r\n                            fullWidth\r\n                            id='firstName'\r\n                            label='First Name'\r\n                            name='firstName'\r\n                            autoComplete='name'\r\n                            autoFocus\r\n                            value={firstName}\r\n                            onChange={(e) => setFirstName(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            required\r\n                            fullWidth\r\n                            id='lastName'\r\n                            label='Last Name'\r\n                            name='lastName'\r\n                            autoComplete='name'\r\n                            value={lastName}\r\n                            onChange={(e) => setLastName(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            required\r\n                            fullWidth\r\n                            id='email'\r\n                            label='Email Address'\r\n                            name='email'\r\n                            autoComplete='email'\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            required\r\n                            fullWidth\r\n                            id='email'\r\n                            label='Company Name'\r\n                            name='companyName'\r\n                            autoComplete='text'\r\n                            value={companyName}\r\n                            onChange={(e) => setCompanyName(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            required\r\n                            fullWidth\r\n                            name='password'\r\n                            label='Password'\r\n                            type='password'\r\n                            id='password'\r\n                            autoComplete='current-password'\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    value='remember'\r\n                                    color='primary'\r\n                                    checked={policy}\r\n                                    onChange={(e) =>\r\n                                        setPolicy(e.target.checked)\r\n                                    }\r\n                                />\r\n                            }\r\n                            label='I have read the Terms and Conditions'\r\n                        />\r\n                        <Button\r\n                            fullWidth\r\n                            variant='contained'\r\n                            color='primary'\r\n                            className={classes.login}\r\n                            onClick={() => submitHandler()}\r\n                        >\r\n                            Sign-Up\r\n                        </Button>\r\n                        {/* <Typography sx={{ textAlign: 'center' }} variant='h4'>\r\n              OR\r\n            </Typography>\r\n            <Button\r\n              fullWidth\r\n              variant='outlined'\r\n              color='primary'\r\n              className={classes.googleLogin}\r\n            >\r\n              <Avatar\r\n                alt='Remy Sharp'\r\n                src='/static/images/g.png'\r\n                sx={{ marginRight: 1 }}\r\n              />\r\n              Sign-up with Google\r\n            </Button> */}\r\n                        <Box\r\n                            sx={{\r\n                                display: 'flex',\r\n                                justifyContent: 'center',\r\n                                mt: 1.3,\r\n                            }}\r\n                        >\r\n                            <Link\r\n                                component={RouterLink}\r\n                                to='/login'\r\n                                variant='body2'\r\n                                underline='hover'\r\n                            >\r\n                                Already have an account? Login here\r\n                            </Link>\r\n                        </Box>\r\n                    </form>\r\n                </div>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Box from '@mui/material/Box'\r\nimport Collapse from '@mui/material/Collapse'\r\nimport IconButton from '@mui/material/IconButton'\r\nimport Table from '@mui/material/Table'\r\nimport TableBody from '@mui/material/TableBody'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport TableContainer from '@mui/material/TableContainer'\r\nimport TableHead from '@mui/material/TableHead'\r\nimport TableRow from '@mui/material/TableRow'\r\nimport Typography from '@mui/material/Typography'\r\nimport Paper from '@mui/material/Paper'\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown'\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp'\r\nimport { CircularProgress } from '@mui/material'\r\nimport moment from 'moment'\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from '../../URI'\r\n\r\nfunction Row(props) {\r\n  const {\r\n    row,\r\n    hotspotList,\r\n    selectedHotspots,\r\n    selectedGroups,\r\n    selectedMonth,\r\n  } = props\r\n  const [open, setOpen] = React.useState(false)\r\n  const [history, setHistory] = React.useState([])\r\n  const [load, setLoad] = React.useState(false)\r\n\r\n  const userData = sessionStorage.getItem('userData')\r\n    ? JSON.parse(sessionStorage.getItem('userData'))\r\n    : null\r\n\r\n  const arr = row.hotspots.map((x) => x.hotspot)\r\n\r\n  const checkExist = (x) => {\r\n    const i = arr.findIndex((e) => e === x._id)\r\n    return i\r\n  }\r\n\r\n  const filterGroup = async (data) => {\r\n    return new Promise((resolve) => {\r\n      const arr = []\r\n\r\n      for (let id of selectedGroups) {\r\n        console.log('inside')\r\n        for (let x of data) {\r\n          if (id === x.group._id) {\r\n            arr.push(x)\r\n          }\r\n        }\r\n      }\r\n      console.log('Here')\r\n      resolve(arr)\r\n    })\r\n  }\r\n\r\n  React.useEffect(async () => {\r\n    try {\r\n      setLoad(true)\r\n      const { data } = await axios.get(\r\n        `${API_SERVICE}/get/location/${userData.uid}/${row.phoneNumber}/${\r\n          selectedMonth + 1\r\n        }`,\r\n      )\r\n\r\n      if (selectedGroups.length === 0) {\r\n        setHistory(data)\r\n        setLoad(false)\r\n      } else {\r\n        const arr = await filterGroup(data)\r\n\r\n        setHistory(arr)\r\n        setLoad(false)\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message)\r\n    }\r\n  }, [selectedGroups])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <TableRow sx={{ '& > *': { borderBottom: 'unset' } }}>\r\n        <TableCell>\r\n          <IconButton\r\n            aria-label=\"expand row\"\r\n            size=\"small\"\r\n            onClick={() => setOpen(!open)}\r\n          >\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {row.device}\r\n        </TableCell>\r\n        <TableCell align=\"center\">{row.phoneNumber}</TableCell>\r\n\r\n        {selectedHotspots.length === 0 &&\r\n          hotspotList.map((x, i) => (\r\n            <React.Fragment key={x.hotspot}>\r\n              {checkExist(x) !== -1 ? (\r\n                <TableCell key={x.hotspot} align=\"center\">\r\n                  {row.hotspots[checkExist(x)].total}\r\n                </TableCell>\r\n              ) : (\r\n                <TableCell key={x.hotspot} align=\"center\">\r\n                  0\r\n                </TableCell>\r\n              )}\r\n            </React.Fragment>\r\n          ))}\r\n        {selectedHotspots.length !== 0 &&\r\n          selectedHotspots.map((x, i) => (\r\n            <React.Fragment key={x.hotspot}>\r\n              {checkExist(x) !== -1 ? (\r\n                <TableCell key={x.hotspot} align=\"center\">\r\n                  {row.hotspots[checkExist(x)].total}\r\n                </TableCell>\r\n              ) : (\r\n                <TableCell key={x.hotspot} align=\"center\">\r\n                  0\r\n                </TableCell>\r\n              )}\r\n            </React.Fragment>\r\n          ))}\r\n      </TableRow>\r\n      <TableRow>\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <Box sx={{ margin: 1 }}>\r\n              <Typography variant=\"h6\" sx={{ my: 2 }} component=\"div\">\r\n                History\r\n              </Typography>\r\n              <Table size=\"small\" aria-label=\"purchases\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Date</TableCell>\r\n                    <TableCell>Address</TableCell>\r\n                    <TableCell align=\"right\">Hotspot</TableCell>\r\n                    <TableCell align=\"right\">Group</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {!load &&\r\n                    history.map((historyRow, index) => (\r\n                      <TableRow key={index + 1}>\r\n                        <TableCell\r\n                          sx={{ borderWidth: 0, padding: '16px' }}\r\n                          component=\"th\"\r\n                          scope=\"row\"\r\n                        >\r\n                          {moment(historyRow.createdAt).format(\r\n                            'DD MMMM YYYY - hh:mm a',\r\n                          )}\r\n                        </TableCell>\r\n                        <TableCell sx={{ borderWidth: 0, padding: '16px' }}>\r\n                          {historyRow.address}\r\n                        </TableCell>\r\n                        <TableCell\r\n                          sx={{ borderWidth: 0, padding: '16px' }}\r\n                          align=\"right\"\r\n                        >\r\n                          {historyRow.hotspot.hotspotName}\r\n                        </TableCell>\r\n                        <TableCell\r\n                          sx={{ borderWidth: 0, padding: '16px' }}\r\n                          align=\"right\"\r\n                        >\r\n                          {historyRow.group.groupName}\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n              </Table>\r\n              {load && (\r\n                <Box\r\n                  sx={{\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    width: '100%',\r\n                    my: 3,\r\n                  }}\r\n                >\r\n                  <CircularProgress sx={{ fontSize: 30 }} />\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nconst ReportTable = (props) => {\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell />\r\n            <TableCell>Full Name</TableCell>\r\n            <TableCell align=\"center\">Phone Number</TableCell>\r\n            {props.selectedHotspots.length === 0 &&\r\n              props.hotspotList.map((hotspot, index) => (\r\n                <TableCell key={hotspot._id} align=\"center\">\r\n                  {hotspot.hotspotName}\r\n                </TableCell>\r\n              ))}\r\n            {props.selectedHotspots.length !== 0 &&\r\n              props.selectedHotspots.map((hotspot, index) => (\r\n                <TableCell key={hotspot._id} align=\"center\">\r\n                  {hotspot.hotspotName}\r\n                </TableCell>\r\n              ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {props.tableData.map((row) => (\r\n            <Row\r\n              key={row.phoneNumber}\r\n              row={row}\r\n              hotspotList={props.hotspotList}\r\n              selectedHotspots={props.selectedHotspots}\r\n              selectedGroups={props.selectedGroups}\r\n              selectedMonth={props.selectedMonth}\r\n            />\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}\r\n\r\nexport default React.memo(ReportTable)\r\n","import React from 'react'\r\nimport {\r\n  Checkbox,\r\n  FormControl,\r\n  InputLabel,\r\n  ListItemText,\r\n  MenuItem,\r\n  OutlinedInput,\r\n  Select,\r\n} from '@mui/material'\r\n\r\nconst ITEM_HEIGHT = 48\r\nconst ITEM_PADDING_TOP = 8\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n    },\r\n  },\r\n}\r\n\r\nconst HotspotFilter = (props) => {\r\n  return (\r\n    <FormControl variant=\"outlined\" sx={{ width: '250px', ml: 3 }}>\r\n      <InputLabel id=\"hotspotFilter\">Hotspots</InputLabel>\r\n      <Select\r\n        id=\"hotspotFilter\"\r\n        multiple\r\n        value={props.selectedHotspotNames}\r\n        onChange={props.handleHotspotSelect}\r\n        input={<OutlinedInput label=\"Hotspots\" />}\r\n        renderValue={(selected) => selected.join(', ')}\r\n        MenuProps={MenuProps}\r\n      >\r\n        {props.hotspotNames.map((hotspot) => (\r\n          <MenuItem key={hotspot._id} value={hotspot._id}>\r\n            <Checkbox\r\n              checked={props.selectedHotspotNames.indexOf(hotspot._id) > -1}\r\n            />\r\n            <ListItemText primary={hotspot.hotspotName} />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport default React.memo(HotspotFilter)\r\n","import React from 'react'\r\nimport {\r\n  Checkbox,\r\n  FormControl,\r\n  InputLabel,\r\n  ListItemText,\r\n  MenuItem,\r\n  OutlinedInput,\r\n  Select,\r\n} from '@mui/material'\r\n\r\nconst ITEM_HEIGHT = 48\r\nconst ITEM_PADDING_TOP = 8\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n    },\r\n  },\r\n}\r\n\r\nconst DeviceFilter = (props) => {\r\n  return (\r\n    <FormControl variant=\"outlined\" sx={{ width: '250px', ml: 3 }}>\r\n      <InputLabel>Mobile Devices</InputLabel>\r\n      <Select\r\n        label=\"Mobile Devices\"\r\n        multiple\r\n        value={props.selectedDevices}\r\n        onChange={props.handleSelectedDevice}\r\n        input={<OutlinedInput label=\"Mobile Devices\" />}\r\n        renderValue={(selected) => selected.join(', ')}\r\n        MenuProps={MenuProps}\r\n      >\r\n        {props.mobileDevices.map((device, i) => (\r\n          <MenuItem\r\n            key={device._id}\r\n            value={`${device.fullName} - ${device.phoneNumber}`}\r\n          >\r\n            <Checkbox\r\n              checked={\r\n                props.selectedDevices.indexOf(\r\n                  `${device.fullName} - ${device.phoneNumber}`,\r\n                ) > -1\r\n              }\r\n            />\r\n            <ListItemText\r\n              primary={`${device.fullName} +91 ${device.phoneNumber}`}\r\n            />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport default React.memo(DeviceFilter)\r\n","import React from 'react'\r\nimport {\r\n  Alert,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Snackbar,\r\n} from '@mui/material'\r\n\r\nconst MonthFilter = (props) => {\r\n  const [isDisable, setIsDisable] = React.useState(false)\r\n  const [open, setOpen] = React.useState(false)\r\n\r\n  React.useEffect(() => {\r\n    if (props.subscription !== null) {\r\n      setIsDisable(props.subscription.reportCount === 1)\r\n    }\r\n  }, [props.subscription])\r\n\r\n  const showError = () => {\r\n    setOpen(true)\r\n  }\r\n\r\n  console.log(isDisable)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <FormControl variant=\"outlined\" sx={{ width: '250px', ml: 3 }}>\r\n        <InputLabel>Month</InputLabel>\r\n        <Select\r\n          value={props.selectedMonth}\r\n          onChange={\r\n            isDisable\r\n              ? () => showError()\r\n              : (e) => props.setSelectedMonth(e.target.value)\r\n          }\r\n          label=\"Month\"\r\n        >\r\n          {props.Months.map((month, i) => (\r\n            <MenuItem sx={{ py: 1.2, px: 2 }} key={i} value={month}>\r\n              {month}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        open={open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <Alert\r\n          onClose={() => setOpen(false)}\r\n          severity=\"error\"\r\n          variant=\"filled\"\r\n          sx={{ width: '100%' }}\r\n        >\r\n          You cannot use this feature. Please upgrade your plan.\r\n        </Alert>\r\n      </Snackbar>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default React.memo(MonthFilter)\r\n","import React from 'react'\r\nimport {\r\n  Checkbox,\r\n  FormControl,\r\n  InputLabel,\r\n  ListItemText,\r\n  MenuItem,\r\n  OutlinedInput,\r\n  Select,\r\n} from '@mui/material'\r\n\r\nconst ITEM_HEIGHT = 48\r\nconst ITEM_PADDING_TOP = 8\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n    },\r\n  },\r\n}\r\nconst GroupFilter = (props) => {\r\n  return (\r\n    <FormControl variant=\"outlined\" sx={{ width: '250px', ml: 3 }}>\r\n      <InputLabel id=\"hotspotFilter\">Groups</InputLabel>\r\n      <Select\r\n        id=\"hotspotFilter\"\r\n        multiple\r\n        value={props.selectedGroupNames}\r\n        onChange={props.handleGroupSelect}\r\n        input={<OutlinedInput label=\"Groups\" />}\r\n        renderValue={(selected) => selected.join(', ')}\r\n        MenuProps={MenuProps}\r\n      >\r\n        {props.groupNames.map((group, i) => (\r\n          <MenuItem key={group._id} value={group._id}>\r\n            <Checkbox\r\n              checked={props.selectedGroupNames.indexOf(group._id) > -1}\r\n            />\r\n            <ListItemText primary={group.groupName} />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport default React.memo(GroupFilter)\r\n","import { createContext, useEffect, useReducer, useState } from 'react'\r\nimport { auth, db } from '../Firebase'\r\nimport { onAuthStateChanged } from 'firebase/auth'\r\nimport { API_SERVICE } from '../URI'\r\nimport axios from 'axios'\r\nimport { doc, getDoc } from 'firebase/firestore'\r\n\r\nconst initialState = {\r\n    customerId: null,\r\n    subscriptions: [],\r\n    cart: {},\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n    if (action.type === 'SUBSCRIPTION_DATA_CHANGED') {\r\n        const { customerId, subscriptions } = action.payload\r\n        return {\r\n            ...state,\r\n            customerId,\r\n            subscriptions,\r\n            isInitialized: true,\r\n        }\r\n    }\r\n\r\n    if (action.type === 'SELECT_PRODUCT') {\r\n        console.log('Success', action.payload)\r\n        const { cart } = action.payload\r\n        return {\r\n            ...state,\r\n            cart,\r\n        }\r\n    }\r\n\r\n    if (action.type === 'PAYMENT_DETAILS') {\r\n        console.log('Success', action.payload)\r\n        const { details } = action.payload\r\n        return {\r\n            ...state,\r\n            cart: { ...state.cart, details },\r\n        }\r\n    }\r\n\r\n    return state\r\n}\r\n\r\nexport const SubscriptionContext = createContext({\r\n    ...initialState,\r\n})\r\n\r\nexport const SubscriptionProvider = (props) => {\r\n    const { children } = props\r\n    const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n    useEffect(async () => {\r\n        onAuthStateChanged(auth, async (user) => {\r\n            try {\r\n                const ref = doc(db, 'trackerWebUser', user.uid)\r\n                const snap = await getDoc(ref)\r\n\r\n                let userData\r\n\r\n                if (snap.exists()) {\r\n                    const data = snap.data()\r\n                    userData = {\r\n                        uid: data.uid,\r\n                        displayName: `${data.firstName} ${data.lastName}`,\r\n                        email: data.email,\r\n                    }\r\n                } else {\r\n                    const _email = user.email\r\n                    console.log(_email)\r\n                    const { data } = await axios.get(\r\n                        `${API_SERVICE}/get/admin/${_email}`\r\n                    )\r\n\r\n                    const { createdBy } = data\r\n\r\n                    const ref = doc(db, 'trackerWebUser', createdBy)\r\n                    const snap = await getDoc(ref)\r\n\r\n                    if (snap.exists()) {\r\n                        const data = snap.data()\r\n                        userData = {\r\n                            uid: data.uid,\r\n                            displayName: `${data.firstName} ${data.lastName}`,\r\n                            email: data.email,\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (userData) {\r\n                    const customer = await fetchCustomer(userData)\r\n                    if (customer) {\r\n                        const subscriptions = await fetchSubscriptions(\r\n                            customer?.id\r\n                        )\r\n                        dispatch({\r\n                            type: 'SUBSCRIPTION_DATA_CHANGED',\r\n                            payload: {\r\n                                customerId: customer?.id,\r\n                                subscriptions: subscriptions,\r\n                            },\r\n                        })\r\n                    }\r\n                } else {\r\n                    dispatch({\r\n                        type: 'SUBSCRIPTION_DATA_CHANGED',\r\n                        payload: {\r\n                            customerId: null,\r\n                            subscriptions: [],\r\n                        },\r\n                    })\r\n                }\r\n            } catch (error) {\r\n                console.log(error.message)\r\n                dispatch({\r\n                    type: 'SUBSCRIPTION_DATA_CHANGED',\r\n                    payload: {\r\n                        customerId: null,\r\n                        subscriptions: [],\r\n                    },\r\n                })\r\n            }\r\n        })\r\n    }, [dispatch])\r\n\r\n    const fetchCustomer = async ({ uid, displayName, email }) => {\r\n        const config = {\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n            },\r\n        }\r\n\r\n        const body = {\r\n            userId: uid,\r\n            name: displayName,\r\n            email,\r\n        }\r\n\r\n        const { data } = await axios.post(\r\n            `${API_SERVICE}/create/customer`,\r\n            body,\r\n            config\r\n        )\r\n\r\n        return data\r\n    }\r\n\r\n    const fetchSubscriptions = async (customerId) => {\r\n        console.log(customerId)\r\n        const { data } = await axios.get(\r\n            `${API_SERVICE}/subscriptions/${customerId}`\r\n        )\r\n        return data.result\r\n    }\r\n\r\n    return (\r\n        <SubscriptionContext.Provider value={{ state, dispatch }}>\r\n            {children}\r\n        </SubscriptionContext.Provider>\r\n    )\r\n}\r\n\r\nexport const SubscriptionConsumer = SubscriptionContext.Consumer\r\n","import { useContext } from 'react'\r\nimport { SubscriptionContext } from '../contexts/subscriptionContext'\r\n\r\nexport const useSubscription = () => useContext(SubscriptionContext)\r\n","import axios from 'axios'\r\nimport { API_SERVICE } from '../URI'\r\n\r\nconst fetchPlans = async () => {\r\n    const { data } = await axios.get(`${API_SERVICE}/subscription/config`)\r\n\r\n    return data.prices\r\n}\r\n\r\nexport const getSubscriptionDetails = async (state) => {\r\n    let subscriptionDetail\r\n\r\n    if (state.subscriptions.length !== 0) {\r\n        for (let sub of state?.subscriptions?.data) {\r\n            if (sub.status === 'active') {\r\n                subscriptionDetail = sub\r\n                break\r\n            }\r\n        }\r\n    }\r\n\r\n    if (subscriptionDetail) {\r\n        const plans = await fetchPlans()\r\n        const planArr =\r\n            plans.length !== 0\r\n                ? plans.filter((x) => x.id === subscriptionDetail.plan.id)\r\n                : []\r\n\r\n        if (planArr.length !== 0) {\r\n            const plan = planArr[0]\r\n            const productName = plan.product.name\r\n\r\n            const sub = {\r\n                planId: plan.id,\r\n                productName,\r\n                productId: plan.product.id,\r\n                hotspotCount:\r\n                    productName === 'Pro Plan' ? Number.MAX_VALUE : 10,\r\n                deviceCount:\r\n                    productName === 'Pro Plan'\r\n                        ? subscriptionDetail.quantity\r\n                        : Number.MAX_VALUE,\r\n                groupCount: productName === 'Pro Plan' ? Number.MAX_VALUE : 2,\r\n                adminCount: productName === 'Pro Plan' ? Number.MAX_VALUE : 0,\r\n                reportCount: productName === 'Pro Plan' ? Number.MAX_VALUE : 1,\r\n            }\r\n\r\n            return sub\r\n        }\r\n    }\r\n\r\n    return null\r\n}\r\n","import * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Box from '@mui/material/Box'\r\nimport Collapse from '@mui/material/Collapse'\r\nimport IconButton from '@mui/material/IconButton'\r\nimport Table from '@mui/material/Table'\r\nimport TableBody from '@mui/material/TableBody'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport TableContainer from '@mui/material/TableContainer'\r\nimport TableHead from '@mui/material/TableHead'\r\nimport TableRow from '@mui/material/TableRow'\r\nimport Typography from '@mui/material/Typography'\r\nimport Paper from '@mui/material/Paper'\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown'\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp'\r\nimport { CircularProgress } from '@mui/material'\r\nimport moment from 'moment'\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from '../../URI'\r\n\r\nfunction Row(props) {\r\n  const {\r\n    row,\r\n    hotspotList,\r\n    selectedHotspots,\r\n    selectedGroups,\r\n    selectedMonth,\r\n  } = props\r\n  const [history, setHistory] = React.useState([])\r\n  const [load, setLoad] = React.useState(false)\r\n\r\n  const userData = sessionStorage.getItem('userData')\r\n    ? JSON.parse(sessionStorage.getItem('userData'))\r\n    : null\r\n\r\n  const arr = row.hotspots.map((x) => x.hotspot)\r\n\r\n  const checkExist = (x) => {\r\n    const i = arr.findIndex((e) => e === x._id)\r\n    return i\r\n  }\r\n\r\n  const filterGroup = async (data) => {\r\n    return new Promise((resolve) => {\r\n      const arr = []\r\n\r\n      for (let id of selectedGroups) {\r\n        console.log('inside')\r\n        for (let x of data) {\r\n          if (id === x.group._id) {\r\n            arr.push(x)\r\n          }\r\n        }\r\n      }\r\n      console.log('Here')\r\n      resolve(arr)\r\n    })\r\n  }\r\n\r\n  React.useEffect(async () => {\r\n    try {\r\n      setLoad(true)\r\n      const { data } = await axios.get(\r\n        `${API_SERVICE}/get/location/${userData.uid}/${row.phoneNumber}/${\r\n          selectedMonth + 1\r\n        }`,\r\n      )\r\n\r\n      if (selectedGroups.length === 0) {\r\n        setHistory(data)\r\n        setLoad(false)\r\n      } else {\r\n        const arr = await filterGroup(data)\r\n\r\n        setHistory(arr)\r\n        setLoad(false)\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message)\r\n    }\r\n  }, [selectedGroups])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <TableRow sx={{ '& > *': { borderBottom: 'unset' } }}>\r\n        <TableCell></TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {row.device}\r\n        </TableCell>\r\n        <TableCell align=\"center\">{row.phoneNumber}</TableCell>\r\n\r\n        {selectedHotspots.length === 0 &&\r\n          hotspotList.map((x, i) => (\r\n            <React.Fragment key={x.hotspot}>\r\n              {checkExist(x) !== -1 ? (\r\n                <TableCell key={x.hotspot} align=\"center\">\r\n                  {row.hotspots[checkExist(x)].total}\r\n                </TableCell>\r\n              ) : (\r\n                <TableCell key={x.hotspot} align=\"center\">\r\n                  0\r\n                </TableCell>\r\n              )}\r\n            </React.Fragment>\r\n          ))}\r\n        {selectedHotspots.length !== 0 &&\r\n          selectedHotspots.map((x, i) => (\r\n            <React.Fragment key={x.hotspot}>\r\n              {checkExist(x) !== -1 ? (\r\n                <TableCell key={x.hotspot} align=\"center\">\r\n                  {row.hotspots[checkExist(x)].total}\r\n                </TableCell>\r\n              ) : (\r\n                <TableCell key={x.hotspot} align=\"center\">\r\n                  0\r\n                </TableCell>\r\n              )}\r\n            </React.Fragment>\r\n          ))}\r\n      </TableRow>\r\n      <TableRow>\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n          <Box sx={{ margin: 1 }}>\r\n            <Typography variant=\"h6\" sx={{ my: 2 }} component=\"div\">\r\n              History\r\n            </Typography>\r\n            <Table size=\"small\" aria-label=\"purchases\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Date</TableCell>\r\n                  <TableCell>Address</TableCell>\r\n                  <TableCell align=\"right\">Hotspot</TableCell>\r\n                  <TableCell align=\"right\">Group</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {!load &&\r\n                  history.map((historyRow, index) => (\r\n                    <TableRow key={index + 1}>\r\n                      <TableCell\r\n                        sx={{ borderWidth: 0, padding: '16px' }}\r\n                        component=\"th\"\r\n                        scope=\"row\"\r\n                      >\r\n                        {moment(historyRow.createdAt).format(\r\n                          'DD MMMM YYYY - hh:mm a',\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell sx={{ borderWidth: 0, padding: '16px' }}>\r\n                        {historyRow.address}\r\n                      </TableCell>\r\n                      <TableCell\r\n                        sx={{ borderWidth: 0, padding: '16px' }}\r\n                        align=\"right\"\r\n                      >\r\n                        {historyRow.hotspot.hotspotName}\r\n                      </TableCell>\r\n                      <TableCell\r\n                        sx={{ borderWidth: 0, padding: '16px' }}\r\n                        align=\"right\"\r\n                      >\r\n                        {historyRow.group.groupName}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n              </TableBody>\r\n            </Table>\r\n            {load && (\r\n              <Box\r\n                sx={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  width: '100%',\r\n                  my: 3,\r\n                }}\r\n              >\r\n                <CircularProgress sx={{ fontSize: 30 }} />\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nconst ReportTable = (props) => {\r\n  return (\r\n    <TableContainer hidden component={Paper}>\r\n      <Table id={props.id}>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell />\r\n            <TableCell>Full Name</TableCell>\r\n            <TableCell align=\"center\">Phone Number</TableCell>\r\n            {props.selectedHotspots.length === 0 &&\r\n              props.hotspotList.map((hotspot, index) => (\r\n                <TableCell key={hotspot._id} align=\"center\">\r\n                  {hotspot.hotspotName}\r\n                </TableCell>\r\n              ))}\r\n            {props.selectedHotspots.length !== 0 &&\r\n              props.selectedHotspots.map((hotspot, index) => (\r\n                <TableCell key={hotspot._id} align=\"center\">\r\n                  {hotspot.hotspotName}\r\n                </TableCell>\r\n              ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {props.tableData.map((row) => (\r\n            <Row\r\n              key={row.phoneNumber}\r\n              row={row}\r\n              hotspotList={props.hotspotList}\r\n              selectedHotspots={props.selectedHotspots}\r\n              selectedGroups={props.selectedGroups}\r\n              selectedMonth={props.selectedMonth}\r\n            />\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}\r\n\r\nexport default React.memo(ReportTable)\r\n","import React, { useEffect, useState, useRef } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Button, CircularProgress, Backdrop } from '@mui/material'\r\nimport ReportTable from '../components/report/ReportTable'\r\nimport HotspotFilter from '../components/report/HotspotFilter'\r\nimport DeviceFilter from '../components/report/DeviceFilter'\r\nimport MonthFilter from '../components/report/MonthFilter'\r\nimport GroupFilter from '../components/report/GroupFilter'\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from '../URI'\r\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel'\r\nimport { useNavigate } from 'react-router'\r\nimport { useSubscription } from '../hooks/useSubscription'\r\nimport { getSubscriptionDetails } from '../utils/getSubscriptionDetails'\r\nimport HiddenReportTable from '../components/report/HiddenReportTable'\r\n\r\nconst Months = [\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December',\r\n]\r\n\r\nconst Report = () => {\r\n    const [tableData, setTableData] = useState([])\r\n\r\n    const [selectedHotspotNames, setSelectedHotspotNames] = useState([])\r\n    const [selectedGroups, setSelectedGroups] = useState([])\r\n    const [selectedHotspots, setSelectedHotspots] = useState([])\r\n    const [selectedDevices, setSelectedDevices] = useState([])\r\n    const [selectedMonth, setSelectedMonth] = useState(\r\n        Months[new Date().getMonth()]\r\n    )\r\n    const [loading, setLoading] = useState(false)\r\n    const [filteredData, setFilteredData] = useState([])\r\n\r\n    // subscription state\r\n    const [subscription, setSubscription] = useState(null)\r\n\r\n    const userData = sessionStorage.getItem('userData')\r\n        ? JSON.parse(sessionStorage.getItem('userData'))\r\n        : null\r\n\r\n    const devices = useSelector((state) => state.devices)\r\n    const { deviceList } = devices\r\n\r\n    const groups = useSelector((state) => state.groups)\r\n    const { groupList } = groups\r\n    const hotspots = useSelector((state) => state.hotspots)\r\n    const { hotspotList } = hotspots\r\n\r\n    const { state } = useSubscription()\r\n\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        const authToken = sessionStorage.getItem('authToken')\r\n\r\n        if (!authToken) {\r\n            navigate('/login')\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (userData !== null) {\r\n            setLoading(true)\r\n            const fetchData = async () => {\r\n                const { data } = await axios.get(\r\n                    `${API_SERVICE}/get/attendance/${userData.uid}/${\r\n                        Months.indexOf(selectedMonth) + 1\r\n                    }`\r\n                )\r\n\r\n                console.log(data)\r\n                setTableData(data)\r\n                setLoading(false)\r\n            }\r\n\r\n            fetchData()\r\n        }\r\n    }, [selectedMonth])\r\n\r\n    useEffect(() => {\r\n        const fetchSubDetail = async () => {\r\n            const details = await getSubscriptionDetails(state)\r\n            setSubscription(details)\r\n        }\r\n\r\n        fetchSubDetail()\r\n    }, [])\r\n\r\n    // handling hotspot selection\r\n    const handleHotspotSelect = async (event) => {\r\n        const {\r\n            target: { value },\r\n        } = event\r\n        setSelectedHotspotNames(\r\n            typeof value === 'string' ? value.split(',') : value\r\n        )\r\n    }\r\n\r\n    // handling group selection\r\n    const handleGroupSelect = async (event) => {\r\n        const {\r\n            target: { value },\r\n        } = event\r\n        setSelectedGroups(typeof value === 'string' ? value.split(',') : value)\r\n    }\r\n\r\n    // handling device selection\r\n    const handleSelectedDevice = (event) => {\r\n        const {\r\n            target: { value },\r\n        } = event\r\n        setSelectedDevices(typeof value === 'string' ? value.split(',') : value)\r\n    }\r\n\r\n    // applying filter\r\n    useEffect(async () => {\r\n        setLoading(true)\r\n        let hotspots = []\r\n        if (selectedHotspotNames.length !== 0) {\r\n            selectedHotspotNames.forEach((x) => {\r\n                const temp = hotspotList\r\n                const filterArr = temp.filter((item) => item._id === x)\r\n                hotspots.push(...filterArr)\r\n            })\r\n        } else {\r\n            hotspots = hotspotList\r\n        }\r\n\r\n        setSelectedHotspots(hotspots)\r\n        let devices = []\r\n        if (selectedDevices.length !== 0) {\r\n            const temp = tableData\r\n            selectedDevices.forEach((x, i) => {\r\n                const number = x.split(' - ')[1]\r\n                const filterArr = temp.filter(\r\n                    (item) => item.phoneNumber === number\r\n                )\r\n                devices.push(...filterArr)\r\n            })\r\n        } else {\r\n            devices = tableData\r\n        }\r\n\r\n        setFilteredData(devices)\r\n\r\n        setLoading(false)\r\n    }, [selectedDevices, selectedHotspotNames])\r\n\r\n    return (\r\n        <Box sx={{ p: 5 }}>\r\n            <Box\r\n                sx={{\r\n                    display: 'flex',\r\n                    justifyContent: 'flex-end',\r\n                    gap: 2,\r\n                    mt: 4,\r\n                }}\r\n            >\r\n                <MonthFilter\r\n                    Months={Months}\r\n                    selectedMonth={selectedMonth}\r\n                    setSelectedMonth={setSelectedMonth}\r\n                    subscription={subscription}\r\n                />\r\n\r\n                <HotspotFilter\r\n                    handleHotspotSelect={handleHotspotSelect}\r\n                    selectedHotspotNames={selectedHotspotNames}\r\n                    hotspotNames={hotspotList}\r\n                />\r\n\r\n                <GroupFilter\r\n                    handleGroupSelect={handleGroupSelect}\r\n                    selectedGroupNames={selectedGroups}\r\n                    groupNames={groupList}\r\n                />\r\n\r\n                <DeviceFilter\r\n                    handleSelectedDevice={handleSelectedDevice}\r\n                    selectedDevices={selectedDevices}\r\n                    mobileDevices={deviceList}\r\n                />\r\n\r\n                <Button variant='outlined' sx={{ p: 0 }}>\r\n                    <ReactHTMLTableToExcel\r\n                        id='test-table-xls-button'\r\n                        table='table-to-xls'\r\n                        filename='report'\r\n                        sheet='tablexls'\r\n                        className='export-btn'\r\n                        buttonText='Export'\r\n                    />\r\n                </Button>\r\n            </Box>\r\n\r\n            <Box sx={{ my: 4 }}>\r\n                {!loading ? (\r\n                    <ReportTable\r\n                        tableData={\r\n                            selectedDevices.length === 0\r\n                                ? tableData\r\n                                : filteredData\r\n                        }\r\n                        id='table-to-xls'\r\n                        hotspotList={hotspotList}\r\n                        selectedHotspots={selectedHotspots}\r\n                        selectedGroups={selectedGroups}\r\n                        selectedMonth={Months.indexOf(selectedMonth)}\r\n                    />\r\n                ) : (\r\n                    <Box\r\n                        sx={{\r\n                            display: 'flex',\r\n                            justifyContent: 'center',\r\n                            mt: '300px',\r\n                        }}\r\n                    >\r\n                        <CircularProgress color='inherit' />\r\n                    </Box>\r\n                )}\r\n            </Box>\r\n            <Box sx={{ my: 4 }}>\r\n                {!loading ? (\r\n                    <HiddenReportTable\r\n                        tableData={\r\n                            selectedDevices.length === 0\r\n                                ? tableData\r\n                                : filteredData\r\n                        }\r\n                        id='table-to-xls'\r\n                        hotspotList={hotspotList}\r\n                        selectedHotspots={selectedHotspots}\r\n                        selectedGroups={selectedGroups}\r\n                        selectedMonth={Months.indexOf(selectedMonth)}\r\n                    />\r\n                ) : (\r\n                    <Box\r\n                        sx={{\r\n                            display: 'flex',\r\n                            justifyContent: 'center',\r\n                            mt: '300px',\r\n                        }}\r\n                    >\r\n                        <CircularProgress color='inherit' />\r\n                    </Box>\r\n                )}\r\n            </Box>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Report\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n    Paper,\r\n    Box,\r\n    List,\r\n    ListItem,\r\n    Avatar,\r\n    ListItemAvatar,\r\n    ListItemText,\r\n    Stack,\r\n    Typography,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    Divider,\r\n} from '@mui/material'\r\nimport { Image } from '@mui/icons-material'\r\n//import { firestore } from '../Firebase/index'\r\nimport { db } from '../Firebase/index'\r\nimport { onSnapshot, doc, query, orderBy } from 'firebase/firestore'\r\nimport moment from 'moment'\r\n\r\nconst Notification = () => {\r\n    const [filter, setFilter] = useState('All')\r\n    const [notificationList, setNotificationList] = useState([])\r\n    const [filterList, setFilterList] = useState([])\r\n\r\n    const userData = sessionStorage.getItem('userData')\r\n        ? JSON.parse(sessionStorage.getItem('userData'))\r\n        : null\r\n\r\n    const handleFilterChange = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    const getTime = (sec) => {\r\n        const str = moment(new Date(sec * 1000)).fromNow()\r\n\r\n        switch (str) {\r\n            case 'in a few seconds':\r\n                return 'few sec'\r\n            case 'a few seconds ago':\r\n                return 'few sec'\r\n            case 'a minute ago':\r\n                return '1m'\r\n            case 'an hour ago':\r\n                return '1h'\r\n            case 'a day ago':\r\n                return '1day'\r\n            default:\r\n                const first = str.split(' ')[0]\r\n                let mid = str.split(' ')[1]\r\n                if (mid === 'minutes' || mid === 'minute') {\r\n                    mid = 'm'\r\n                }\r\n                if (mid === 'hours' || mid === 'hour') {\r\n                    mid = 'h'\r\n                }\r\n                if (mid === 'days' || mid === 'day') {\r\n                    mid = 'd'\r\n                }\r\n                return first + mid\r\n        }\r\n    }\r\n\r\n    // useEffect(async () => {\r\n    //   const notificationRef = doc(db, 'trackingWebNotification', userData.uid)\r\n\r\n    //   const unsub = onSnapshot(notificationRef, (snap) => {\r\n    //     if (snap.exists()) {\r\n    //       const data = snap.data()\r\n    //       if (data.notificationList !== undefined) {\r\n    //         const list = data.notificationList\r\n    //         list.sort((a, b) => {\r\n    //           return new Date(b.createdAt.seconds) - new Date(a.createdAt.seconds)\r\n    //         })\r\n    //         setNotificationList(list)\r\n    //       }\r\n    //     }\r\n    //   })\r\n\r\n    //   return () => unsub()\r\n    // }, [])\r\n\r\n    useEffect(() => {\r\n        const temp = notificationList\r\n        const currDate = new Date().getTime()\r\n        let filterArr = []\r\n\r\n        if (filter === 'Today') {\r\n            filterArr = temp.filter(\r\n                (x) =>\r\n                    new Date(x.createdAt.seconds * 1000).getDate() ===\r\n                    new Date(currDate).getDate()\r\n            )\r\n        } else if (filter === 'Last Week') {\r\n            let start = new Date(currDate).getDate() - 7\r\n            if (start <= 0) {\r\n                start = 30 + start\r\n            }\r\n            const end = new Date(currDate).getDate()\r\n\r\n            console.log(start, end)\r\n\r\n            filterArr = temp.filter(\r\n                (x) =>\r\n                    new Date(x.createdAt.seconds * 1000).getDate() >= start ||\r\n                    new Date(x.createdAt.seconds * 1000).getDate() <= end\r\n            )\r\n        } else {\r\n            filterArr = temp\r\n        }\r\n\r\n        setFilterList(filterArr)\r\n    }, [filter])\r\n\r\n    return (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', m: 4 }}>\r\n            <Paper\r\n                sx={{\r\n                    width: { md: '70%', lg: '60%', xl: '50%' },\r\n                    p: 2,\r\n                    borderRadius: 5,\r\n                    boxShadow: 5,\r\n                }}\r\n            >\r\n                <Stack\r\n                    direction='row'\r\n                    justifyContent='space-between'\r\n                    sx={{ p: 2 }}\r\n                >\r\n                    <Box\r\n                        sx={{\r\n                            display: 'flex',\r\n                            flexDirection: 'row',\r\n                            justifyContent: 'space-between',\r\n                            alignItems: 'center',\r\n                            width: '100%',\r\n                        }}\r\n                    >\r\n                        <Box>\r\n                            <Typography variant='h3'>Notifications</Typography>\r\n                        </Box>\r\n                        <Stack direction='row' alignItems='center'>\r\n                            <Typography variant='h4'>Filter By</Typography>\r\n                            <FormControl\r\n                                variant='outlined'\r\n                                sx={{ width: 250, ml: 3 }}\r\n                            >\r\n                                <InputLabel>Select Filter</InputLabel>\r\n                                <Select\r\n                                    value={filter}\r\n                                    onChange={handleFilterChange}\r\n                                    label='Select Filter'\r\n                                >\r\n                                    <MenuItem value={'All'}>All</MenuItem>\r\n                                    <MenuItem value={'Today'}>Today</MenuItem>\r\n                                    <MenuItem value={'Last Week'}>\r\n                                        Last Week\r\n                                    </MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Stack>\r\n                    </Box>\r\n                    {/* <Typography>mark all as read</Typography> */}\r\n                </Stack>\r\n                <List sx={{ padding: 2 }}>\r\n                    {filter === 'All' &&\r\n                        notificationList.map((x, i) => (\r\n                            <div key={++i}>\r\n                                <ListItem sx={{ mt: 1.5 }}>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Image />\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={x.message}\r\n                                        secondary={\r\n                                            getTime(x.createdAt.seconds) +\r\n                                            ' ago'\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                                <Divider />\r\n                            </div>\r\n                        ))}\r\n\r\n                    {filter !== 'All' &&\r\n                        filterList.map((x, i) => (\r\n                            <div key={++i}>\r\n                                <ListItem sx={{ mt: 1.5 }}>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Image />\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={x.message}\r\n                                        secondary={\r\n                                            getTime(x.createdAt.seconds) +\r\n                                            ' ago'\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                                <Divider />\r\n                            </div>\r\n                        ))}\r\n                </List>\r\n            </Paper>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControl,\r\n  InputLabel,\r\n  ListItemText,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n} from '@mui/material'\r\nimport { db } from '../../Firebase/index'\r\nimport { arrayRemove, arrayUnion, doc, updateDoc } from 'firebase/firestore'\r\nimport { updateDevice } from '../../store/actions/device'\r\n\r\nconst ITEM_HEIGHT = 48\r\nconst ITEM_PADDING_TOP = 8\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n}\r\n\r\nconst EditDeviceDialog = (props) => {\r\n  const {\r\n    setEditDialogOpen,\r\n    editDialogOpen,\r\n    selectedDevice,\r\n    trackingGroups,\r\n    setSuccess,\r\n    setSnackOpen,\r\n    setError,\r\n  } = props\r\n\r\n  const [newFullName, setNewFullName] = useState('')\r\n  // const [newDeviceGroup, setNewDeviceGroup] = useState([])\r\n  const [selectedGroups, setSelectedGroups] = useState([])\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const handleChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event\r\n    setSelectedGroups(typeof value === 'string' ? value.split(',') : value)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (Object.entries(selectedDevice).length !== 0) {\r\n      setNewFullName(selectedDevice.fullName)\r\n      const groups = selectedDevice.groups\r\n\r\n      const arr = []\r\n      groups.forEach((x) => arr.push(x._id))\r\n      setSelectedGroups(arr)\r\n    }\r\n  }, [selectedDevice])\r\n\r\n  // useEffect(() => {\r\n  //   const arr = []\r\n  //   selectedGroups.forEach((x) => {\r\n  //     const d = trackingGroups.filter((item) => item.id === x)[0]\r\n  //     const data = {\r\n  //       groupName: d.groupName,\r\n  //       id: d.id,\r\n  //     }\r\n  //     arr.push(data)\r\n  //   })\r\n\r\n  //   setNewDeviceGroup(arr)\r\n  // }, [selectedGroups])\r\n\r\n  const updateDetails = () => {\r\n    if (newFullName.length === 0) {\r\n      setError('Full name is required')\r\n      setSnackOpen(true)\r\n      return\r\n    }\r\n    const body = {\r\n      _id: selectedDevice._id,\r\n      fullName: newFullName,\r\n      groups: selectedGroups,\r\n    }\r\n\r\n    dispatch(updateDevice(body))\r\n    setNewFullName('')\r\n    setSelectedGroups([])\r\n    setEditDialogOpen(false)\r\n  }\r\n\r\n  // const updateDevice = () => {\r\n  //   const deviceRef = doc(db, 'trackingUsers', selectedDevice.id)\r\n  //   console.log('Here 1')\r\n  //   updateDoc(deviceRef, {\r\n  //     fullName: newFullName,\r\n  //     deviceGroups: newDeviceGroup,\r\n  //     groupId: selectedGroups,\r\n  //   })\r\n  //     .then(() => {\r\n  //       selectedDevice.deviceGroups.forEach(({ id }) => {\r\n  //         const groupRef = doc(db, 'trackingGroups', id)\r\n  //         updateDoc(groupRef, {\r\n  //           members: arrayRemove(selectedDevice.phoneNumber),\r\n  //         }).catch((error) => console.log(error))\r\n  //       })\r\n  //       console.log('Here')\r\n  //       selectedGroups.forEach((id) => {\r\n  //         const groupRef = doc(db, 'trackingGroups', id)\r\n  //         updateDoc(groupRef, {\r\n  //           members: arrayRemove(selectedDevice.phoneNumber),\r\n  //         }).catch((error) => console.log(error))\r\n  //         updateDoc(groupRef, {\r\n  //           members: arrayUnion(selectedDevice.phoneNumber),\r\n  //         }).catch((error) => console.log(error))\r\n  //       })\r\n  //     })\r\n  //     .then(() => {\r\n  //       setSuccess('Details Updated Successfully')\r\n  //       setSnackOpen(true)\r\n  //       setEditDialogOpen(false)\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       setError(error.message)\r\n  //       setSnackOpen(true)\r\n  //     })\r\n  // }\r\n\r\n  return (\r\n    <Dialog open={editDialogOpen} onClose={() => setEditDialogOpen(false)}>\r\n      <DialogTitle sx={{ fontSize: 22 }}>Edit Device</DialogTitle>\r\n      <DialogContent sx={{ width: 500 }}>\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          id=\"name\"\r\n          label=\"Full Name\"\r\n          type=\"text\"\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          value={newFullName}\r\n          onChange={(e) => setNewFullName(e.target.value)}\r\n        />\r\n        <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\r\n          <InputLabel id=\"device-group\">Select Group</InputLabel>\r\n          <Select\r\n            labelId=\"device-group\"\r\n            label=\"Select Group\"\r\n            value={selectedGroups}\r\n            onChange={handleChange}\r\n            multiple\r\n            renderValue={(selected) => selected.join(', ')}\r\n            MenuProps={MenuProps}\r\n          >\r\n            {trackingGroups.map((item) => (\r\n              <MenuItem key={item._id} value={item._id}>\r\n                <Checkbox checked={selectedGroups.indexOf(item._id) > -1} />\r\n                <ListItemText primary={item.groupName} />\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => setEditDialogOpen(false)}>Cancel</Button>\r\n        <Button onClick={() => updateDetails()}>Save Changes</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default EditDeviceDialog\r\n","import React, { useEffect, useState } from 'react'\r\nimport {\r\n  Box,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Typography,\r\n  IconButton,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Button,\r\n  Chip,\r\n  DialogActions,\r\n  DialogContent,\r\n  Dialog,\r\n  DialogTitle,\r\n} from '@mui/material'\r\nimport DeleteIcon from '@mui/icons-material/Delete'\r\nimport Create from '@mui/icons-material/Create'\r\nimport { db } from '../../Firebase/index'\r\nimport {\r\n  arrayRemove,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  onSnapshot,\r\n  query,\r\n  setDoc,\r\n  updateDoc,\r\n  where,\r\n} from 'firebase/firestore'\r\nimport TimeRangePicker from '@wojtekmaj/react-timerange-picker'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { deleteDevice } from '../../store/actions/device'\r\n\r\nconst DeviceSetting = (props) => {\r\n  const { success, error, open, toggleEditDeviceDialog } = props\r\n\r\n  const [deviceData, setDeviceData] = useState([])\r\n\r\n  const userData = sessionStorage.getItem('userData')\r\n    ? JSON.parse(sessionStorage.getItem('userData'))\r\n    : null\r\n\r\n  const adminData = sessionStorage.getItem('adminData')\r\n    ? JSON.parse(sessionStorage.getItem('adminData'))\r\n    : null\r\n\r\n  const devices = useSelector((state) => state.devices)\r\n  const { deviceList } = devices\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  // useEffect(async () => {\r\n  //   if (userData !== null) {\r\n  //     const deviceRef = collection(db, 'trackingUsers')\r\n  //     let q\r\n  //     if (adminData !== null) {\r\n  //       q = query(\r\n  //         deviceRef,\r\n  //         where('senderId', '==', userData.uid),\r\n  //         where('groupId', 'array-contains-any', adminData.groupId),\r\n  //       )\r\n  //     } else {\r\n  //       q = query(deviceRef, where('senderId', '==', userData.uid))\r\n  //     }\r\n\r\n  //     const unsub = onSnapshot(q, (snapshot) => {\r\n  //       const devices = []\r\n  //       snapshot.forEach((snap) => {\r\n  //         devices.push({ ...snap.data(), id: snap.id })\r\n  //       })\r\n  //       setDeviceData(devices)\r\n  //     })\r\n\r\n  //     return () => unsub()\r\n  //   }\r\n  // }, [])\r\n\r\n  const removeDevice = (data) => {\r\n    dispatch(deleteDevice(data._id))\r\n  }\r\n\r\n  // const deleteDevice = async (item) => {\r\n  //   const requestRef = doc(db, 'trackingRequest', item.phoneNumber)\r\n  //   await deleteDoc(requestRef)\r\n  //     .then(() => {\r\n  //       item.deviceGroups.forEach(({ id }) => {\r\n  //         const groupRef = doc(db, 'trackingGroups', id)\r\n  //         updateDoc(groupRef, {\r\n  //           members: arrayRemove(item.phoneNumber),\r\n  //         }).catch((error) => console.log(error))\r\n  //       })\r\n  //     })\r\n  //     .then(async () => {\r\n  //       const deviceRef = doc(db, 'trackingUsers', item.id)\r\n  //       await deleteDoc(deviceRef)\r\n  //         .then(() => {\r\n  //           success('Device Deleted Successfully')\r\n  //           open(true)\r\n  //         })\r\n  //         .catch((err) => {\r\n  //           error(err.message)\r\n  //           open(true)\r\n  //         })\r\n  //     })\r\n  //     .catch((err) => console.log(err.message))\r\n  // }\r\n\r\n  return (\r\n    <Box>\r\n      <TableContainer component={Paper} sx={{ boxShadow: 6 }}>\r\n        <Table sx={{ minWidth: 650 }}>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Name</TableCell>\r\n              <TableCell align=\"center\">Mobile Number</TableCell>\r\n              <TableCell align=\"center\">Groups Added</TableCell>\r\n              <TableCell align=\"center\">Tracking Status</TableCell>\r\n              <TableCell align=\"center\">Action</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {deviceList.map((data) => (\r\n              <TableRow\r\n                key={data._id}\r\n                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n              >\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {data.fullName}\r\n                </TableCell>\r\n                <TableCell align=\"center\">+91 {data.phoneNumber}</TableCell>\r\n                {data.groups.length === 0 ? (\r\n                  <TableCell align=\"center\">--</TableCell>\r\n                ) : (\r\n                  <TableCell align=\"center\">\r\n                    {data.groups.map((x, i) => (\r\n                      <>\r\n                        {x.groupName}\r\n                        {i !== data.groups.length - 1 && <>{' ,'}</>}\r\n                      </>\r\n                    ))}\r\n                  </TableCell>\r\n                )}\r\n\r\n                <TableCell align=\"center\">\r\n                  {data.trackingStatus === 'accepted' && (\r\n                    <Chip label=\"Accepted\" color=\"success\" />\r\n                  )}\r\n                  {data.trackingStatus === 'rejected' && (\r\n                    <Chip label=\"Rejected\" color=\"error\" />\r\n                  )}\r\n                  {data.trackingStatus === 'pending' && (\r\n                    <Chip label=\"Pending\" color=\"warning\" />\r\n                  )}\r\n                </TableCell>\r\n                <TableCell align=\"center\" sx={{ p: 0 }}>\r\n                  <IconButton\r\n                    edge=\"end\"\r\n                    aria-label=\"edit\"\r\n                    color=\"primary\"\r\n                    onClick={() => toggleEditDeviceDialog(data)}\r\n                  >\r\n                    <Create />\r\n                  </IconButton>\r\n                  <IconButton color=\"error\" onClick={() => removeDevice(data)}>\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default React.memo(DeviceSetting)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n    Box,\r\n    TextField,\r\n    Button,\r\n    Snackbar,\r\n    Alert,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    ListItemText,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions,\r\n    Checkbox,\r\n} from '@mui/material'\r\nimport { makeStyles } from '@mui/styles'\r\n\r\nimport { db } from '../Firebase/index'\r\nimport {\r\n    addDoc,\r\n    collection,\r\n    onSnapshot,\r\n    query,\r\n    where,\r\n    Timestamp,\r\n} from 'firebase/firestore'\r\nimport EditDeviceDialog from '../components/devices/EditDeviceDialog'\r\nimport DeviceTable from '../components/devices/DeviceTable'\r\nimport {\r\n    createDevice,\r\n    getDevices,\r\n    getAdminDevices,\r\n} from '../store/actions/device'\r\n\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from '../URI'\r\nimport { useNavigate } from 'react-router'\r\nimport { useSubscription } from '../hooks/useSubscription'\r\nimport { getSubscriptionDetails } from '../utils/getSubscriptionDetails'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    form: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(1),\r\n    },\r\n}))\r\n\r\nconst ITEM_HEIGHT = 48\r\nconst ITEM_PADDING_TOP = 8\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n            width: 250,\r\n        },\r\n    },\r\n}\r\n\r\nconst ManageMobileDevices = () => {\r\n    const classes = useStyles()\r\n\r\n    const userData = sessionStorage.getItem('userData')\r\n        ? JSON.parse(sessionStorage.getItem('userData'))\r\n        : null\r\n\r\n    const adminData = sessionStorage.getItem('adminData')\r\n        ? JSON.parse(sessionStorage.getItem('adminData'))\r\n        : null\r\n\r\n    // adding new device states\r\n    const [fullName, setFullName] = useState('')\r\n    const [phoneNumber, setPhoneNumber] = useState('')\r\n    const [selectedGroups, setSelectedGroups] = useState([])\r\n    // added devices section states\r\n    const [editDialogOpen, setEditDialogOpen] = useState(false)\r\n    const [selectedDevice, setSelectedDevice] = useState({})\r\n    const [addDeviceDialog, setAddDeviceDialog] = useState(false)\r\n    const [scheduleDialog, setScheduleDialog] = useState(false)\r\n    // snackbar states\r\n    const [snackOpen, setSnackOpen] = useState(false)\r\n    const [successMsg, setSuccess] = useState(null)\r\n    const [errorMsg, setError] = useState(null)\r\n    // subscription state\r\n    const [subscription, setSubscription] = useState(null)\r\n\r\n    const dispatch = useDispatch()\r\n    const groups = useSelector((state) => state.groups)\r\n    const { groupList } = groups\r\n\r\n    const devices = useSelector((state) => state.devices)\r\n    const { success, error, deviceList } = devices\r\n\r\n    const navigate = useNavigate()\r\n    const { state } = useSubscription()\r\n\r\n    useEffect(() => {\r\n        const authToken = sessionStorage.getItem('authToken')\r\n\r\n        if (!authToken) {\r\n            navigate('/login')\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchSubDetail = async () => {\r\n            const details = await getSubscriptionDetails(state)\r\n            setSubscription(details)\r\n        }\r\n\r\n        fetchSubDetail()\r\n    }, [])\r\n\r\n    useEffect(async () => {\r\n        if (adminData === null && userData !== null) {\r\n            dispatch(getDevices(userData.uid))\r\n        }\r\n        if (adminData !== null && userData !== null) {\r\n            const { data } = await axios.get(\r\n                `${API_SERVICE}/get/admin/${adminData.email}`\r\n            )\r\n            dispatch(\r\n                getAdminDevices({\r\n                    createdBy: userData.uid,\r\n                    adminGroups: data.groups,\r\n                })\r\n            )\r\n        }\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        if (success) {\r\n            setSuccess(success)\r\n            setSnackOpen(true)\r\n        }\r\n        if (error !== undefined) {\r\n            setError(error)\r\n            setSnackOpen(true)\r\n        }\r\n    }, [success, error])\r\n\r\n    useEffect(async () => {\r\n        if (success === 'Device added succssfully') {\r\n            if (phoneNumber.length !== 0) {\r\n                await sendTrackingRequest()\r\n                await sendNotificationToDevice()\r\n            }\r\n\r\n            setPhoneNumber('')\r\n            setSelectedGroups([])\r\n            setFullName('')\r\n            setAddDeviceDialog(false)\r\n        }\r\n    }, [success])\r\n\r\n    const handleSnackClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return\r\n        }\r\n\r\n        setSnackOpen(false)\r\n        setError(null)\r\n        setSuccess(null)\r\n    }\r\n\r\n    // toggle edit devices dialog\r\n    const toggleEditDeviceDialog = (item) => {\r\n        if (editDialogOpen) {\r\n            setEditDialogOpen(false)\r\n        } else {\r\n            setSelectedDevice(item)\r\n            setEditDialogOpen(true)\r\n        }\r\n    }\r\n\r\n    const sendTrackingRequest = async () => {\r\n        const requestRef = collection(\r\n            db,\r\n            'trackingRequest',\r\n            phoneNumber,\r\n            'requests'\r\n        )\r\n        await addDoc(requestRef, {\r\n            requestStatus: 'pending',\r\n            companyName: userData.companyName,\r\n            recieverFullName: fullName,\r\n            sender: {\r\n                id: userData.uid,\r\n                profilePhoto: userData.profilePhoto,\r\n            },\r\n            createdAt: Timestamp.now(),\r\n        }).catch((error) => console.log(error))\r\n    }\r\n\r\n    const sendNotificationToDevice = async () => {\r\n        const androidRef = collection(\r\n            db,\r\n            'trackingAndroidNotification',\r\n            phoneNumber,\r\n            'notifications'\r\n        )\r\n        await addDoc(androidRef, {\r\n            message: `${userData.companyName} has send you a tracking request`,\r\n            status: 'pending',\r\n            sender: {\r\n                id: userData.uid,\r\n                profilePhoto: userData.profilePhoto,\r\n            },\r\n            createdAt: Timestamp.now(),\r\n            seen: false,\r\n        }).catch((error) => console.log(error))\r\n    }\r\n\r\n    const addNewDevice = async () => {\r\n        if (subscription === null) {\r\n            setError('You do not have any subscription. Please choose a plan')\r\n            setSnackOpen(true)\r\n            return\r\n        } else if (deviceList.length === subscription.deviceCount) {\r\n            setError(\r\n                'You have used your device quota. Please upgrade your subscription'\r\n            )\r\n            setSnackOpen(true)\r\n            return\r\n        } else if (phoneNumber.length !== 10) {\r\n            setError('Phone number must be 10 digit long')\r\n            setSnackOpen(true)\r\n            return\r\n        } else if (fullName.length === 0) {\r\n            setError('Full name is required')\r\n            setSnackOpen(true)\r\n            return\r\n        }\r\n\r\n        const body = {\r\n            fullName,\r\n            phoneNumber,\r\n            groups: selectedGroups,\r\n            createdBy: userData.uid,\r\n            trackingStatus: 'pending',\r\n        }\r\n\r\n        dispatch(createDevice(body))\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        const {\r\n            target: { value },\r\n        } = event\r\n        setSelectedGroups(typeof value === 'string' ? value.split(',') : value)\r\n    }\r\n\r\n    return (\r\n        <Box sx={{ width: '100%', p: 4 }}>\r\n            <h2>Manage Mobile Devices</h2>\r\n            <Box\r\n                sx={{\r\n                    width: '100%',\r\n                    display: 'flex',\r\n                    justifyContent: 'flex-end',\r\n                    flexDirection: 'row',\r\n                    gap: 2,\r\n                }}\r\n            >\r\n                <Button\r\n                    variant='contained'\r\n                    sx={{\r\n                        py: 1.2,\r\n                    }}\r\n                    onClick={() => setAddDeviceDialog(true)}\r\n                >\r\n                    Add New Device\r\n                </Button>\r\n            </Box>\r\n\r\n            <Box sx={{ mt: 5 }}>\r\n                <DeviceTable\r\n                    toggleEditDeviceDialog={toggleEditDeviceDialog}\r\n                    scheduleDialog={scheduleDialog}\r\n                    setScheduleDialog={setScheduleDialog}\r\n                />\r\n            </Box>\r\n\r\n            {/** Dialog for adding a new device */}\r\n            <Dialog\r\n                open={addDeviceDialog}\r\n                onClose={() => setAddDeviceDialog(false)}\r\n            >\r\n                <DialogTitle sx={{ fontSize: 22 }}>Add New Device</DialogTitle>\r\n                <DialogContent sx={{ width: 500 }}>\r\n                    <form className={classes.form} noValidate>\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            fullWidth\r\n                            id='fullName'\r\n                            label='Full Name'\r\n                            name='fullName'\r\n                            autoComplete='name'\r\n                            autoFocus\r\n                            value={fullName}\r\n                            onChange={(e) => setFullName(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            fullWidth\r\n                            id='phoneNumber'\r\n                            label='Phone Number'\r\n                            name='phoneNumber'\r\n                            value={phoneNumber}\r\n                            onChange={(e) => setPhoneNumber(e.target.value)}\r\n                        />\r\n\r\n                        <FormControl\r\n                            margin='normal'\r\n                            fullWidth\r\n                            variant='outlined'\r\n                        >\r\n                            <InputLabel id='device-group'>\r\n                                Select Group\r\n                            </InputLabel>\r\n                            <Select\r\n                                labelId='device-group'\r\n                                label='Select Group'\r\n                                value={selectedGroups}\r\n                                onChange={handleChange}\r\n                                multiple\r\n                                renderValue={(selected) => selected.join(', ')}\r\n                                MenuProps={MenuProps}\r\n                            >\r\n                                {groupList.map((item) => (\r\n                                    <MenuItem key={item._id} value={item._id}>\r\n                                        <Checkbox\r\n                                            checked={\r\n                                                selectedGroups.indexOf(\r\n                                                    item._id\r\n                                                ) > -1\r\n                                            }\r\n                                        />\r\n                                        <ListItemText\r\n                                            primary={item.groupName}\r\n                                        />\r\n                                    </MenuItem>\r\n                                ))}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </form>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => setAddDeviceDialog(false)}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={() => addNewDevice()}>Save Device</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/** Dialog for editing a device */}\r\n            <EditDeviceDialog\r\n                editDialogOpen={editDialogOpen}\r\n                setEditDialogOpen={setEditDialogOpen}\r\n                selectedDevice={selectedDevice}\r\n                trackingGroups={groupList}\r\n                setSuccess={setSuccess}\r\n                setError={setError}\r\n                setSnackOpen={setSnackOpen}\r\n            />\r\n\r\n            {successMsg && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='success'\r\n                        sx={{ width: '100%' }}\r\n                        variant='filled'\r\n                    >\r\n                        {successMsg}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n            {errorMsg && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='error'\r\n                        sx={{ width: '100%' }}\r\n                        variant='filled'\r\n                    >\r\n                        {errorMsg}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default ManageMobileDevices\r\n","import React, { useState, useEffect, useRef, useCallback } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport {\r\n  Checkbox,\r\n  FormControl,\r\n  InputLabel,\r\n  ListItemText,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n} from '@mui/material'\r\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\r\nimport Geocoder from 'react-map-gl-geocoder'\r\nimport 'react-map-gl-geocoder/dist/mapbox-gl-geocoder.css'\r\nimport axios from 'axios'\r\nimport { API_SERVICE, MAP_STYLE, MAP_TOKEN } from '../../URI'\r\nimport { arrayRemove, arrayUnion, doc, updateDoc } from 'firebase/firestore'\r\nimport { db } from '../../Firebase'\r\nimport { updateHotspot } from '../../store/actions/hotspot'\r\n\r\nconst ITEM_HEIGHT = 48\r\nconst ITEM_PADDING_TOP = 8\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n}\r\n\r\nconst EditHotspotDialogForm = (props) => {\r\n  const { trackingGroups, setDialogOpen, open, selectedHotspot } = props\r\n\r\n  const mapRef = useRef()\r\n\r\n  const [hotspotName, setHotspotName] = useState('')\r\n  const [selectedGroups, setSelectedGroups] = useState([])\r\n  const [newGroups, setNewGroups] = useState([])\r\n  const [location, setLocation] = useState('')\r\n  const [lat, setlat] = useState(28.6077159025)\r\n  const [long, setlong] = useState(77.224249103)\r\n  const [zipCode, setZipCode] = useState(0)\r\n  const [viewport, setViewport] = useState({\r\n    width: '100%',\r\n    height: 400,\r\n    latitude: lat,\r\n    longitude: long,\r\n    zoom: 15,\r\n  })\r\n  const [isFetching, setIsFetching] = useState(false)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (Object.entries(selectedHotspot).length !== 0) {\r\n      setHotspotName(selectedHotspot.hotspotName)\r\n      const groups = selectedHotspot.groups\r\n\r\n      const arr = []\r\n      groups.forEach((x) => arr.push(x._id))\r\n      setSelectedGroups(arr)\r\n\r\n      getLatLong(\r\n        selectedHotspot.location.latitude,\r\n        selectedHotspot.location.longitude,\r\n      )\r\n      setViewport({\r\n        ...viewport,\r\n        latitude: selectedHotspot.location.latitude,\r\n        longitude: selectedHotspot.location.longitude,\r\n      })\r\n      setlat(selectedHotspot.location.latitude)\r\n      setlong(selectedHotspot.location.longitude)\r\n    }\r\n  }, [selectedHotspot])\r\n\r\n  const handleViewportChange = useCallback(\r\n    (newViewport) => setViewport(newViewport),\r\n    [],\r\n  )\r\n\r\n  const handleGeocoderViewportChange = useCallback((newViewport) => {\r\n    const geocoderDefaultOverrides = { transitionDuration: 1000 }\r\n\r\n    getLatLong(newViewport.latitude, newViewport.longitude)\r\n\r\n    return handleViewportChange({\r\n      ...newViewport,\r\n      ...geocoderDefaultOverrides,\r\n    })\r\n  }, [])\r\n\r\n  const getLatLong = async (latitude, longitude) => {\r\n    axios\r\n      .get(`${API_SERVICE}/getlatlong/${latitude}/${longitude}`)\r\n      .then((res) => {\r\n        setLocation(res.data.formattedAddress)\r\n        setZipCode(res.data.zipcode)\r\n        setIsFetching(false)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event\r\n    setSelectedGroups(typeof value === 'string' ? value.split(',') : value)\r\n  }\r\n\r\n  const updateDetails = () => {\r\n    const body = {\r\n      _id: selectedHotspot._id,\r\n      hotspotName,\r\n      location: {\r\n        latitude: Number(lat.toPrecision(6)),\r\n        longitude: Number(long.toPrecision(6)),\r\n        zipCode,\r\n      },\r\n      groups: selectedGroups,\r\n    }\r\n    dispatch(updateHotspot(body))\r\n    setDialogOpen(false)\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onClose={() => setDialogOpen(false)}>\r\n      <DialogContent sx={{ width: '1200' }}>\r\n        <form noValidate style={{ marginBottom: '20px' }}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"hotspotName\"\r\n            label=\"Hotspot Name\"\r\n            name=\"hotspotName\"\r\n            autoFocus\r\n            value={hotspotName}\r\n            onChange={(e) => setHotspotName(e.target.value)}\r\n          />\r\n\r\n          <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\r\n            <InputLabel id=\"device-group\">Select Group</InputLabel>\r\n            <Select\r\n              labelId=\"device-group\"\r\n              label=\"Select Group\"\r\n              value={selectedGroups}\r\n              onChange={handleChange}\r\n              multiple\r\n              renderValue={(selected) => selected.join(', ')}\r\n              MenuProps={MenuProps}\r\n            >\r\n              {trackingGroups.map((item) => (\r\n                <MenuItem key={item._id} value={item._id}>\r\n                  <Checkbox checked={selectedGroups.indexOf(item._id) > -1} />\r\n                  <ListItemText primary={item.groupName} />\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"location\"\r\n            label=\"Set Location\"\r\n            name=\"location\"\r\n            value={location}\r\n            onChange={(e) => {}}\r\n          />\r\n        </form>\r\n        <ReactMapGL\r\n          {...viewport}\r\n          ref={mapRef}\r\n          mapboxApiAccessToken={MAP_TOKEN}\r\n          mapStyle={MAP_STYLE}\r\n          onViewportChange={(nextViewport) => setViewport(nextViewport)}\r\n          onClick={async (e) => {\r\n            setlat(e.lngLat[1])\r\n            setlong(e.lngLat[0])\r\n            setIsFetching(true)\r\n            getLatLong(e.lngLat[1], e.lngLat[0])\r\n          }}\r\n        >\r\n          <Geocoder\r\n            mapRef={mapRef}\r\n            onViewportChange={handleGeocoderViewportChange}\r\n            mapboxApiAccessToken={MAP_TOKEN}\r\n            position=\"top-left\"\r\n            marker={true}\r\n            countries=\"IN\"\r\n            reverseGeocode={true}\r\n          />\r\n          <Marker key=\"1\" latitude={lat} longitude={long}>\r\n            <button className=\"marker-btn\">\r\n              <img\r\n                alt=\"Image\"\r\n                src=\"https://www.nbp.co.uk/Content/Images/uploaded/contact-branch-details.png\"\r\n              />\r\n            </button>\r\n          </Marker>\r\n        </ReactMapGL>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => setDialogOpen(false)}>Cancel</Button>\r\n        <Button disabled={isFetching} onClick={() => updateDetails()}>\r\n          Update\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default EditHotspotDialogForm\r\n","import React, { useEffect, useState } from 'react'\r\nimport {\r\n  Box,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Typography,\r\n  IconButton,\r\n} from '@mui/material'\r\nimport DeleteIcon from '@mui/icons-material/Delete'\r\nimport Create from '@mui/icons-material/Create'\r\nimport { db } from '../../Firebase/index'\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  query,\r\n  where,\r\n  deleteDoc,\r\n  doc,\r\n  updateDoc,\r\n  arrayRemove,\r\n  onSnapshot,\r\n} from 'firebase/firestore'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { deleteHotspot } from '../../store/actions/hotspot'\r\n\r\nconst HotspotSetting = (props) => {\r\n  const { open, success, error, toggleEditHotspotDialog } = props\r\n\r\n  //const [hotspots, setHotspots] = useState([])\r\n\r\n  const userData = sessionStorage.getItem('userData')\r\n    ? JSON.parse(sessionStorage.getItem('userData'))\r\n    : null\r\n\r\n  const adminData = sessionStorage.getItem('adminData')\r\n    ? JSON.parse(sessionStorage.getItem('adminData'))\r\n    : null\r\n\r\n  const dispatch = useDispatch()\r\n  const hotspots = useSelector((state) => state.hotspots)\r\n  const { hotspotList } = hotspots\r\n\r\n  //Get All Hotspots\r\n  // useEffect(() => {\r\n  //   const ref = collection(db, 'trackingHotspots')\r\n  //   let q\r\n  //   let unsub\r\n  //   if (adminData === null) {\r\n  //     q = query(ref, where('createdBy', '==', userData.uid))\r\n\r\n  //     unsub = onSnapshot(q, (snapshot) => {\r\n  //       const array = []\r\n  //       snapshot.forEach((document) => {\r\n  //         array.push({ ...document.data(), id: document.id })\r\n  //       })\r\n  //       setHotspots(array)\r\n  //     })\r\n  //   } else {\r\n  //     const array = []\r\n  //     adminData.groupId.forEach((x) => {\r\n  //       q = query(\r\n  //         ref,\r\n  //         where('createdBy', '==', userData.uid),\r\n  //         where('groupId', 'array-contains-any', adminData.groupId),\r\n  //       )\r\n  //       unsub = onSnapshot(q, (snapshot) => {\r\n  //         snapshot.forEach((document) => {\r\n  //           array.push({ ...document.data(), id: document.id })\r\n  //         })\r\n  //       })\r\n  //     })\r\n\r\n  //     setHotspots(array)\r\n  //   }\r\n  // }, [])\r\n\r\n  const removeHotspot = (hotspot) => {\r\n    dispatch(deleteHotspot(hotspot._id))\r\n  }\r\n\r\n  // const deleteHotspot = async (hotspot) => {\r\n  //   await deleteDoc(doc(db, 'trackingHotspots', hotspot.id))\r\n  //     .then(() => {\r\n  //       const groups = hotspot.groups\r\n\r\n  //       for (let group of groups) {\r\n  //         const ref = doc(db, 'trackingGroups', group.id)\r\n  //         updateDoc(ref, {\r\n  //           hotspot: arrayRemove({\r\n  //             hotspotName: hotspot.hotspotName,\r\n  //             id: hotspot.id,\r\n  //             zipCode: hotspot.location.zipCode,\r\n  //           }),\r\n  //         }).catch((err) => console.log(err))\r\n  //       }\r\n  //     })\r\n  //     .then(() => {\r\n  //       success('Hotspot Deleted Successfully !!')\r\n  //       open(true)\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(err)\r\n  //     })\r\n  // }\r\n\r\n  return (\r\n    <Box>\r\n      <TableContainer component={Paper} sx={{ boxShadow: 6 }}>\r\n        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Hotspot Name</TableCell>\r\n              <TableCell align=\"center\">Address (Zip Code)</TableCell>\r\n              <TableCell align=\"center\">Groups Added</TableCell>\r\n              <TableCell align=\"center\">Action</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {hotspotList.map((row) => (\r\n              <TableRow\r\n                key={row._id}\r\n                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n              >\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {row.hotspotName}\r\n                </TableCell>\r\n                <TableCell align=\"center\">{row.location.zipCode}</TableCell>\r\n                <TableCell\r\n                  align=\"center\"\r\n                  sx={{ display: 'flex', justifyContent: 'center' }}\r\n                >\r\n                  {row.groups.length === 0 && <>---</>}\r\n                  {row.groups.map((x, i) => (\r\n                    <div key={i}>\r\n                      <Typography variant=\"p\" component=\"p\">\r\n                        {x.groupName}\r\n                        {i !== row.groups.length - 1 && <>{' ,'}</>}\r\n                      </Typography>\r\n                    </div>\r\n                  ))}\r\n                </TableCell>\r\n                <TableCell align=\"center\" sx={{ p: 0 }}>\r\n                  <IconButton\r\n                    edge=\"end\"\r\n                    aria-label=\"edit\"\r\n                    color=\"primary\"\r\n                    onClick={() => toggleEditHotspotDialog(row)}\r\n                    sx={{ mr: 0.2 }}\r\n                  >\r\n                    <Create />\r\n                  </IconButton>\r\n                  <IconButton color=\"error\" onClick={() => removeHotspot(row)}>\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default HotspotSetting\r\n","import React, { useEffect, useState, useRef, useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n    Box,\r\n    Grid,\r\n    TextField,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    Button,\r\n    ListItemText,\r\n    Checkbox,\r\n    Snackbar,\r\n    Alert,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions,\r\n} from '@mui/material'\r\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\r\nimport EditHotspotDialogForm from '../components/hotspot/EditHotspotDialogForm'\r\nimport Geocoder from 'react-map-gl-geocoder'\r\nimport 'react-map-gl-geocoder/dist/mapbox-gl-geocoder.css'\r\nimport axios from 'axios'\r\nimport { API_SERVICE, MAP_STYLE, MAP_TOKEN } from '../URI'\r\nimport HotspotTable from '../components/hotspot/HotspotTable'\r\nimport {\r\n    createHotspot,\r\n    getHotspots,\r\n    getAdminHotspots,\r\n} from '../store/actions/hotspot'\r\nimport { getGroups } from '../store/actions/group'\r\nimport { useNavigate } from 'react-router'\r\nimport { useSubscription } from '../hooks/useSubscription'\r\nimport { getSubscriptionDetails } from '../utils/getSubscriptionDetails'\r\n\r\nconst ITEM_HEIGHT = 48\r\nconst ITEM_PADDING_TOP = 8\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n            width: 250,\r\n        },\r\n    },\r\n}\r\n\r\nconst ManageHotspots = () => {\r\n    const mapRef = useRef()\r\n    const [hotspotName, setHotspotName] = useState('')\r\n    const [selectedGroups, setSelectedGroups] = useState([])\r\n    // const [groups, setGroups] = useState([])\r\n    const [location, setLocation] = useState('')\r\n    const [lat, setlat] = useState(28.6077159025)\r\n    const [long, setlong] = useState(77.224249103)\r\n    const [zipCode, setZipCode] = useState(0)\r\n    const [viewport, setViewport] = useState({\r\n        width: '100%',\r\n        height: 400,\r\n        latitude: 28.6077159025,\r\n        longitude: 77.224249103,\r\n        zoom: 15,\r\n    })\r\n    const [selectedHotspot, setSelectedHotspot] = useState({})\r\n    const [dialogOpen, setDialogOpen] = useState(false)\r\n    const [addHotspotDialog, setAddHotspotDialog] = useState(false)\r\n    // snackbar states\r\n    const [snackOpen, setSnackOpen] = useState(false)\r\n    const [successMsg, setSuccessMsg] = useState(null)\r\n    const [errorMsg, setErrorMsg] = useState(null)\r\n    // map states\r\n    const [allViewport, setAllViewport] = useState({\r\n        width: '100%',\r\n        height: '100%',\r\n        latitude: 28.52,\r\n        longitude: 77.402,\r\n        zoom: 10,\r\n    })\r\n    const [load, setLoad] = useState(false)\r\n    const [selected, setSelected] = useState(false)\r\n    const [selectedLat, setSelectedLat] = useState(null)\r\n    const [selectedLong, setSelectedLong] = useState(null)\r\n    const [locationData, setLocationData] = useState({})\r\n\r\n    // subscription state\r\n    const [subscription, setSubscription] = useState(null)\r\n\r\n    const dispatch = useDispatch()\r\n    const hotspots = useSelector((state) => state.hotspots)\r\n    const { hotspotList, success, error } = hotspots\r\n    const groups = useSelector((state) => state.groups)\r\n    const { groupList } = groups\r\n\r\n    const userData = sessionStorage.getItem('userData')\r\n        ? JSON.parse(sessionStorage.getItem('userData'))\r\n        : null\r\n\r\n    const adminData = sessionStorage.getItem('adminData')\r\n        ? JSON.parse(sessionStorage.getItem('adminData'))\r\n        : null\r\n\r\n    const navigate = useNavigate()\r\n    const { state } = useSubscription()\r\n\r\n    useEffect(() => {\r\n        const authToken = sessionStorage.getItem('authToken')\r\n\r\n        if (!authToken) {\r\n            navigate('/login')\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchSubDetail = async () => {\r\n            const details = await getSubscriptionDetails(state)\r\n            setSubscription(details)\r\n        }\r\n\r\n        fetchSubDetail()\r\n    }, [])\r\n\r\n    useEffect(async () => {\r\n        if (userData !== null) {\r\n            dispatch(getGroups(userData?.uid))\r\n        }\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        if (success) {\r\n            setSuccessMsg(success)\r\n            setSnackOpen(true)\r\n        }\r\n\r\n        if (error) {\r\n            setErrorMsg(error)\r\n            setSnackOpen(true)\r\n        }\r\n    }, [success, error])\r\n\r\n    useEffect(async () => {\r\n        if (adminData === null && userData !== null) {\r\n            dispatch(getHotspots(userData.uid))\r\n        }\r\n        if (adminData !== null && userData !== null) {\r\n            const { data } = await axios.get(\r\n                `${API_SERVICE}/get/admin/${adminData.email}`\r\n            )\r\n            dispatch(\r\n                getAdminHotspots({\r\n                    createdBy: userData.uid,\r\n                    adminGroups: data.groups,\r\n                })\r\n            )\r\n        }\r\n    }, [dispatch])\r\n\r\n    useEffect(async () => {\r\n        setLoad(true)\r\n        axios\r\n            .get(`${API_SERVICE}/getlatlong/${selectedLat}/${selectedLong}`)\r\n            .then((response) => {\r\n                console.log(response)\r\n                setLocationData(response.data)\r\n                setLoad(false)\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }, [selectedLat, selectedLong])\r\n\r\n    const handleViewportChange = useCallback(\r\n        (newViewport) => setViewport(newViewport),\r\n        []\r\n    )\r\n\r\n    const handleGeocoderViewportChange = useCallback((newViewport) => {\r\n        const geocoderDefaultOverrides = { transitionDuration: 1000 }\r\n\r\n        getLatLong(newViewport.latitude, newViewport.longitude)\r\n\r\n        return handleViewportChange({\r\n            ...newViewport,\r\n            ...geocoderDefaultOverrides,\r\n        })\r\n    }, [])\r\n\r\n    const handleSnackClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return\r\n        }\r\n\r\n        setSnackOpen(false)\r\n        setErrorMsg(null)\r\n        setSuccessMsg(null)\r\n    }\r\n\r\n    const getLatLong = async (latitude, longitude) => {\r\n        axios\r\n            .get(`${API_SERVICE}/getlatlong/${latitude}/${longitude}`)\r\n            .then((res) => {\r\n                setLocation(res.data.formattedAddress)\r\n                setZipCode(res.data.zipcode)\r\n            })\r\n            .catch((errorMsg) => {\r\n                console.log(errorMsg)\r\n            })\r\n    }\r\n\r\n    const saveHotspot = () => {\r\n        if (subscription === null) {\r\n            setErrorMsg(\r\n                'You do not have any subscription. Please choose a plan'\r\n            )\r\n            setSnackOpen(true)\r\n            return\r\n        } else if (hotspotList.length === subscription.hotspotCount) {\r\n            setErrorMsg(\r\n                'You have used your hotspot quota. Please upgrade your subscription'\r\n            )\r\n            setSnackOpen(true)\r\n            return\r\n        } else if (hotspotName.length < 3) {\r\n            setErrorMsg('Hotspot name must be atleast 3 characters')\r\n            setSnackOpen(true)\r\n            return\r\n        }\r\n\r\n        const body = {\r\n            hotspotName,\r\n            groups: selectedGroups,\r\n            createdBy: userData.uid,\r\n            location: {\r\n                latitude: Number(lat.toPrecision(6)),\r\n                longitude: Number(long.toPrecision(6)),\r\n                zipCode,\r\n            },\r\n        }\r\n\r\n        dispatch(createHotspot(body))\r\n        setAddHotspotDialog(false)\r\n        setHotspotName('')\r\n        setSelectedGroups([])\r\n        setLocation('')\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        const {\r\n            target: { value },\r\n        } = event\r\n        setSelectedGroups(typeof value === 'string' ? value.split(',') : value)\r\n    }\r\n\r\n    const toggleEditHotspotDialog = (item) => {\r\n        if (dialogOpen) {\r\n            setDialogOpen(false)\r\n        } else {\r\n            setSelectedHotspot(item)\r\n            setDialogOpen(true)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Box sx={{ width: '100%', p: 4, height: '100%' }}>\r\n            <h2>Manage Hotspots</h2>\r\n\r\n            <Grid container spacing={2} sx={{ height: '100%' }}>\r\n                <Grid item xs={12} md={6}>\r\n                    <Box\r\n                        sx={{\r\n                            width: '100%',\r\n                            display: 'flex',\r\n                            justifyContent: 'flex-end',\r\n                            flexDirection: 'row',\r\n                            gap: 2,\r\n                        }}\r\n                    >\r\n                        <Button\r\n                            variant='contained'\r\n                            sx={{\r\n                                py: 1.2,\r\n                            }}\r\n                            onClick={() => setAddHotspotDialog(true)}\r\n                        >\r\n                            Add New Hotspot\r\n                        </Button>\r\n                    </Box>\r\n\r\n                    <Box sx={{ my: 5 }}>\r\n                        <HotspotTable\r\n                            successMsg={setSuccessMsg}\r\n                            errorMsg={setErrorMsg}\r\n                            open={setSnackOpen}\r\n                            toggleEditHotspotDialog={toggleEditHotspotDialog}\r\n                        />\r\n                    </Box>\r\n                </Grid>\r\n                <Grid item xs={12} md={6} sx={{ height: '100' }}>\r\n                    <ReactMapGL\r\n                        {...allViewport}\r\n                        mapboxApiAccessToken={MAP_TOKEN}\r\n                        mapStyle={MAP_STYLE}\r\n                        onViewportChange={(nextViewport) =>\r\n                            setAllViewport(nextViewport)\r\n                        }\r\n                    >\r\n                        {hotspotList.map((hotspot) => (\r\n                            <Marker\r\n                                key={hotspot._id}\r\n                                latitude={hotspot.location.latitude}\r\n                                longitude={hotspot.location.longitude}\r\n                            >\r\n                                <button\r\n                                    className='marker-btn'\r\n                                    onMouseEnter={(e) => {\r\n                                        e.preventDefault()\r\n                                        setSelected(true)\r\n                                        setSelectedLat(\r\n                                            hotspot.location.latitude\r\n                                        )\r\n                                        setSelectedLong(\r\n                                            hotspot.location.longitude\r\n                                        )\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        e.preventDefault()\r\n                                        setSelected(false)\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        alt='Image'\r\n                                        src='https://www.nbp.co.uk/Content/Images/uploaded/contact-branch-details.png'\r\n                                    />\r\n                                </button>\r\n                            </Marker>\r\n                        ))}\r\n                        {selected ? (\r\n                            <Popup\r\n                                latitude={selectedLat}\r\n                                longitude={selectedLong}\r\n                                onClose={() => {\r\n                                    setSelected(false)\r\n                                    setSelectedLat(0)\r\n                                    setSelectedLong(0)\r\n                                }}\r\n                            >\r\n                                <div>\r\n                                    {load ? (\r\n                                        <p>Fetching Location ...</p>\r\n                                    ) : (\r\n                                        <p>{locationData.formattedAddress}</p>\r\n                                    )}\r\n                                </div>\r\n                            </Popup>\r\n                        ) : null}\r\n                    </ReactMapGL>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Dialog\r\n                open={addHotspotDialog}\r\n                onClose={() => setAddHotspotDialog(false)}\r\n            >\r\n                <DialogTitle sx={{ fontSize: 22 }}>Add New Hotspot</DialogTitle>\r\n                <DialogContent sx={{ width: 600 }}>\r\n                    <form noValidate style={{ marginBottom: '20px' }}>\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            fullWidth\r\n                            id='hotspotName'\r\n                            label='Hotspot Name'\r\n                            name='hotspotName'\r\n                            autoFocus\r\n                            value={hotspotName}\r\n                            onChange={(e) => setHotspotName(e.target.value)}\r\n                        />\r\n\r\n                        <FormControl\r\n                            margin='normal'\r\n                            fullWidth\r\n                            variant='outlined'\r\n                        >\r\n                            <InputLabel id='device-group'>\r\n                                Select Group\r\n                            </InputLabel>\r\n                            <Select\r\n                                labelId='device-group'\r\n                                label='Select Group'\r\n                                value={selectedGroups}\r\n                                onChange={handleChange}\r\n                                multiple\r\n                                renderValue={(selected) => selected.join(', ')}\r\n                                MenuProps={MenuProps}\r\n                            >\r\n                                {groupList.map((item) => (\r\n                                    <MenuItem key={item._id} value={item._id}>\r\n                                        <Checkbox\r\n                                            checked={\r\n                                                selectedGroups.indexOf(\r\n                                                    item._id\r\n                                                ) > -1\r\n                                            }\r\n                                        />\r\n                                        <ListItemText\r\n                                            primary={item.groupName}\r\n                                        />\r\n                                    </MenuItem>\r\n                                ))}\r\n                            </Select>\r\n                        </FormControl>\r\n\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            fullWidth\r\n                            id='location'\r\n                            label='Set Location'\r\n                            name='location'\r\n                            value={location}\r\n                            onChange={(e) => {}}\r\n                        />\r\n                    </form>\r\n                    <ReactMapGL\r\n                        {...viewport}\r\n                        ref={mapRef}\r\n                        mapboxApiAccessToken={MAP_TOKEN}\r\n                        mapStyle={MAP_STYLE}\r\n                        onViewportChange={(nextViewport) =>\r\n                            setViewport(nextViewport)\r\n                        }\r\n                        onClick={async (e) => {\r\n                            setlat(e.lngLat[1])\r\n                            setlong(e.lngLat[0])\r\n                            getLatLong(e.lngLat[1], e.lngLat[0])\r\n                        }}\r\n                    >\r\n                        <Geocoder\r\n                            mapRef={mapRef}\r\n                            onViewportChange={handleGeocoderViewportChange}\r\n                            mapboxApiAccessToken={MAP_TOKEN}\r\n                            position='top-left'\r\n                            marker={true}\r\n                            countries='IN'\r\n                            reverseGeocode={true}\r\n                        />\r\n                        <Marker key='1' latitude={lat} longitude={long}>\r\n                            <button className='marker-btn'>\r\n                                <img\r\n                                    alt='Image'\r\n                                    src='https://www.nbp.co.uk/Content/Images/uploaded/contact-branch-details.png'\r\n                                />\r\n                            </button>\r\n                        </Marker>\r\n                    </ReactMapGL>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => setAddHotspotDialog(false)}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={() => saveHotspot()}>Save Hotspot</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Dialog to Edit the Hotspot */}\r\n            <EditHotspotDialogForm\r\n                open={dialogOpen}\r\n                setDialogOpen={setDialogOpen}\r\n                selectedHotspot={selectedHotspot}\r\n                trackingGroups={groupList}\r\n                setSnackOpen={setSnackOpen}\r\n                setSuccessMsg={setSuccessMsg}\r\n                setErrorMsg={setErrorMsg}\r\n            />\r\n\r\n            {successMsg !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='success'\r\n                        variant='filled'\r\n                        sx={{ width: '100%' }}\r\n                    >\r\n                        {successMsg}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n            {errorMsg !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='error'\r\n                        variant='filled'\r\n                        sx={{ width: '100%' }}\r\n                    >\r\n                        {errorMsg}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default ManageHotspots\r\n","import React, { useState } from 'react'\r\nimport { TextField, Button, Box, CircularProgress } from '@mui/material'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { auth } from '../../Firebase/index'\r\nimport {\r\n  updatePassword,\r\n  reauthenticateWithCredential,\r\n  EmailAuthProvider,\r\n} from 'firebase/auth'\r\n\r\nconst SecuritySetting = (props) => {\r\n  const { open, success, error } = props\r\n\r\n  const [currentPassword, setCurrentPassword] = useState('')\r\n  const [newPassword, setNewPassword] = useState('')\r\n\r\n  const [isUpdating, setIsUpdating] = useState(false)\r\n\r\n  const userData = sessionStorage.getItem('userData')\r\n    ? JSON.parse(sessionStorage.getItem('userData'))\r\n    : null\r\n\r\n  const update = async () => {\r\n    try {\r\n      setIsUpdating(true)\r\n      const user = auth.currentUser\r\n\r\n      const credential = EmailAuthProvider.credential(\r\n        userData.email,\r\n        currentPassword\r\n      )\r\n\r\n      reauthenticateWithCredential(user, credential)\r\n        .then(() => {\r\n          updatePassword(user, newPassword)\r\n            .then(() => {\r\n              success('Password updated successfully')\r\n              open(true)\r\n              setNewPassword('')\r\n              setCurrentPassword('')\r\n              setIsUpdating(false)\r\n            })\r\n            .catch((err) => {\r\n              const errorCode = err.code\r\n              const errorMessage = err.message\r\n              error(`${errorCode} ${errorMessage}`)\r\n              open(true)\r\n              setIsUpdating(false)\r\n            })\r\n        })\r\n        .catch((err) => {\r\n          const errorCode = err.code\r\n          const errorMessage = err.message\r\n          error(`${errorCode} ${errorMessage}`)\r\n          open(true)\r\n          setIsUpdating(false)\r\n        })\r\n    } catch (err) {\r\n      error(err)\r\n      open(true)\r\n      setIsUpdating(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <form noValidate>\r\n        <TextField\r\n          variant='outlined'\r\n          margin='normal'\r\n          fullWidth\r\n          id='password'\r\n          label='Current Password'\r\n          name='password'\r\n          autoComplete='name'\r\n          value={currentPassword}\r\n          onChange={(e) => setCurrentPassword(e.target.value)}\r\n        />\r\n        <TextField\r\n          variant='outlined'\r\n          margin='normal'\r\n          fullWidth\r\n          id='password'\r\n          label='New Password'\r\n          name='password'\r\n          autoComplete='name'\r\n          value={newPassword}\r\n          onChange={(e) => setNewPassword(e.target.value)}\r\n        />\r\n        <Button\r\n          sx={{ py: 1.2, px: 4, fontSize: 15, mt: 2 }}\r\n          variant='contained'\r\n          onClick={() => update()}\r\n          startIcon={\r\n            isUpdating && <CircularProgress size={20} color='inherit' />\r\n          }\r\n        >\r\n          Update Password\r\n        </Button>\r\n      </form>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default SecuritySetting\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n    Box,\r\n    Grid,\r\n    TextField,\r\n    Button,\r\n    Avatar,\r\n    IconButton,\r\n    CircularProgress,\r\n    Snackbar,\r\n    Alert,\r\n} from '@mui/material'\r\nimport { makeStyles } from '@mui/styles'\r\n\r\nimport PhotoCamera from '@mui/icons-material/PhotoCamera'\r\nimport { storage, db } from '../Firebase'\r\nimport { ref, uploadBytesResumable, getDownloadURL } from 'firebase/storage'\r\nimport { updateDoc, doc } from 'firebase/firestore'\r\nimport SecuritySetting from '../components/settings/SecuritySetting'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n}))\r\n\r\nconst Profile = () => {\r\n    const classes = useStyles()\r\n\r\n    const [firstName, setFirstName] = useState('')\r\n    const [lastName, setLastName] = useState('')\r\n    const [companyName, setCompanyName] = useState('')\r\n\r\n    const [profilePhoto, setProfilePhoto] = useState('')\r\n    const [previewUrl, setPreviewUrl] = useState(null)\r\n    const [selectedFile, setSelectedFile] = useState(null)\r\n    const [isUpdating, setIsUpdating] = useState(false)\r\n    // snackbar states\r\n    const [snackOpen, setSnackOpen] = useState(false)\r\n    const [success, setSuccess] = useState(null)\r\n    const [error, setError] = useState(null)\r\n\r\n    const userData = sessionStorage.getItem('userData')\r\n        ? JSON.parse(sessionStorage.getItem('userData'))\r\n        : null\r\n\r\n    useEffect(() => {\r\n        if (userData !== null) {\r\n            setProfilePhoto(userData.profilePhoto)\r\n            setFirstName(userData.firstName)\r\n            setCompanyName(userData.companyName)\r\n            setLastName(userData.lastName)\r\n        }\r\n    }, [])\r\n\r\n    const handleSnackClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return\r\n        }\r\n\r\n        setSnackOpen(false)\r\n        setError(null)\r\n        setSuccess(null)\r\n    }\r\n\r\n    const updateProfileHandler = async () => {\r\n        try {\r\n            setIsUpdating(true)\r\n            await uploaProfilPhoto()\r\n                .then(async (photo) => {\r\n                    const userRef = doc(db, 'trackerWebUser', userData.uid)\r\n                    await updateDoc(userRef, {\r\n                        firstName,\r\n                        lastName,\r\n                        companyName,\r\n                        profilePhoto: photo,\r\n                    }).then(() => {\r\n                        const data = {\r\n                            firstName,\r\n                            lastName,\r\n                            companyName,\r\n                            profilePhoto: photo,\r\n                            uid: userData.uid,\r\n                            createdAt: userData.createdAt,\r\n                            email: userData.email,\r\n                        }\r\n                        sessionStorage.setItem('userData', JSON.stringify(data))\r\n                        setSuccess('Profile updated successfully')\r\n                        setSnackOpen(true)\r\n                        setSelectedFile(null)\r\n                        setPreviewUrl(null)\r\n                        setProfilePhoto(photo)\r\n                        setIsUpdating(false)\r\n                    })\r\n                })\r\n                .catch((error) => {\r\n                    setError(error.message)\r\n                    setSnackOpen(true)\r\n                    setIsUpdating(false)\r\n                })\r\n        } catch (err) {\r\n            setError(err.message)\r\n            setSnackOpen(true)\r\n            setIsUpdating(false)\r\n        }\r\n    }\r\n\r\n    const uploaProfilPhoto = async () => {\r\n        console.log(previewUrl, profilePhoto, selectedFile)\r\n        return new Promise((resolve) => {\r\n            if (previewUrl === null) {\r\n                resolve(userData.profilePhoto)\r\n            }\r\n\r\n            const storageRef = ref(\r\n                storage,\r\n                `superAdmin/profile/${userData.uid}`\r\n            )\r\n            const uploadTask = uploadBytesResumable(storageRef, selectedFile)\r\n\r\n            uploadTask.on(\r\n                'state_changed',\r\n                (snapshot) => {\r\n                    const progress =\r\n                        (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n                    console.log('Upload is ' + progress + '% done')\r\n                    switch (snapshot.state) {\r\n                        case 'paused':\r\n                            console.log('Upload is paused')\r\n                            break\r\n                        case 'running':\r\n                            console.log('Upload is running')\r\n                            break\r\n                    }\r\n                },\r\n                (error) => {\r\n                    console.log(error.message)\r\n                },\r\n                () => {\r\n                    getDownloadURL(uploadTask.snapshot.ref).then(\r\n                        (downloadUrl) => {\r\n                            resolve(downloadUrl)\r\n                        }\r\n                    )\r\n                }\r\n            )\r\n        })\r\n    }\r\n\r\n    const fileSelectHandler = (e) => {\r\n        const selected = e.target.files[0]\r\n        if (selected) {\r\n            setSelectedFile(selected)\r\n\r\n            let src = URL.createObjectURL(selected)\r\n            setPreviewUrl(src)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Box\r\n            sx={{\r\n                width: '100%',\r\n                p: 4,\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n            }}\r\n        >\r\n            <Box sx={{ width: '70%' }}>\r\n                <Grid container spacing={2}>\r\n                    <Grid\r\n                        item\r\n                        md={5}\r\n                        sx={{\r\n                            display: 'flex',\r\n                            justifyContent: 'center',\r\n                            alignItems: 'center',\r\n                            flexDirection: 'column',\r\n                        }}\r\n                    >\r\n                        <Avatar\r\n                            src={\r\n                                previewUrl === null ? profilePhoto : previewUrl\r\n                            }\r\n                            alt='profiile photo'\r\n                            sx={{ my: 1.5, width: 200, height: 200 }}\r\n                        />\r\n\r\n                        <IconButton\r\n                            component='label'\r\n                            sx={{ width: 50, height: 50 }}\r\n                        >\r\n                            <PhotoCamera />\r\n                            <input\r\n                                type='file'\r\n                                hidden\r\n                                onChange={fileSelectHandler}\r\n                                accept='image/*'\r\n                            />\r\n                        </IconButton>\r\n                    </Grid>\r\n                    <Grid item md={7}>\r\n                        <form className={classes.form} noValidate>\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='normal'\r\n                                fullWidth\r\n                                id='firstName'\r\n                                label='First Name'\r\n                                name='firstName'\r\n                                autoComplete='name'\r\n                                autoFocus\r\n                                value={firstName}\r\n                                onChange={(e) => setFirstName(e.target.value)}\r\n                            />\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='normal'\r\n                                fullWidth\r\n                                id='lastName'\r\n                                label='Last Name'\r\n                                name='lastName'\r\n                                autoComplete='name'\r\n                                value={lastName}\r\n                                onChange={(e) => setLastName(e.target.value)}\r\n                            />\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='normal'\r\n                                fullWidth\r\n                                id='email'\r\n                                label='Company Name'\r\n                                name='companyName'\r\n                                autoComplete='text'\r\n                                value={companyName}\r\n                                onChange={(e) => setCompanyName(e.target.value)}\r\n                            />\r\n\r\n                            <Button\r\n                                variant='contained'\r\n                                onClick={() => updateProfileHandler()}\r\n                                sx={{\r\n                                    py: 1.2,\r\n                                    px: 4,\r\n                                    fontSize: 15,\r\n                                    mt: 2,\r\n                                    mb: 4,\r\n                                }}\r\n                                startIcon={\r\n                                    isUpdating && (\r\n                                        <CircularProgress\r\n                                            size={20}\r\n                                            color='inherit'\r\n                                        />\r\n                                    )\r\n                                }\r\n                            >\r\n                                Update Profile\r\n                            </Button>\r\n                        </form>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container spacing={2}>\r\n                    <Grid item md={5}></Grid>\r\n                    <Grid item md={7}>\r\n                        <SecuritySetting\r\n                            open={setSnackOpen}\r\n                            success={setSuccess}\r\n                            error={setError}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </Box>\r\n\r\n            {success !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='success'\r\n                        sx={{ width: '100%' }}\r\n                    >\r\n                        {success}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n            {error !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='error'\r\n                        sx={{ width: '100%' }}\r\n                    >\r\n                        {error}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, { useState } from 'react'\r\nimport {\r\n  Box,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  DialogActions,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Button,\r\n} from '@mui/material'\r\nimport TimeRangePicker from '@wojtekmaj/react-timerange-picker'\r\nimport { db } from '../../Firebase/index'\r\nimport { doc, setDoc } from 'firebase/firestore'\r\n\r\nconst ScheduleForm = (props) => {\r\n  const week = [\r\n    'Sunday',\r\n    'Monday',\r\n    'Tuesday',\r\n    'Wednesday',\r\n    'Thursday',\r\n    'Friday',\r\n    'Saturday',\r\n  ]\r\n\r\n  return (\r\n    <Box>\r\n      <Box\r\n        sx={{ display: 'flex', justifyContent: 'space-between', gap: 2, mt: 2 }}\r\n      >\r\n        <FormControl fullWidth variant=\"outlined\">\r\n          <InputLabel id=\"Start Day\">Start Day</InputLabel>\r\n          <Select\r\n            labelId=\"Start Day\"\r\n            value={props.startDay}\r\n            onChange={(e) => props.setStartDay(e.target.value)}\r\n            label=\"Start Day\"\r\n          >\r\n            {week.map((day, i) => (\r\n              <MenuItem key={i} value={day} sx={{ p: 1.2 }}>\r\n                {day}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <FormControl fullWidth variant=\"outlined\">\r\n          <InputLabel id=\"End Day\">End Day</InputLabel>\r\n          <Select\r\n            labelId=\"Emd Day\"\r\n            value={props.endDay}\r\n            onChange={(e) => props.setEndDay(e.target.value)}\r\n            label=\"End Day\"\r\n          >\r\n            {week.map((day, i) => (\r\n              <MenuItem key={i} value={day} sx={{ p: 1.2 }}>\r\n                {day}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      </Box>\r\n\r\n      <Box\r\n        sx={{\r\n          height: '58px',\r\n          display: 'flex',\r\n          mb: 2,\r\n          mt: 3,\r\n        }}\r\n      >\r\n        <TimeRangePicker\r\n          disableClock={true}\r\n          onChange={props.setTime}\r\n          value={props.time}\r\n          rangeDivider=\"-- to --\"\r\n        />\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default React.memo(ScheduleForm)\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  TextField,\r\n  DialogActions,\r\n  Button,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  ListItemText,\r\n  Checkbox,\r\n} from '@mui/material'\r\nimport ScheduleForm from './ScheduleForm'\r\nimport { createGroup } from '../../store/actions/group'\r\n\r\nconst ITEM_HEIGHT = 48\r\nconst ITEM_PADDING_TOP = 8\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n}\r\n\r\nconst CreateGroupDialog = (props) => {\r\n  const [groupName, setGroupName] = useState('')\r\n  //const [adminList, setAdminList] = useState([])\r\n  const [selectedAdmins, setSelectedAdmins] = useState([])\r\n  //const [admins, setAdmins] = useState([])\r\n\r\n  const [startDay, setStartDay] = useState('')\r\n  const [endDay, setEndDay] = useState('')\r\n  const [time, setTime] = useState(['', ''])\r\n\r\n  const dispatch = useDispatch()\r\n  const admins = useSelector((state) => state.admins)\r\n  const adminList = admins.adminList\r\n\r\n  const saveGroup = () => {\r\n    if (props.subscription === null) {\r\n      props.setError('You do not have any subscription. Please choose a plan')\r\n      props.setSnackOpen(true)\r\n      return\r\n    } else if (props.groupList.length === props.subscription.groupCount) {\r\n      props.setError(\r\n        'You have used your groups quota. Please upgrade your subscription',\r\n      )\r\n      props.setSnackOpen(true)\r\n      return\r\n    } else if (groupName.length < 4) {\r\n      props.setError('Group name must be atleast 4 characters')\r\n      props.setSnackOpen(true)\r\n      return\r\n    }\r\n\r\n    const body = {\r\n      groupName: groupName,\r\n      createdBy: props.createdBy.id,\r\n      members: [],\r\n      hotspot: [],\r\n      admins: selectedAdmins,\r\n      schedule: {\r\n        startDay,\r\n        endDay,\r\n        time: {\r\n          startTime: time[0],\r\n          endTime: time[1],\r\n        },\r\n      },\r\n    }\r\n    dispatch(createGroup(body))\r\n    props.setOpen(false)\r\n    setSelectedAdmins([])\r\n    setGroupName('')\r\n    setStartDay('')\r\n    setEndDay('')\r\n    setTime(['', ''])\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event\r\n    setSelectedAdmins(typeof value === 'string' ? value.split(',') : value)\r\n  }\r\n\r\n  return (\r\n    <Dialog open={props.open} onClose={() => props.setOpen(false)}>\r\n      <DialogTitle sx={{ fontSize: 22 }}>Add New Group</DialogTitle>\r\n      <DialogContent sx={{ width: 500 }}>\r\n        <TextField\r\n          autoFocus\r\n          margin=\"normal\"\r\n          id=\"groupName\"\r\n          label=\"Group Name\"\r\n          type=\"text\"\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          value={groupName}\r\n          onChange={(e) => setGroupName(e.target.value)}\r\n        />\r\n        {props.subscription !== null &&\r\n          props.subscription.groupCount === Number.MAX_VALUE && (\r\n            <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\r\n              <InputLabel id=\"admin\">Select Admin</InputLabel>\r\n              <Select\r\n                labelId=\"admin\"\r\n                label=\"Select Admin\"\r\n                value={selectedAdmins}\r\n                onChange={handleChange}\r\n                multiple\r\n                renderValue={(selected) => selected.join(', ')}\r\n                MenuProps={MenuProps}\r\n              >\r\n                {adminList.map((item) => (\r\n                  <MenuItem key={item._id} value={item._id}>\r\n                    <Checkbox checked={selectedAdmins.indexOf(item._id) > -1} />\r\n                    <ListItemText primary={item.fullName} />\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          )}\r\n\r\n        <ScheduleForm\r\n          startDay={startDay}\r\n          endDay={endDay}\r\n          setStartDay={setStartDay}\r\n          setEndDay={setEndDay}\r\n          time={time}\r\n          setTime={setTime}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => props.setOpen(false)}>Cancel</Button>\r\n        <Button onClick={() => saveGroup()}>Create</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default React.memo(CreateGroupDialog)\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  Box,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Typography,\r\n  IconButton,\r\n} from '@mui/material'\r\nimport DeleteIcon from '@mui/icons-material/Delete'\r\nimport Create from '@mui/icons-material/Create'\r\nimport moment from 'moment'\r\nimport { getGroups, deleteGroup } from '../../store/actions/group'\r\n\r\nconst GroupTable = (props) => {\r\n  // const [groups, setGroups] = useState([])\r\n\r\n  const userData = sessionStorage.getItem('userData')\r\n    ? JSON.parse(sessionStorage.getItem('userData'))\r\n    : null\r\n\r\n  const adminData = sessionStorage.getItem('adminData')\r\n    ? JSON.parse(sessionStorage.getItem('adminData'))\r\n    : null\r\n\r\n  const dispatch = useDispatch()\r\n  const groups = useSelector((state) => state.groups)\r\n  const { groupList } = groups\r\n\r\n  useEffect(async () => {\r\n    if (userData !== null && adminData === null) {\r\n      dispatch(getGroups(userData.uid))\r\n    }\r\n\r\n    // if (adminData !== null && userData !== null) {\r\n    //   const { data } = await axios.get(\r\n    //     `${API_SERVICE}/get/admin/${adminData.email}`,\r\n    //   )\r\n\r\n    // }\r\n  }, [dispatch, userData])\r\n\r\n  const removeGroup = (row) => {\r\n    dispatch(deleteGroup(row._id))\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <TableContainer component={Paper}>\r\n        <Table aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell sx={{ fontWeight: 600 }}>Group Name</TableCell>\r\n              <TableCell sx={{ fontWeight: 600 }} align=\"center\">\r\n                Admins\r\n              </TableCell>\r\n              <TableCell sx={{ fontWeight: 600 }} align=\"center\">\r\n                Schedule\r\n              </TableCell>\r\n              <TableCell sx={{ fontWeight: 600 }} align=\"center\">\r\n                Hotspot/s Added\r\n              </TableCell>\r\n              <TableCell sx={{ fontWeight: 600 }} align=\"center\">\r\n                Created At\r\n              </TableCell>\r\n              <TableCell sx={{ fontWeight: 600 }} align=\"center\">\r\n                Modified At\r\n              </TableCell>\r\n              <TableCell sx={{ fontWeight: 600 }} align=\"center\">\r\n                Action\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {groupList.map((row) => (\r\n              <TableRow\r\n                key={row._id}\r\n                sx={{\r\n                  '&:last-child td, &:last-child th': { border: 0 },\r\n                }}\r\n              >\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {row.groupName}\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  {row.admins.length === 0 && <>---</>}\r\n                  {row.admins.map((x, i) => (\r\n                    <React.Fragment key={i}>\r\n                      {`${x.fullName}\r\n                        ${i !== row.admins.length - 1 ? ', ' : ''}`}\r\n                    </React.Fragment>\r\n                  ))}\r\n                </TableCell>\r\n\r\n                {Object.entries(row.schedule).length !== 0 ? (\r\n                  <TableCell align=\"center\">\r\n                    {`${row.schedule.startDay} to ${row.schedule.endDay} , ${row.schedule.time.startTime} to ${row.schedule.time.endTime}`}\r\n                  </TableCell>\r\n                ) : (\r\n                  <TableCell align=\"center\">---</TableCell>\r\n                )}\r\n\r\n                <TableCell align=\"center\">\r\n                  {row.hotspots.length === 0 && <>---</>}\r\n                  {row.hotspots.map((x, i) => (\r\n                    <React.Fragment key={i}>\r\n                      {`${x.hotspotName}\r\n                        ${i !== row.hotspots.length - 1 ? ' , ' : ''}`}\r\n                    </React.Fragment>\r\n                  ))}\r\n                </TableCell>\r\n\r\n                <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n                  {moment(row.createdAt).format('DD MMMM YYYY')}\r\n                </TableCell>\r\n\r\n                <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n                  {moment(row.updatedAt).format('DD MMMM YYYY')}\r\n                </TableCell>\r\n\r\n                <TableCell align=\"center\" sx={{ p: 0 }}>\r\n                  <IconButton\r\n                    color=\"success\"\r\n                    onClick={() => {\r\n                      props.setSelectedGroup(row)\r\n                      props.setEditOpen(true)\r\n                    }}\r\n                  >\r\n                    <Create />\r\n                  </IconButton>\r\n                  <IconButton color=\"error\" onClick={() => removeGroup(row)}>\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default React.memo(GroupTable)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  TextField,\r\n  Checkbox,\r\n  ListItemText,\r\n  MenuItem,\r\n} from '@mui/material'\r\nimport ScheduleForm from './ScheduleForm'\r\nimport { updateGroup } from '../../store/actions/group'\r\n\r\nconst ITEM_HEIGHT = 48\r\nconst ITEM_PADDING_TOP = 8\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n}\r\n\r\nconst EditGroupDialog = (props) => {\r\n  const [groupName, setGroupName] = useState('')\r\n  // const [adminList, setAdminList] = useState([])\r\n  const [selectedAdmins, setSelectedAdmins] = useState([])\r\n  // const [admins, setAdmins] = useState([])\r\n\r\n  const [startDay, setStartDay] = useState('Sunday')\r\n  const [endDay, setEndDay] = useState('Saturday')\r\n  const [time, setTime] = useState(['10:00', '11:00'])\r\n\r\n  const admins = useSelector((state) => state.admins)\r\n  const { adminList } = admins\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(props.selectedGroup).length !== 0) {\r\n      setGroupName(props.selectedGroup.groupName)\r\n      setStartDay(props.selectedGroup.schedule.startDay)\r\n      setEndDay(props.selectedGroup.schedule.endDay)\r\n      setTime([\r\n        props.selectedGroup.schedule.time.startTime,\r\n        props.selectedGroup.schedule.time.endTime,\r\n      ])\r\n\r\n      const arr = props.selectedGroup.admins.map((x) => x._id)\r\n      setSelectedAdmins(arr)\r\n    }\r\n  }, [props.selectedGroup])\r\n\r\n  const handleChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event\r\n    setSelectedAdmins(typeof value === 'string' ? value.split(',') : value)\r\n  }\r\n\r\n  const updateDetails = () => {\r\n    if (groupName.length < 3) {\r\n      props.setError('Group Name length must be atleast 3')\r\n      props.setSnackOpen(true)\r\n      return\r\n    } else if (admins.length === 0) {\r\n      props.setError('Select atleast one admin')\r\n      props.setSnackOpen(true)\r\n      return\r\n    }\r\n\r\n    const body = {\r\n      _id: props.selectedGroup._id,\r\n      groupName,\r\n      admins: selectedAdmins,\r\n      schedule: {\r\n        startDay,\r\n        endDay,\r\n        time: {\r\n          startTime: time[0],\r\n          endTime: time[1],\r\n        },\r\n      },\r\n    }\r\n\r\n    dispatch(updateGroup(body))\r\n    props.setOpen(false)\r\n    setGroupName('')\r\n    setSelectedAdmins([])\r\n    setStartDay('Sunday')\r\n    setEndDay('Sunday')\r\n    setTime(['10:00', '11:00'])\r\n  }\r\n\r\n  return (\r\n    <Dialog open={props.open} onClose={() => props.setOpen(false)}>\r\n      <DialogTitle sx={{ fontSize: 22 }}>Edit Group Details</DialogTitle>\r\n      <DialogContent sx={{ width: 500 }}>\r\n        <TextField\r\n          autoFocus\r\n          margin=\"normal\"\r\n          id=\"groupName\"\r\n          label=\"Group Name\"\r\n          type=\"text\"\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          value={groupName}\r\n          onChange={(e) => setGroupName(e.target.value)}\r\n        />\r\n\r\n        <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\r\n          <InputLabel id=\"admin\">Select Admin</InputLabel>\r\n          <Select\r\n            labelId=\"admin\"\r\n            label=\"Select Admin\"\r\n            value={selectedAdmins}\r\n            onChange={handleChange}\r\n            multiple\r\n            renderValue={(selected) => selected.join(', ')}\r\n            MenuProps={MenuProps}\r\n          >\r\n            {adminList.map((item) => (\r\n              <MenuItem key={item._id} value={item._id}>\r\n                <Checkbox checked={selectedAdmins.indexOf(item._id) > -1} />\r\n                <ListItemText primary={item.fullName} />\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <ScheduleForm\r\n          startDay={startDay}\r\n          endDay={endDay}\r\n          setStartDay={setStartDay}\r\n          setEndDay={setEndDay}\r\n          time={time}\r\n          setTime={setTime}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => props.setOpen(false)}>Cancel</Button>\r\n        <Button onClick={() => updateDetails()}>Update</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default React.memo(EditGroupDialog)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router'\r\nimport { Alert, Box, Button, Snackbar, Stack } from '@mui/material'\r\nimport CreateGroupDialog from '../components/groups/CreateGroupDialog'\r\nimport GroupTable from '../components/groups/GroupTable'\r\nimport EditGroupDialog from '../components/groups/EditGroupDialog'\r\nimport { useSubscription } from '../hooks/useSubscription'\r\nimport { getSubscriptionDetails } from '../utils/getSubscriptionDetails'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst ManageGroups = () => {\r\n    const [createOpen, setCreateOpen] = useState(false)\r\n    const [editOpen, setEditOpen] = useState(false)\r\n    const [selectedGroup, setSelectedGroup] = useState({})\r\n    const [snackOpen, setSnackOpen] = useState(false)\r\n    const [successMsg, setSuccessMsg] = useState(null)\r\n    const [errorMsg, setErrorMsg] = useState(null)\r\n\r\n    // subscription state\r\n    const [subscription, setSubscription] = useState(null)\r\n\r\n    const userData = sessionStorage.getItem('userData')\r\n        ? JSON.parse(sessionStorage.getItem('userData'))\r\n        : null\r\n\r\n    const groups = useSelector((state) => state.groups)\r\n    const { groupList, success, error } = groups\r\n\r\n    const navigate = useNavigate()\r\n    const { state } = useSubscription()\r\n\r\n    useEffect(() => {\r\n        const authToken = sessionStorage.getItem('authToken')\r\n\r\n        if (!authToken) {\r\n            navigate('/login')\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchSubDetail = async () => {\r\n            const details = await getSubscriptionDetails(state)\r\n            setSubscription(details)\r\n        }\r\n\r\n        fetchSubDetail()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (success) {\r\n            setSuccessMsg(success)\r\n            setSnackOpen(true)\r\n        }\r\n        if (error !== undefined) {\r\n            setErrorMsg(error)\r\n            setSnackOpen(true)\r\n        }\r\n    }, [success, error])\r\n\r\n    const handleSnackClose = (_, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return\r\n        }\r\n\r\n        setSnackOpen(false)\r\n        setErrorMsg(null)\r\n        setSuccessMsg(null)\r\n    }\r\n\r\n    return (\r\n        <Box sx={{ p: 4 }}>\r\n            <h2>Manage Groups</h2>\r\n\r\n            <Stack\r\n                direction='row'\r\n                justifyContent='flex-end'\r\n                rowGap={2}\r\n                columnGap={2}\r\n            >\r\n                <Button\r\n                    variant='contained'\r\n                    sx={{ py: 1.2 }}\r\n                    onClick={() => setCreateOpen(true)}\r\n                >\r\n                    Create New Group\r\n                </Button>\r\n            </Stack>\r\n\r\n            <Box sx={{ my: 5 }}>\r\n                <GroupTable\r\n                    success={setSuccessMsg}\r\n                    error={setErrorMsg}\r\n                    open={setSnackOpen}\r\n                    setSelectedGroup={setSelectedGroup}\r\n                    setEditOpen={setEditOpen}\r\n                />\r\n            </Box>\r\n\r\n            <Box>\r\n                <CreateGroupDialog\r\n                    open={createOpen}\r\n                    setOpen={setCreateOpen}\r\n                    createdBy={{\r\n                        id: userData?.uid,\r\n                        fullName: `${userData?.firstName} ${userData?.lastName}`,\r\n                    }}\r\n                    subscription={subscription}\r\n                    setError={setErrorMsg}\r\n                    setSnackOpen={setSnackOpen}\r\n                    setSuccess={setSuccessMsg}\r\n                    groupList={groupList}\r\n                />\r\n            </Box>\r\n\r\n            <Box>\r\n                <EditGroupDialog\r\n                    open={editOpen}\r\n                    setOpen={setEditOpen}\r\n                    selectedGroup={selectedGroup}\r\n                    setError={setErrorMsg}\r\n                    setSnackOpen={setSnackOpen}\r\n                    setSuccess={setSuccessMsg}\r\n                    createdBy={{\r\n                        id: userData?.uid,\r\n                        fullName: `${userData?.firstName} ${userData?.lastName}`,\r\n                    }}\r\n                />\r\n            </Box>\r\n\r\n            {success !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='success'\r\n                        sx={{ width: '100%' }}\r\n                        variant='filled'\r\n                    >\r\n                        {successMsg}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n            {error !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='error'\r\n                        sx={{ width: '100%' }}\r\n                        variant='filled'\r\n                    >\r\n                        {errorMsg}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default ManageGroups\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n} from '@mui/material'\r\nimport { Delete, Create } from '@mui/icons-material'\r\nimport { arrayRemove, deleteDoc, doc, updateDoc } from 'firebase/firestore'\r\nimport { db } from '../../Firebase/index'\r\nimport moment from 'moment'\r\nimport { deleteAdmin } from '../../store/actions/admin'\r\n\r\nconst AdminTable = (props) => {\r\n  const admins = useSelector((state) => state.admins)\r\n  const { adminList } = admins\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const removeAdmin = (admin) => {\r\n    dispatch(deleteAdmin(admin._id))\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <TableContainer component={Paper} sx={{ boxShadow: 6 }}>\r\n        <Table sx={{ minWidth: 650 }}>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell className=\"table-head\">Admin Name</TableCell>\r\n              <TableCell className=\"table-head\" align=\"center\">\r\n                Admin Id\r\n              </TableCell>\r\n              <TableCell className=\"table-head\" align=\"center\">\r\n                Email\r\n              </TableCell>\r\n              <TableCell className=\"table-head\" align=\"center\">\r\n                Groups\r\n              </TableCell>\r\n              <TableCell sx={{ fontWeight: 600 }} align=\"center\">\r\n                Created At\r\n              </TableCell>\r\n              <TableCell sx={{ fontWeight: 600 }} align=\"center\">\r\n                Modified At\r\n              </TableCell>\r\n              <TableCell className=\"table-head\" align=\"center\">\r\n                Action\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {adminList.map((row) => (\r\n              <TableRow\r\n                key={row._id}\r\n                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n              >\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {row.fullName}\r\n                </TableCell>\r\n                <TableCell align=\"center\">{row._id}</TableCell>\r\n                <TableCell align=\"center\">{row.email}</TableCell>\r\n                <TableCell align=\"center\">\r\n                  {row.groups.length === 0 && <>---</>}\r\n                  {row.groups.map((x, i) => (\r\n                    <React.Fragment key={i}>{`${x.groupName} ${\r\n                      i !== row.groups.length - 1 ? ', ' : ''\r\n                    }`}</React.Fragment>\r\n                  ))}\r\n                </TableCell>\r\n\r\n                <TableCell align=\"center\">\r\n                  {moment(row.createdAt).format('DD MMM YYYY')}\r\n                </TableCell>\r\n\r\n                <TableCell align=\"center\">\r\n                  {moment(row.updatedAt).format('DD MMMM YYYY')}\r\n                </TableCell>\r\n\r\n                <TableCell align=\"center\" sx={{ p: 0 }}>\r\n                  <IconButton\r\n                    color=\"success\"\r\n                    onClick={() => {\r\n                      props.setSelectedAdmin(row)\r\n                      props.setShowEditDialog(true)\r\n                    }}\r\n                  >\r\n                    <Create />\r\n                  </IconButton>\r\n                  <IconButton color=\"error\" onClick={() => removeAdmin(row)}>\r\n                    <Delete />\r\n                  </IconButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default React.memo(AdminTable)\r\n","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport {\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  TextField,\r\n} from '@mui/material'\r\nimport { addDoc, collection, doc, setDoc, Timestamp } from 'firebase/firestore'\r\nimport { auth, db } from '../../Firebase'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth'\r\nimport { createAdmin, sendEmail } from '../../store/actions/admin'\r\n\r\nconst CreateAdminDialog = (props) => {\r\n  const [fullName, setFullName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const isValidEmail = (enteredEmail) => {\r\n    const emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\r\n    return emailRegex.test(enteredEmail)\r\n  }\r\n\r\n  function verifyData() {\r\n    if (props.subscription === null) {\r\n      props.error('You do not have any subscription. Please choose a plan')\r\n      props.setSnackOpen(true)\r\n      return false\r\n    } else if (props.adminList.length === props.subscription.adminCount) {\r\n      props.error(\r\n        'You have used your admin quota. Please upgrade your subscription',\r\n      )\r\n      props.setSnackOpen(true)\r\n      return false\r\n    } else if (fullName === '') {\r\n      props.error('Full Name cannot be empty')\r\n      props.setSnackOpen(true)\r\n      return false\r\n    } else if (email === '' || !isValidEmail(email)) {\r\n      props.error('Invalid Email')\r\n      props.setSnackOpen(true)\r\n      return false\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  const saveAdmin = async () => {\r\n    if (verifyData()) {\r\n      const password = '#123321#'\r\n\r\n      await createUserWithEmailAndPassword(auth, email, password)\r\n        .then(async function (user) {\r\n          const body = {\r\n            fullName,\r\n            email,\r\n            groups: [],\r\n            createdBy: props.createdBy,\r\n            passwordChanged: false,\r\n          }\r\n          dispatch(createAdmin(body))\r\n\r\n          const emailData = {\r\n            to: email,\r\n            subject: 'GPS Tracker login credentials for admin',\r\n            body: `Your login credentials are:\\nemail: ${email}\\npassword: ${password}`,\r\n          }\r\n          dispatch(sendEmail(emailData))\r\n\r\n          setFullName('')\r\n          setEmail('')\r\n          props.setOpen(false)\r\n        })\r\n        .catch((error) => {\r\n          const errorCode = error.code\r\n          const errorMessage = error.message\r\n          alert(errorCode, errorMessage)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={props.open} onClose={() => props.setOpen(false)}>\r\n      <DialogTitle sx={{ fontSize: 16 }}>Create New Admin</DialogTitle>\r\n      <DialogContent sx={{ width: 500 }}>\r\n        <TextField\r\n          fullWidth\r\n          autoFocus\r\n          margin=\"normal\"\r\n          id=\"name\"\r\n          label=\"Full Name\"\r\n          type=\"name\"\r\n          variant=\"outlined\"\r\n          value={fullName}\r\n          onChange={(e) => setFullName(e.target.value)}\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          margin=\"normal\"\r\n          id=\"email\"\r\n          label=\"Email Address\"\r\n          type=\"email\"\r\n          variant=\"outlined\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => props.setOpen(false)}>Cancel</Button>\r\n        <Button onClick={() => saveAdmin()}>Create</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default React.memo(CreateAdminDialog)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  TextField,\r\n} from '@mui/material'\r\nimport {\r\n  arrayRemove,\r\n  arrayUnion,\r\n  doc,\r\n  Timestamp,\r\n  updateDoc,\r\n} from 'firebase/firestore'\r\nimport { db } from '../../Firebase'\r\nimport { updateAdmin } from '../../store/actions/admin'\r\n\r\nconst EditAdminDialog = (props) => {\r\n  const [fullName, setFullName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    setFullName(props.selectedAdmin.fullName)\r\n    setEmail(props.selectedAdmin.email)\r\n  }, [props.selectedAdmin])\r\n\r\n  const isValidEmail = (enteredEmail) => {\r\n    const emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\r\n    return emailRegex.test(enteredEmail)\r\n  }\r\n\r\n  function verifyData() {\r\n    if (fullName === '') {\r\n      props.error('Full Name cannot be empty')\r\n      props.setSnackOpen(true)\r\n      return false\r\n    } else if (email === '' || !isValidEmail(email)) {\r\n      props.error('Invalid Email')\r\n      props.setSnackOpen(true)\r\n      return false\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  const updateData = () => {\r\n    if (verifyData()) {\r\n      const body = {\r\n        _id: props.selectedAdmin._id,\r\n        fullName,\r\n        email,\r\n      }\r\n\r\n      dispatch(updateAdmin(body))\r\n      props.success('Admin Updated')\r\n      props.setSnackOpen(true)\r\n      setFullName('')\r\n      setEmail('')\r\n      props.setOpen(false)\r\n    }\r\n  }\r\n\r\n  //   console.log(props.selectedAdmin)\r\n\r\n  // const updateAdmin = async () => {\r\n  //   if (verifyData()) {\r\n  //     const ref = doc(db, 'trackerAdmin', props.selectedAdmin.id)\r\n  //     await updateDoc(ref, {\r\n  //       fullName,\r\n  //       email,\r\n  //       modifiedAt: Timestamp.now(),\r\n  //     })\r\n  //       .then(() => {\r\n  //         props.selectedAdmin.groups.forEach(async ({ id }) => {\r\n  //           const ref = doc(db, 'trackingGroups', id)\r\n  //           await updateDoc(ref, {\r\n  //             admins: arrayRemove({\r\n  //               fullName: props.selectedAdmin.fullName,\r\n  //               id: props.selectedAdmin.id,\r\n  //             }),\r\n  //           }).catch((error) => console.log(error))\r\n  //         })\r\n\r\n  //         props.selectedAdmin.groups.forEach(async ({ id }) => {\r\n  //           const ref = doc(db, 'trackingGroups', id)\r\n  //           await updateDoc(ref, {\r\n  //             admins: arrayUnion({\r\n  //               fullName: fullName,\r\n  //               id: props.selectedAdmin.id,\r\n  //             }),\r\n  //           }).catch((error) => console.log(error))\r\n  //         })\r\n  //       })\r\n  //       .then(() => {\r\n  //         props.success('Admin Updated')\r\n  //         props.setSnackOpen(true)\r\n  //         setFullName('')\r\n  //         setEmail('')\r\n  //         props.setOpen(false)\r\n  //       })\r\n  //       .catch((err) => console.log(err.message))\r\n  //   }\r\n  // }\r\n\r\n  return (\r\n    <Dialog open={props.open} onClose={() => props.setOpen(false)}>\r\n      <DialogTitle sx={{ fontSize: 18 }}>Edit Admin Details</DialogTitle>\r\n      <DialogContent sx={{ width: 500 }}>\r\n        <TextField\r\n          fullWidth\r\n          autoFocus\r\n          margin=\"normal\"\r\n          id=\"name\"\r\n          label=\"Full Name\"\r\n          type=\"name\"\r\n          variant=\"outlined\"\r\n          value={fullName}\r\n          onChange={(e) => setFullName(e.target.value)}\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          margin=\"normal\"\r\n          id=\"email\"\r\n          label=\"Email Address\"\r\n          type=\"email\"\r\n          variant=\"outlined\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => props.setOpen(false)}>Cancel</Button>\r\n        <Button onClick={() => updateData()}>Update</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default React.memo(EditAdminDialog)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Alert, Box, Button, Snackbar, Stack } from '@mui/material'\r\nimport AdminTable from '../components/admins/AdminTable'\r\nimport CreateAdminDialog from '../components/admins/CreateAdminDialog'\r\nimport EditAdminDialog from '../components/admins/EditAdminDialog'\r\nimport { getAdmins } from '../store/actions/admin'\r\nimport { useSubscription } from '../hooks/useSubscription'\r\nimport { getSubscriptionDetails } from '../utils/getSubscriptionDetails'\r\n\r\nconst ManageAdmins = () => {\r\n    const [showCreateDialog, setShowCreateDialog] = useState(false)\r\n    const [showEditDialog, setShowEditDialog] = useState(false)\r\n    const [selectedAdmin, setSelectedAdmin] = useState({})\r\n    //const [adminList, setAdminList] = useState([])\r\n    const [snackOpen, setSnackOpen] = useState(false)\r\n    const [successMsg, setSuccess] = useState(null)\r\n    const [errorMsg, setError] = useState(null)\r\n    // subscription state\r\n    const [subscription, setSubscription] = useState(null)\r\n\r\n    const authToken = sessionStorage.getItem('authToken')\r\n    const userData = sessionStorage.getItem('userData')\r\n        ? JSON.parse(sessionStorage.getItem('userData'))\r\n        : null\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const { state } = useSubscription()\r\n\r\n    const admins = useSelector((state) => state.admins)\r\n    const { adminList, success, error } = admins\r\n\r\n    useEffect(() => {\r\n        const fetchSubDetail = async () => {\r\n            const details = await getSubscriptionDetails(state)\r\n            setSubscription(details)\r\n        }\r\n\r\n        fetchSubDetail()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!authToken) {\r\n            navigate('/login')\r\n        }\r\n    }, [authToken])\r\n\r\n    useEffect(() => {\r\n        if (userData !== null) {\r\n            dispatch(getAdmins(userData.uid))\r\n        }\r\n    }, [dispatch])\r\n\r\n    const handleCreateDialog = () => {\r\n        if (showCreateDialog) {\r\n            setShowCreateDialog(false)\r\n        } else {\r\n            setShowCreateDialog(true)\r\n        }\r\n    }\r\n\r\n    const handleSnackClose = (_, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return\r\n        }\r\n\r\n        setSnackOpen(false)\r\n        setError(null)\r\n        setSuccess(null)\r\n    }\r\n\r\n    return (\r\n        <Box sx={{ p: 4 }}>\r\n            <h2>Manage Admins</h2>\r\n\r\n            <Stack direction='row' justifyContent='flex-end'>\r\n                <Button\r\n                    variant='contained'\r\n                    sx={{ py: 1.2 }}\r\n                    onClick={handleCreateDialog}\r\n                >\r\n                    Create Admin\r\n                </Button>\r\n            </Stack>\r\n\r\n            <Box sx={{ my: 5 }}>\r\n                <AdminTable\r\n                    setSelectedAdmin={setSelectedAdmin}\r\n                    setShowEditDialog={setShowEditDialog}\r\n                />\r\n            </Box>\r\n\r\n            <Box>\r\n                <CreateAdminDialog\r\n                    open={showCreateDialog}\r\n                    setOpen={setShowCreateDialog}\r\n                    createdBy={userData?.uid}\r\n                    setSnackOpen={setSnackOpen}\r\n                    success={setSuccess}\r\n                    error={setError}\r\n                    adminList={adminList}\r\n                    subscription={subscription}\r\n                />\r\n            </Box>\r\n\r\n            <Box>\r\n                <EditAdminDialog\r\n                    open={showEditDialog}\r\n                    setOpen={setShowEditDialog}\r\n                    createdBy={userData?.uid}\r\n                    setSnackOpen={setSnackOpen}\r\n                    selectedAdmin={selectedAdmin}\r\n                    success={setSuccess}\r\n                    error={setError}\r\n                />\r\n            </Box>\r\n\r\n            {success !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='success'\r\n                        sx={{ width: '100%' }}\r\n                        variant='filled'\r\n                    >\r\n                        {successMsg}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n            {error !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='error'\r\n                        sx={{ width: '100%' }}\r\n                        variant='filled'\r\n                    >\r\n                        {errorMsg}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default ManageAdmins\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Box, Button, CircularProgress, Backdrop } from '@mui/material'\r\n\r\nimport { db } from '../../Firebase/index'\r\nimport {\r\n  getDocs,\r\n  collection,\r\n  query,\r\n  where,\r\n  orderBy,\r\n  limit,\r\n  documentId,\r\n} from 'firebase/firestore'\r\nimport ReportTable from '../../components/report/ReportTable'\r\nimport HotspotFilter from '../../components/report/HotspotFilter'\r\nimport DeviceFilter from '../../components/report/DeviceFilter'\r\nimport MonthFilter from '../../components/report/MonthFilter'\r\nimport GroupFilter from '../../components/report/GroupFilter'\r\n\r\nconst Months = [\r\n  'January',\r\n  'February',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n]\r\n\r\nconst AdminReport = () => {\r\n  const [hotspotNames, setHotspotNames] = useState([])\r\n  const [groupNames, setGroupNames] = useState([])\r\n  const [tableData, setTableData] = useState([])\r\n  const [mobileDevices, setMobileDevices] = useState([])\r\n  const [phoneNumbers, setPhoneNumbers] = useState([])\r\n\r\n  const [filter, setFilter] = useState(false)\r\n  const [selectedHotspotNames, setSelectedHotspotNames] = useState([])\r\n  const [selectedGroupNames, setSelectedGroupNames] = useState([])\r\n  const [selectedHotspots, setSelectedHotspots] = useState([])\r\n  const [selectedDevices, setSelectedDevices] = useState([])\r\n  const [selectedMonth, setSelectedMonth] = useState(\r\n    Months[new Date().getMonth()]\r\n  )\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const userData = sessionStorage.getItem('userData')\r\n    ? JSON.parse(sessionStorage.getItem('userData'))\r\n    : null\r\n\r\n  const adminData = sessionStorage.getItem('adminData')\r\n    ? JSON.parse(sessionStorage.getItem('adminData'))\r\n    : null\r\n\r\n  //Get All Hotspots\r\n  useEffect(() => {\r\n    const getHotspots = async () => {\r\n      try {\r\n        const ref = collection(db, 'trackingHotspots')\r\n        const q = query(\r\n          ref,\r\n          where('createdBy', '==', userData.uid),\r\n          where('groupId', 'array-contains-any', adminData.groupId)\r\n        )\r\n\r\n        const snaps = await getDocs(q)\r\n        const array = []\r\n        snaps.forEach((document) => {\r\n          array.push({ ...document.data(), id: document.id })\r\n        })\r\n\r\n        const newArr = array.map((item) => {\r\n          return { hotspotName: item.hotspotName, id: item.id }\r\n        })\r\n\r\n        setHotspotNames(newArr)\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n\r\n    getHotspots()\r\n  }, [])\r\n\r\n  //Get All Groups\r\n  useEffect(() => {\r\n    const getGroups = async () => {\r\n      try {\r\n        const ref = collection(db, 'trackingGroups')\r\n        const q = query(\r\n          ref,\r\n          where('createdBy', '==', userData.uid),\r\n          where(documentId(), 'in', adminData.groupId)\r\n        )\r\n\r\n        const snaps = await getDocs(q)\r\n        const array = []\r\n        snaps.forEach((document) => {\r\n          array.push({ ...document.data(), id: document.id })\r\n        })\r\n\r\n        const newArr = array.map((item) => {\r\n          return { groupName: item.groupName, id: item.id }\r\n        })\r\n\r\n        setGroupNames(newArr)\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n\r\n    getGroups()\r\n  }, [])\r\n\r\n  // Get All Users\r\n  useEffect(() => {\r\n    const getPhoneNumbers = async () => {\r\n      try {\r\n        const trackingUserRef = collection(db, 'trackingUsers')\r\n        const q = query(\r\n          trackingUserRef,\r\n          where('senderId', '==', userData.uid),\r\n          where('groupId', 'array-contains-any', adminData.groupId)\r\n        )\r\n\r\n        const snaps = await getDocs(q)\r\n        const users = []\r\n        const numbers = []\r\n        snaps.forEach((document) => {\r\n          users.push({ ...document.data(), id: document.id })\r\n          numbers.push(document.data().phoneNumber)\r\n        })\r\n        setPhoneNumbers(numbers)\r\n        setMobileDevices(users)\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n\r\n    getPhoneNumbers()\r\n  }, [])\r\n\r\n  const getFromDB = async (device, hotspot) => {\r\n    return new Promise(async (resolve) => {\r\n      const ref = collection(\r\n        db,\r\n        'trackingAttendance',\r\n        device.phoneNumber,\r\n        userData.uid\r\n      )\r\n\r\n      const q = query(ref, where('hotspotId', '==', hotspot.id))\r\n      await getDocs(q).then((res) => {\r\n        resolve({ count: res.docs.length, hotspot: hotspot.hotspotName })\r\n      })\r\n    })\r\n  }\r\n\r\n  const getHotspotsData = async (device, hotspots) => {\r\n    return new Promise(async (resolve) => {\r\n      const arr = []\r\n      for (let hotspot of hotspots) {\r\n        const data = await getFromDB(device, hotspot)\r\n        arr.push(data)\r\n      }\r\n      resolve(arr)\r\n    })\r\n  }\r\n\r\n  const getCollapseData = async (device, hotspots) => {\r\n    return new Promise(async (resolve) => {\r\n      const hotspotName = hotspots.map((x) => {\r\n        return x.hotspotName\r\n      })\r\n      const ref = collection(\r\n        db,\r\n        'trackingLocations',\r\n        device.phoneNumber,\r\n        'locations'\r\n      )\r\n      let q\r\n      console.log(Months.indexOf(selectedMonth), selectedMonth)\r\n      if (selectedGroupNames.length !== 0) {\r\n        q = query(\r\n          ref,\r\n          where('trackerId', '==', userData.uid),\r\n          where('group', 'in', selectedGroupNames),\r\n          where('month', '==', Months.indexOf(selectedMonth) + 1),\r\n          orderBy('createdAt', 'desc'),\r\n          limit(100)\r\n        )\r\n      } else {\r\n        q = query(\r\n          ref,\r\n          where('trackerId', '==', userData.uid),\r\n          where('hotspot', 'in', hotspotName),\r\n          where('month', '==', Months.indexOf(selectedMonth) + 1),\r\n          orderBy('createdAt', 'desc'),\r\n          limit(100)\r\n        )\r\n      }\r\n\r\n      const snaps = await getDocs(q)\r\n      const arr = []\r\n      snaps.forEach((snap) => {\r\n        const data = snap.data()\r\n        arr.push(data)\r\n      })\r\n      console.log(arr)\r\n      resolve(arr)\r\n    })\r\n  }\r\n\r\n  const getDocuments = async (devices, hotspots) => {\r\n    const dataArr = []\r\n\r\n    for (let device of devices) {\r\n      const finalData = {}\r\n      const history = await getCollapseData(device, hotspots)\r\n      const data = await getHotspotsData(device, hotspots)\r\n      finalData['history'] = history\r\n      finalData['data'] = data\r\n      finalData['device'] = {\r\n        phoneNumber: device.phoneNumber,\r\n        fullName: device.fullName,\r\n      }\r\n      dataArr.push(finalData)\r\n    }\r\n\r\n    setTableData(dataArr)\r\n    setLoading(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (phoneNumbers.length !== 0 && mobileDevices.length !== 0) {\r\n      setLoading(true)\r\n      if (!filter) {\r\n        getDocuments(mobileDevices, hotspotNames)\r\n      }\r\n    }\r\n  }, [phoneNumbers, mobileDevices, filter])\r\n\r\n  // handling hotspot selection\r\n  const handleHotspotSelect = async (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event\r\n    setSelectedHotspotNames(\r\n      typeof value === 'string' ? value.split(',') : value\r\n    )\r\n  }\r\n\r\n  // handling group selection\r\n  const handleGroupSelect = async (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event\r\n    setSelectedGroupNames(typeof value === 'string' ? value.split(',') : value)\r\n  }\r\n\r\n  // handling device selection\r\n  const handleSelectedDevice = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event\r\n    setSelectedDevices(typeof value === 'string' ? value.split(',') : value)\r\n  }\r\n\r\n  // applying filter\r\n  useEffect(async () => {\r\n    setLoading(true)\r\n    let hotspots = []\r\n    if (selectedHotspotNames.length !== 0) {\r\n      selectedHotspotNames.forEach((x) => {\r\n        const temp = hotspotNames\r\n        const filterArr = temp.filter((item) => item.hotspotName === x)\r\n        hotspots.push(...filterArr)\r\n      })\r\n      setFilter(true)\r\n    } else {\r\n      hotspots = hotspotNames\r\n      setFilter(false)\r\n    }\r\n\r\n    setSelectedHotspots(hotspots)\r\n    let devices = []\r\n    if (selectedDevices.length !== 0) {\r\n      mobileDevices.forEach((d) => {\r\n        selectedDevices.forEach((x, i) => {\r\n          const number = x.split(' - ')[1]\r\n          if (d.phoneNumber === number) {\r\n            devices.push(d)\r\n          }\r\n        })\r\n      })\r\n      setFilter(true)\r\n    } else {\r\n      devices = mobileDevices\r\n      setFilter(false)\r\n    }\r\n\r\n    if (selectedGroupNames.length === 0) {\r\n      setFilter(false)\r\n    }\r\n\r\n    await getDocuments(devices, hotspots)\r\n  }, [selectedDevices, selectedHotspotNames, selectedGroupNames, selectedMonth])\r\n\r\n  return (\r\n    <Box sx={{ p: 5 }}>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          justifyContent: 'flex-end',\r\n          gap: 2,\r\n          mt: 4,\r\n        }}\r\n      >\r\n        <MonthFilter\r\n          Months={Months}\r\n          selectedMonth={selectedMonth}\r\n          setSelectedMonth={setSelectedMonth}\r\n        />\r\n\r\n        <HotspotFilter\r\n          handleHotspotSelect={handleHotspotSelect}\r\n          selectedHotspotNames={selectedHotspotNames}\r\n          hotspotNames={hotspotNames}\r\n        />\r\n\r\n        <GroupFilter\r\n          handleGroupSelect={handleGroupSelect}\r\n          selectedGroupNames={selectedGroupNames}\r\n          groupNames={groupNames}\r\n        />\r\n\r\n        <DeviceFilter\r\n          handleSelectedDevice={handleSelectedDevice}\r\n          selectedDevices={selectedDevices}\r\n          mobileDevices={mobileDevices}\r\n        />\r\n\r\n        <Button variant='outlined' sx={{ py: 1.3, px: 4, fontSize: 15 }}>\r\n          Export Report\r\n        </Button>\r\n      </Box>\r\n\r\n      <Box sx={{ my: 4 }}>\r\n        {!loading ? (\r\n          <ReportTable\r\n            tableData={tableData}\r\n            hotspotNames={\r\n              selectedHotspotNames.length === 0\r\n                ? hotspotNames\r\n                : selectedHotspots\r\n            }\r\n          />\r\n        ) : (\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              mt: '300px',\r\n            }}\r\n          >\r\n            <CircularProgress color='inherit' />\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default AdminReport\r\n","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useNavigate, Link as RouterLink } from 'react-router-dom'\r\nimport Avatar from '@mui/material/Avatar'\r\nimport Button from '@mui/material/Button'\r\nimport CssBaseline from '@mui/material/CssBaseline'\r\nimport TextField from '@mui/material/TextField'\r\nimport Paper from '@mui/material/Paper'\r\nimport Grid from '@mui/material/Grid'\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined'\r\nimport Typography from '@mui/material/Typography'\r\nimport { CircularProgress } from '@mui/material'\r\nimport { makeStyles } from '@mui/styles'\r\nimport { auth, db } from '../../Firebase'\r\nimport {\r\n    EmailAuthProvider,\r\n    reauthenticateWithCredential,\r\n    signInWithEmailAndPassword,\r\n    updatePassword,\r\n} from 'firebase/auth'\r\nimport { doc, getDoc, updateDoc } from 'firebase/firestore'\r\nimport { updateAdmin } from '../../store/actions/admin'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    image: {\r\n        backgroundImage: 'url(https://source.unsplash.com/random)',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n            theme.palette.type === 'light'\r\n                ? theme.palette.grey[50]\r\n                : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    login: {\r\n        margin: theme.spacing(3, 0, 2),\r\n        padding: theme.spacing(1.4),\r\n        fontSize: 15,\r\n    },\r\n    googleLogin: {\r\n        margin: theme.spacing(2, 0, 2),\r\n        fontSize: 15,\r\n    },\r\n}))\r\n\r\nconst ChangePassword = () => {\r\n    const classes = useStyles()\r\n    const navigate = useNavigate()\r\n\r\n    const [currentPassword, setCurrentPassword] = useState('')\r\n    const [newPassword, setNewPassword] = useState('')\r\n\r\n    const adminData = sessionStorage.getItem('adminData')\r\n        ? JSON.parse(sessionStorage.getItem('adminData'))\r\n        : null\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const submitHandler = async () => {\r\n        if (adminData === null) {\r\n            return\r\n        }\r\n\r\n        if (newPassword.length < 6) {\r\n            alert('Password must be atleast 6 characters long.')\r\n            return\r\n        }\r\n\r\n        const user = auth.currentUser\r\n        const credential = EmailAuthProvider.credential(\r\n            adminData.email,\r\n            currentPassword\r\n        )\r\n\r\n        reauthenticateWithCredential(user, credential)\r\n            .then(() => {\r\n                updatePassword(user, newPassword)\r\n                    .then(async () => {\r\n                        const body = {\r\n                            _id: adminData._id,\r\n                            passwordChanged: true,\r\n                        }\r\n                        dispatch(updateAdmin(body))\r\n                    })\r\n                    .then(() => {\r\n                        setNewPassword('')\r\n                        setCurrentPassword('')\r\n                        alert('Password updated successfully')\r\n\r\n                        navigate('/app/dashboard', { replace: true })\r\n                    })\r\n                    .catch((err) => {\r\n                        const errorCode = err.code\r\n                        const errorMessage = err.message\r\n                        alert(errorCode, errorMessage)\r\n                    })\r\n            })\r\n            .catch((err) => {\r\n                const errorCode = err.code\r\n                const errorMessage = err.message\r\n                alert(errorCode, errorMessage)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Grid\r\n            sx={{ height: '100%' }}\r\n            container\r\n            component='main'\r\n            className={classes.root}\r\n        >\r\n            <CssBaseline />\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n            <Grid\r\n                item\r\n                xs={12}\r\n                sm={8}\r\n                md={5}\r\n                component={Paper}\r\n                elevation={6}\r\n                square\r\n            >\r\n                <div className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography\r\n                        component='h1'\r\n                        variant='h1'\r\n                        sx={{ mt: 1, mb: 4 }}\r\n                    >\r\n                        Change Password\r\n                    </Typography>\r\n                    <form className={classes.form} noValidate>\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            fullWidth\r\n                            id='password'\r\n                            label='Current Password'\r\n                            name='password'\r\n                            autoComplete='name'\r\n                            type='password'\r\n                            value={currentPassword}\r\n                            onChange={(e) => setCurrentPassword(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            fullWidth\r\n                            id='password'\r\n                            label='New Password'\r\n                            name='password'\r\n                            type='password'\r\n                            autoComplete='name'\r\n                            value={newPassword}\r\n                            onChange={(e) => setNewPassword(e.target.value)}\r\n                        />\r\n                        <Button\r\n                            fullWidth\r\n                            variant='contained'\r\n                            color='primary'\r\n                            className={classes.login}\r\n                            onClick={() => submitHandler()}\r\n                        >\r\n                            Change Password\r\n                        </Button>\r\n                    </form>\r\n                </div>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default ChangePassword\r\n","import React from 'react'\r\nimport {\r\n    Button,\r\n    Card,\r\n    Chip,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Slider,\r\n    Stack,\r\n    Typography,\r\n    Box,\r\n} from '@mui/material'\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle'\r\n\r\nconst ProCard = (props) => {\r\n    const benefits = [\r\n        'Unlimited Hotspots',\r\n        'Unlimited Devices',\r\n        'Unlimited Groups',\r\n        'Unlimited Admins',\r\n        'Get Report of Unlimited Period',\r\n    ]\r\n    return (\r\n        <Card\r\n            className='pricing-card pro'\r\n            sx={{\r\n                boxShadow: 15,\r\n                py: 5,\r\n                px: 4,\r\n            }}\r\n        >\r\n            <Box>\r\n                <Stack\r\n                    spacing={2}\r\n                    direction='row'\r\n                    sx={{ mb: 1 }}\r\n                    alignItems='center'\r\n                    justifyContent='space-between'\r\n                >\r\n                    {/* <FavoriteBorderOutlinedIcon\r\n                                sx={{\r\n                                    fontSize: 50,\r\n                                }}\r\n                                htmlColor='#e91e63'\r\n                            /> */}\r\n\r\n                    <Typography\r\n                        variant='h1'\r\n                        sx={{ my: 2, fontSize: 40, color: 'white' }}\r\n                    >\r\n                        {`$${props.value}`}\r\n                    </Typography>\r\n                    {props.isCurrent && (\r\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                            <div\r\n                                style={{\r\n                                    width: '15px',\r\n                                    height: '15px',\r\n                                    backgroundColor: '#4CAF50',\r\n                                    borderRadius: '50%',\r\n                                }}\r\n                            ></div>\r\n                            <Typography\r\n                                variant='h4'\r\n                                sx={{ my: 2, color: '#4CAF50', ml: 1 }}\r\n                            >\r\n                                Active\r\n                            </Typography>\r\n                        </Box>\r\n                    )}\r\n                </Stack>\r\n                <Chip\r\n                    label='Pro Account'\r\n                    variant='outlined'\r\n                    className='chip'\r\n                    sx={{\r\n                        my: 2,\r\n                        color: '#fb8c00',\r\n                        border: '1.5px solid #fb8c00',\r\n                        width: '100%',\r\n                    }}\r\n                />\r\n\r\n                <Stack direction='row' justifyContent='space-between'>\r\n                    <Typography\r\n                        variant='h1'\r\n                        sx={{ my: 2, fontSize: 40, color: 'white' }}\r\n                    >\r\n                        $1{' '}\r\n                        <span\r\n                            style={{\r\n                                color: 'gray',\r\n                                fontSize: 15,\r\n                                textTransform: 'uppercase',\r\n                            }}\r\n                        >\r\n                            / user\r\n                        </span>\r\n                    </Typography>\r\n\r\n                    <Typography\r\n                        variant='h1'\r\n                        sx={{ my: 2, fontSize: 40, color: 'white' }}\r\n                    >\r\n                        {`${props.value}`}\r\n                    </Typography>\r\n                </Stack>\r\n\r\n                <Stack\r\n                    spacing={2}\r\n                    direction='row'\r\n                    sx={{ mb: 1 }}\r\n                    alignItems='center'\r\n                >\r\n                    <Typography variant='h5' color='white'>\r\n                        0\r\n                    </Typography>\r\n                    <Slider\r\n                        sx={{ color: 'whitesmoke' }}\r\n                        value={props.value}\r\n                        onChange={props.handleValueChange}\r\n                        max={1000}\r\n                    />\r\n                    <Typography variant='h5' color='white'>\r\n                        1000\r\n                    </Typography>\r\n                </Stack>\r\n\r\n                <List sx={{ my: 3 }}>\r\n                    {benefits.map((x) => (\r\n                        <ListItem disablePadding key={x}>\r\n                            <ListItemIcon>\r\n                                <CheckCircleIcon\r\n                                    htmlColor='#4CAF50'\r\n                                    sx={{ fontSize: 27, my: 0.5, ml: 0.5 }}\r\n                                />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={x} sx={{ color: 'white' }} />\r\n                        </ListItem>\r\n                    ))}\r\n                </List>\r\n            </Box>\r\n\r\n            <Button\r\n                className='pro-btn btn'\r\n                variant='contained'\r\n                //</Card>disabled={props.isCurrent}\r\n                sx={{\r\n                    py: 1.4,\r\n                    borderRadius: 25,\r\n                    boxShadow: 5,\r\n                }}\r\n                onClick={props.action}\r\n            >\r\n                Pay as you go\r\n            </Button>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default ProCard\r\n","import React from 'react'\r\nimport {\r\n    Button,\r\n    Card,\r\n    Chip,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Slider,\r\n    Stack,\r\n    Typography,\r\n    Box,\r\n} from '@mui/material'\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle'\r\nimport CancelIcon from '@mui/icons-material/Cancel'\r\nimport FavoriteBorderOutlinedIcon from '@mui/icons-material/FavoriteBorderOutlined'\r\n\r\nconst FreeCard = (props) => {\r\n    const benefits = [\r\n        'Only 10 Hotspots',\r\n        'Unlimited Devices',\r\n        'Only 2 Groups',\r\n        'No Admins',\r\n        'Get Report of last 1 month',\r\n    ]\r\n    return (\r\n        <Card\r\n            className='pricing-card'\r\n            sx={{\r\n                py: 5,\r\n                px: 4,\r\n            }}\r\n        >\r\n            <Box>\r\n                <Stack\r\n                    spacing={2}\r\n                    direction='row'\r\n                    sx={{ mb: 1 }}\r\n                    alignItems='center'\r\n                    justifyContent='space-between'\r\n                >\r\n                    <Typography variant='h1' sx={{ my: 2, fontSize: 40 }}>\r\n                        $0\r\n                    </Typography>\r\n                    {props.isCurrent && (\r\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                            <div\r\n                                style={{\r\n                                    width: '15px',\r\n                                    height: '15px',\r\n                                    backgroundColor: 'green',\r\n                                    borderRadius: '50%',\r\n                                }}\r\n                            ></div>\r\n                            <Typography\r\n                                variant='h4'\r\n                                sx={{ my: 2, color: '#4CAF50', ml: 1 }}\r\n                            >\r\n                                Active\r\n                            </Typography>\r\n                        </Box>\r\n                    )}\r\n                </Stack>\r\n                <Chip\r\n                    label='Free Account'\r\n                    variant='outlined'\r\n                    className='chip'\r\n                    sx={{\r\n                        my: 2,\r\n                        color: '#e91e63',\r\n                        border: '1.5px solid #e91e63',\r\n                        width: '100%',\r\n                    }}\r\n                />\r\n                <Typography variant='h1' sx={{ my: 2, fontSize: 40 }}>\r\n                    $0{' '}\r\n                    <span\r\n                        style={{\r\n                            color: 'gray',\r\n                            fontSize: 15,\r\n                            textTransform: 'uppercase',\r\n                        }}\r\n                    >\r\n                        / user\r\n                    </span>\r\n                </Typography>\r\n\r\n                <List sx={{ my: 3, mt: 8 }}>\r\n                    {benefits.map((x, i) => (\r\n                        <ListItem key={i} disablePadding>\r\n                            <ListItemIcon>\r\n                                {i === 1 ? (\r\n                                    <CheckCircleIcon\r\n                                        htmlColor='#4CAF50'\r\n                                        sx={{ fontSize: 27, my: 0.5, ml: 0.5 }}\r\n                                    />\r\n                                ) : (\r\n                                    <CancelIcon\r\n                                        htmlColor='#e91e63'\r\n                                        sx={{ fontSize: 27, my: 0.5, ml: 0.5 }}\r\n                                    />\r\n                                )}\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={x} />\r\n                        </ListItem>\r\n                    ))}\r\n                </List>\r\n            </Box>\r\n\r\n            <Button\r\n                className='free-btn btn'\r\n                variant='outlined'\r\n                disabled={props.isCurrent}\r\n                sx={{\r\n                    py: 1.4,\r\n                    borderRadius: 25,\r\n                    boxShadow: 5,\r\n                }}\r\n                onClick={props.action}\r\n            >\r\n                Pick free plan\r\n            </Button>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default FreeCard\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useLocation, useNavigate } from 'react-router'\r\nimport { Box, Typography } from '@mui/material'\r\n\r\nimport ProCard from '../components/pricing/ProCard'\r\nimport FreeCard from '../components/pricing/FreeCard'\r\nimport { useSubscription } from '../hooks/useSubscription'\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from '../URI'\r\n\r\nconst Pricing = () => {\r\n    const [quantity, setQuantity] = React.useState(500)\r\n    const [currentPlan, setCurrentPlan] = useState('')\r\n    const [prices, setPrices] = useState([])\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const { state, dispatch } = useSubscription()\r\n    const customerId = state?.customerId\r\n\r\n    useEffect(() => {\r\n        if (state.subscriptions) {\r\n            let subscription\r\n            for (let sub of state?.subscriptions?.data) {\r\n                if (sub.status === 'active') {\r\n                    subscription = sub\r\n                    break\r\n                }\r\n            }\r\n\r\n            const plan = subscription ? subscription.plan.id : ''\r\n            const subQuantity = subscription ? subscription.quantity : 0\r\n\r\n            setCurrentPlan(plan)\r\n            setQuantity(subQuantity)\r\n        }\r\n    }, [state])\r\n\r\n    useEffect(() => {\r\n        const fetchPrices = async () => {\r\n            const { data } = await axios.get(\r\n                `${API_SERVICE}/subscription/config`\r\n            )\r\n\r\n            console.log(data)\r\n            setPrices(data.prices)\r\n        }\r\n\r\n        fetchPrices()\r\n    }, [])\r\n\r\n    const handleValueChange = (_, newValue) => {\r\n        setQuantity(newValue)\r\n    }\r\n\r\n    const createSubscription = async (product, amount) => {\r\n        if (amount <= 0) {\r\n            alert('Please select atlest one user')\r\n            return\r\n        }\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            }\r\n            const body = {\r\n                customerId,\r\n                priceId: product.id,\r\n                quantity: amount,\r\n            }\r\n            const { data } = await axios.post(\r\n                `${API_SERVICE}/create/subscription`,\r\n                body,\r\n                config\r\n            )\r\n\r\n            console.log(data)\r\n            const { clientSecret } = data\r\n\r\n            if (!clientSecret) {\r\n                console.log('Cannot create Subscription')\r\n                dispatch({\r\n                    type: 'SELECT_PRODUCT',\r\n                    payload: {\r\n                        cart: { product, clientSecret },\r\n                    },\r\n                })\r\n                console.log('Here')\r\n\r\n                if (product.product.name === 'Free Plan') {\r\n                    window.location.reload()\r\n                }\r\n            } else {\r\n                dispatch({\r\n                    type: 'SELECT_PRODUCT',\r\n                    payload: {\r\n                        cart: { product, clientSecret },\r\n                    },\r\n                })\r\n\r\n                if (product.product.name === 'Free Plan') {\r\n                    window.location.reload()\r\n                }\r\n                navigate('/subscribe', { state: { quantity } })\r\n            }\r\n        } catch (error) {\r\n            console.log(error.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Box sx={{ p: 2 }}>\r\n            <Box sx={{ mt: 2, mb: 5 }}>\r\n                <Typography variant='h2' sx={{ textAlign: 'center' }}>\r\n                    Choose your plan\r\n                </Typography>\r\n                <Typography\r\n                    vanriant='h6'\r\n                    sx={{\r\n                        textAlign: 'center',\r\n                        mt: 2,\r\n                        letterSpacing: 0.6,\r\n                        color: 'gray',\r\n                    }}\r\n                >\r\n                    Select one of our plans below as per your convenience\r\n                </Typography>\r\n            </Box>\r\n            <Box\r\n                className='card-container'\r\n                sx={{\r\n                    mt: 6,\r\n                }}\r\n            >\r\n                {prices.map((price) => (\r\n                    <Box key={price.id}>\r\n                        {price.product.name === 'Pro Plan' && (\r\n                            <ProCard\r\n                                value={quantity}\r\n                                handleValueChange={handleValueChange}\r\n                                isCurrent={currentPlan === price.id}\r\n                                action={() =>\r\n                                    createSubscription(price, quantity)\r\n                                }\r\n                            />\r\n                        )}\r\n                        {price.product.name === 'Free Plan' && (\r\n                            <FreeCard\r\n                                isCurrent={currentPlan === price.id}\r\n                                action={() => createSubscription(price, 1)}\r\n                            />\r\n                        )}\r\n                    </Box>\r\n                ))}\r\n            </Box>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Pricing\r\n","import React, { useState } from 'react'\r\nimport { CardElement, PaymentElement } from '@stripe/react-stripe-js'\r\nimport Box from '@mui/material/Box'\r\nimport Card from '@mui/material/Card'\r\nimport CardActions from '@mui/material/CardActions'\r\nimport CardContent from '@mui/material/CardContent'\r\nimport Button from '@mui/material/Button'\r\nimport Typography from '@mui/material/Typography'\r\nimport { Grid, TextField } from '@mui/material'\r\nimport { useSubscription } from '../../hooks/useSubscription'\r\nimport ArrowBackIosNewOutlinedIcon from '@mui/icons-material/ArrowBackIosNewOutlined'\r\n\r\nfunction CardSection({ handleBack, handleSubmit, quantity }) {\r\n    const { state } = useSubscription()\r\n    console.log(state)\r\n\r\n    return (\r\n        <Box>\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12}>\r\n                    <h4>Enter Card Details</h4>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Box>\r\n                        <CardElement />\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n                <Box\r\n                    mt={5}\r\n                    alignItems='center'\r\n                    justifyContent='space-between'\r\n                    display='flex'\r\n                >\r\n                    <Button\r\n                        startIcon={<ArrowBackIosNewOutlinedIcon />}\r\n                        onClick={handleBack}\r\n                    >\r\n                        Go Back\r\n                    </Button>\r\n                    <Button\r\n                        type='submit'\r\n                        variant='contained'\r\n                        onClick={handleSubmit}\r\n                        sx={{ py: 1.2, fontSize: 14, px: '40px' }}\r\n                    >\r\n                        {`PAY  $${quantity}`}\r\n                    </Button>\r\n                </Box>\r\n            </Grid>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default CardSection\r\n","export const countries = [\r\n    { name: 'Afghanistan', code: 'AF' },\r\n    { name: 'land Islands', code: 'AX' },\r\n    { name: 'Albania', code: 'AL' },\r\n    { name: 'Algeria', code: 'DZ' },\r\n    { name: 'American Samoa', code: 'AS' },\r\n    { name: 'AndorrA', code: 'AD' },\r\n    { name: 'Angola', code: 'AO' },\r\n    { name: 'Anguilla', code: 'AI' },\r\n    { name: 'Antarctica', code: 'AQ' },\r\n    { name: 'Antigua and Barbuda', code: 'AG' },\r\n    { name: 'Argentina', code: 'AR' },\r\n    { name: 'Armenia', code: 'AM' },\r\n    { name: 'Aruba', code: 'AW' },\r\n    { name: 'Australia', code: 'AU' },\r\n    { name: 'Austria', code: 'AT' },\r\n    { name: 'Azerbaijan', code: 'AZ' },\r\n    { name: 'Bahamas', code: 'BS' },\r\n    { name: 'Bahrain', code: 'BH' },\r\n    { name: 'Bangladesh', code: 'BD' },\r\n    { name: 'Barbados', code: 'BB' },\r\n    { name: 'Belarus', code: 'BY' },\r\n    { name: 'Belgium', code: 'BE' },\r\n    { name: 'Belize', code: 'BZ' },\r\n    { name: 'Benin', code: 'BJ' },\r\n    { name: 'Bermuda', code: 'BM' },\r\n    { name: 'Bhutan', code: 'BT' },\r\n    { name: 'Bolivia', code: 'BO' },\r\n    { name: 'Bosnia and Herzegovina', code: 'BA' },\r\n    { name: 'Botswana', code: 'BW' },\r\n    { name: 'Bouvet Island', code: 'BV' },\r\n    { name: 'Brazil', code: 'BR' },\r\n    { name: 'British Indian Ocean Territory', code: 'IO' },\r\n    { name: 'Brunei Darussalam', code: 'BN' },\r\n    { name: 'Bulgaria', code: 'BG' },\r\n    { name: 'Burkina Faso', code: 'BF' },\r\n    { name: 'Burundi', code: 'BI' },\r\n    { name: 'Cambodia', code: 'KH' },\r\n    { name: 'Cameroon', code: 'CM' },\r\n    { name: 'Canada', code: 'CA' },\r\n    { name: 'Cape Verde', code: 'CV' },\r\n    { name: 'Cayman Islands', code: 'KY' },\r\n    { name: 'Central African Republic', code: 'CF' },\r\n    { name: 'Chad', code: 'TD' },\r\n    { name: 'Chile', code: 'CL' },\r\n    { name: 'China', code: 'CN' },\r\n    { name: 'Christmas Island', code: 'CX' },\r\n    { name: 'Cocos (Keeling) Islands', code: 'CC' },\r\n    { name: 'Colombia', code: 'CO' },\r\n    { name: 'Comoros', code: 'KM' },\r\n    { name: 'Congo', code: 'CG' },\r\n    { name: 'Congo, The Democratic Republic of the', code: 'CD' },\r\n    { name: 'Cook Islands', code: 'CK' },\r\n    { name: 'Costa Rica', code: 'CR' },\r\n    { name: \"Cote D'Ivoire\", code: 'CI' },\r\n    { name: 'Croatia', code: 'HR' },\r\n    { name: 'Cuba', code: 'CU' },\r\n    { name: 'Cyprus', code: 'CY' },\r\n    { name: 'Czech Republic', code: 'CZ' },\r\n    { name: 'Denmark', code: 'DK' },\r\n    { name: 'Djibouti', code: 'DJ' },\r\n    { name: 'Dominica', code: 'DM' },\r\n    { name: 'Dominican Republic', code: 'DO' },\r\n    { name: 'Ecuador', code: 'EC' },\r\n    { name: 'Egypt', code: 'EG' },\r\n    { name: 'El Salvador', code: 'SV' },\r\n    { name: 'Equatorial Guinea', code: 'GQ' },\r\n    { name: 'Eritrea', code: 'ER' },\r\n    { name: 'Estonia', code: 'EE' },\r\n    { name: 'Ethiopia', code: 'ET' },\r\n    { name: 'Falkland Islands (Malvinas)', code: 'FK' },\r\n    { name: 'Faroe Islands', code: 'FO' },\r\n    { name: 'Fiji', code: 'FJ' },\r\n    { name: 'Finland', code: 'FI' },\r\n    { name: 'France', code: 'FR' },\r\n    { name: 'French Guiana', code: 'GF' },\r\n    { name: 'French Polynesia', code: 'PF' },\r\n    { name: 'French Southern Territories', code: 'TF' },\r\n    { name: 'Gabon', code: 'GA' },\r\n    { name: 'Gambia', code: 'GM' },\r\n    { name: 'Georgia', code: 'GE' },\r\n    { name: 'Germany', code: 'DE' },\r\n    { name: 'Ghana', code: 'GH' },\r\n    { name: 'Gibraltar', code: 'GI' },\r\n    { name: 'Greece', code: 'GR' },\r\n    { name: 'Greenland', code: 'GL' },\r\n    { name: 'Grenada', code: 'GD' },\r\n    { name: 'Guadeloupe', code: 'GP' },\r\n    { name: 'Guam', code: 'GU' },\r\n    { name: 'Guatemala', code: 'GT' },\r\n    { name: 'Guernsey', code: 'GG' },\r\n    { name: 'Guinea', code: 'GN' },\r\n    { name: 'Guinea-Bissau', code: 'GW' },\r\n    { name: 'Guyana', code: 'GY' },\r\n    { name: 'Haiti', code: 'HT' },\r\n    { name: 'Heard Island and Mcdonald Islands', code: 'HM' },\r\n    { name: 'Holy See (Vatican City State)', code: 'VA' },\r\n    { name: 'Honduras', code: 'HN' },\r\n    { name: 'Hong Kong', code: 'HK' },\r\n    { name: 'Hungary', code: 'HU' },\r\n    { name: 'Iceland', code: 'IS' },\r\n    { name: 'India', code: 'IN' },\r\n    { name: 'Indonesia', code: 'ID' },\r\n    { name: 'Iran, Islamic Republic Of', code: 'IR' },\r\n    { name: 'Iraq', code: 'IQ' },\r\n    { name: 'Ireland', code: 'IE' },\r\n    { name: 'Isle of Man', code: 'IM' },\r\n    { name: 'Israel', code: 'IL' },\r\n    { name: 'Italy', code: 'IT' },\r\n    { name: 'Jamaica', code: 'JM' },\r\n    { name: 'Japan', code: 'JP' },\r\n    { name: 'Jersey', code: 'JE' },\r\n    { name: 'Jordan', code: 'JO' },\r\n    { name: 'Kazakhstan', code: 'KZ' },\r\n    { name: 'Kenya', code: 'KE' },\r\n    { name: 'Kiribati', code: 'KI' },\r\n    { name: \"Korea, Democratic People'S Republic of\", code: 'KP' },\r\n    { name: 'Korea, Republic of', code: 'KR' },\r\n    { name: 'Kuwait', code: 'KW' },\r\n    { name: 'Kyrgyzstan', code: 'KG' },\r\n    { name: \"Lao People'S Democratic Republic\", code: 'LA' },\r\n    { name: 'Latvia', code: 'LV' },\r\n    { name: 'Lebanon', code: 'LB' },\r\n    { name: 'Lesotho', code: 'LS' },\r\n    { name: 'Liberia', code: 'LR' },\r\n    { name: 'Libyan Arab Jamahiriya', code: 'LY' },\r\n    { name: 'Liechtenstein', code: 'LI' },\r\n    { name: 'Lithuania', code: 'LT' },\r\n    { name: 'Luxembourg', code: 'LU' },\r\n    { name: 'Macao', code: 'MO' },\r\n    { name: 'Macedonia, The Former Yugoslav Republic of', code: 'MK' },\r\n    { name: 'Madagascar', code: 'MG' },\r\n    { name: 'Malawi', code: 'MW' },\r\n    { name: 'Malaysia', code: 'MY' },\r\n    { name: 'Maldives', code: 'MV' },\r\n    { name: 'Mali', code: 'ML' },\r\n    { name: 'Malta', code: 'MT' },\r\n    { name: 'Marshall Islands', code: 'MH' },\r\n    { name: 'Martinique', code: 'MQ' },\r\n    { name: 'Mauritania', code: 'MR' },\r\n    { name: 'Mauritius', code: 'MU' },\r\n    { name: 'Mayotte', code: 'YT' },\r\n    { name: 'Mexico', code: 'MX' },\r\n    { name: 'Micronesia, Federated States of', code: 'FM' },\r\n    { name: 'Moldova, Republic of', code: 'MD' },\r\n    { name: 'Monaco', code: 'MC' },\r\n    { name: 'Mongolia', code: 'MN' },\r\n    { name: 'Montserrat', code: 'MS' },\r\n    { name: 'Morocco', code: 'MA' },\r\n    { name: 'Mozambique', code: 'MZ' },\r\n    { name: 'Myanmar', code: 'MM' },\r\n    { name: 'Namibia', code: 'NA' },\r\n    { name: 'Nauru', code: 'NR' },\r\n    { name: 'Nepal', code: 'NP' },\r\n    { name: 'Netherlands', code: 'NL' },\r\n    { name: 'Netherlands Antilles', code: 'AN' },\r\n    { name: 'New Caledonia', code: 'NC' },\r\n    { name: 'New Zealand', code: 'NZ' },\r\n    { name: 'Nicaragua', code: 'NI' },\r\n    { name: 'Niger', code: 'NE' },\r\n    { name: 'Nigeria', code: 'NG' },\r\n    { name: 'Niue', code: 'NU' },\r\n    { name: 'Norfolk Island', code: 'NF' },\r\n    { name: 'Northern Mariana Islands', code: 'MP' },\r\n    { name: 'Norway', code: 'NO' },\r\n    { name: 'Oman', code: 'OM' },\r\n    { name: 'Pakistan', code: 'PK' },\r\n    { name: 'Palau', code: 'PW' },\r\n    { name: 'Palestinian Territory, Occupied', code: 'PS' },\r\n    { name: 'Panama', code: 'PA' },\r\n    { name: 'Papua New Guinea', code: 'PG' },\r\n    { name: 'Paraguay', code: 'PY' },\r\n    { name: 'Peru', code: 'PE' },\r\n    { name: 'Philippines', code: 'PH' },\r\n    { name: 'Pitcairn', code: 'PN' },\r\n    { name: 'Poland', code: 'PL' },\r\n    { name: 'Portugal', code: 'PT' },\r\n    { name: 'Puerto Rico', code: 'PR' },\r\n    { name: 'Qatar', code: 'QA' },\r\n    { name: 'Reunion', code: 'RE' },\r\n    { name: 'Romania', code: 'RO' },\r\n    { name: 'Russian Federation', code: 'RU' },\r\n    { name: 'RWANDA', code: 'RW' },\r\n    { name: 'Saint Helena', code: 'SH' },\r\n    { name: 'Saint Kitts and Nevis', code: 'KN' },\r\n    { name: 'Saint Lucia', code: 'LC' },\r\n    { name: 'Saint Pierre and Miquelon', code: 'PM' },\r\n    { name: 'Saint Vincent and the Grenadines', code: 'VC' },\r\n    { name: 'Samoa', code: 'WS' },\r\n    { name: 'San Marino', code: 'SM' },\r\n    { name: 'Sao Tome and Principe', code: 'ST' },\r\n    { name: 'Saudi Arabia', code: 'SA' },\r\n    { name: 'Senegal', code: 'SN' },\r\n    { name: 'Serbia and Montenegro', code: 'CS' },\r\n    { name: 'Seychelles', code: 'SC' },\r\n    { name: 'Sierra Leone', code: 'SL' },\r\n    { name: 'Singapore', code: 'SG' },\r\n    { name: 'Slovakia', code: 'SK' },\r\n    { name: 'Slovenia', code: 'SI' },\r\n    { name: 'Solomon Islands', code: 'SB' },\r\n    { name: 'Somalia', code: 'SO' },\r\n    { name: 'South Africa', code: 'ZA' },\r\n    { name: 'South Georgia and the South Sandwich Islands', code: 'GS' },\r\n    { name: 'Spain', code: 'ES' },\r\n    { name: 'Sri Lanka', code: 'LK' },\r\n    { name: 'Sudan', code: 'SD' },\r\n    { name: 'Suriname', code: 'SR' },\r\n    { name: 'Svalbard and Jan Mayen', code: 'SJ' },\r\n    { name: 'Swaziland', code: 'SZ' },\r\n    { name: 'Sweden', code: 'SE' },\r\n    { name: 'Switzerland', code: 'CH' },\r\n    { name: 'Syrian Arab Republic', code: 'SY' },\r\n    { name: 'Taiwan, Province of China', code: 'TW' },\r\n    { name: 'Tajikistan', code: 'TJ' },\r\n    { name: 'Tanzania, United Republic of', code: 'TZ' },\r\n    { name: 'Thailand', code: 'TH' },\r\n    { name: 'Timor-Leste', code: 'TL' },\r\n    { name: 'Togo', code: 'TG' },\r\n    { name: 'Tokelau', code: 'TK' },\r\n    { name: 'Tonga', code: 'TO' },\r\n    { name: 'Trinidad and Tobago', code: 'TT' },\r\n    { name: 'Tunisia', code: 'TN' },\r\n    { name: 'Turkey', code: 'TR' },\r\n    { name: 'Turkmenistan', code: 'TM' },\r\n    { name: 'Turks and Caicos Islands', code: 'TC' },\r\n    { name: 'Tuvalu', code: 'TV' },\r\n    { name: 'Uganda', code: 'UG' },\r\n    { name: 'Ukraine', code: 'UA' },\r\n    { name: 'United Arab Emirates', code: 'AE' },\r\n    { name: 'United Kingdom', code: 'GB' },\r\n    { name: 'United States', code: 'US' },\r\n    { name: 'United States Minor Outlying Islands', code: 'UM' },\r\n    { name: 'Uruguay', code: 'UY' },\r\n    { name: 'Uzbekistan', code: 'UZ' },\r\n    { name: 'Vanuatu', code: 'VU' },\r\n    { name: 'Venezuela', code: 'VE' },\r\n    { name: 'Viet Nam', code: 'VN' },\r\n    { name: 'Virgin Islands, British', code: 'VG' },\r\n    { name: 'Virgin Islands, U.S.', code: 'VI' },\r\n    { name: 'Wallis and Futuna', code: 'WF' },\r\n    { name: 'Western Sahara', code: 'EH' },\r\n    { name: 'Yemen', code: 'YE' },\r\n    { name: 'Zambia', code: 'ZM' },\r\n    { name: 'Zimbabwe', code: 'ZW' },\r\n]\r\n","import React, { useState } from 'react'\r\nimport Box from '@mui/material/Box'\r\n\r\nimport Button from '@mui/material/Button'\r\nimport InputLabel from '@mui/material/InputLabel'\r\nimport MenuItem from '@mui/material/MenuItem'\r\nimport FormControl from '@mui/material/FormControl'\r\nimport Select from '@mui/material/Select'\r\nimport { Grid, TextField } from '@mui/material'\r\nimport { countries } from '../../utils/getCountryCode'\r\nimport { useSubscription } from '../../hooks/useSubscription'\r\n\r\nfunction Details(props) {\r\n    const { state } = useSubscription()\r\n    const info = state?.cart?.details\r\n    const [details, setDetails] = useState(\r\n        info\r\n            ? info\r\n            : {\r\n                  name: '',\r\n                  address: '',\r\n                  city: '',\r\n                  state: '',\r\n                  country: '',\r\n              }\r\n    )\r\n\r\n    const handleChange = (e) => {\r\n        setDetails({ ...details, [e.target.name]: e.target.value })\r\n    }\r\n\r\n    const handleDetails = (data) => {\r\n        if (Object.values(data).includes('')) {\r\n            props.setErrorMsg('All Fields are required')\r\n            props.setSnackOpen(true)\r\n            return\r\n        }\r\n        props.handleNext(data)\r\n    }\r\n\r\n    return (\r\n        <Box>\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12}>\r\n                    <h4>Payment Details</h4>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <TextField\r\n                        autoFocus\r\n                        fullWidth\r\n                        label='Card Holder Name'\r\n                        name='name'\r\n                        required\r\n                        value={details.name}\r\n                        onChange={handleChange}\r\n                    />\r\n                </Grid>\r\n\r\n                <Grid item md={12} xs={12}>\r\n                    <h4>Billing Details</h4>\r\n                </Grid>\r\n                <Grid item md={6} xs={12}>\r\n                    <TextField\r\n                        fullWidth\r\n                        label='Street Address'\r\n                        name='address'\r\n                        required\r\n                        value={details.address}\r\n                        onChange={handleChange}\r\n                    />\r\n                </Grid>\r\n\r\n                <Grid item md={6} xs={12}>\r\n                    <FormControl fullWidth>\r\n                        <InputLabel id='country-select'>Country</InputLabel>\r\n                        <Select\r\n                            required\r\n                            labelId='country-select'\r\n                            name='country'\r\n                            value={details.country}\r\n                            label='Country'\r\n                            onChange={handleChange}\r\n                        >\r\n                            {countries.map((x) => (\r\n                                <MenuItem\r\n                                    sx={{ py: 1 }}\r\n                                    key={x.code}\r\n                                    value={x.code}\r\n                                >{`${x.name} - ${x.code}`}</MenuItem>\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n                <Grid item md={6} xs={12}>\r\n                    <TextField\r\n                        fullWidth\r\n                        label='State'\r\n                        name='state'\r\n                        required\r\n                        value={details.state}\r\n                        onChange={handleChange}\r\n                    />\r\n                </Grid>\r\n                <Grid item md={6} xs={12}>\r\n                    <TextField\r\n                        fullWidth\r\n                        label='City'\r\n                        name='city'\r\n                        required\r\n                        value={details.city}\r\n                        onChange={handleChange}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <Box\r\n                    mt={5}\r\n                    alignItems='center'\r\n                    justifyContent='space-between'\r\n                    display='flex'\r\n                >\r\n                    <Button\r\n                        type='submit'\r\n                        variant='contained'\r\n                        onClick={() => handleDetails(details)}\r\n                        sx={{\r\n                            width: '100%',\r\n                            py: 1.5,\r\n                        }}\r\n                    >\r\n                        Continue to Pay\r\n                    </Button>\r\n                </Box>\r\n            </Grid>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Details\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useNavigate, useHref } from 'react-router'\r\nimport { Dialog, DialogContent, Box } from '@mui/material'\r\nimport LinearProgress from '@mui/material/LinearProgress'\r\n\r\nconst SuccessDialog = (props) => {\r\n    const [progress, setProgress] = useState(0)\r\n    const [intervalId, setIntervalId] = useState(0)\r\n\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        if (props.open === false) {\r\n            return\r\n        }\r\n\r\n        const interval = setInterval(() => {\r\n            setProgress((progress) => progress + 5)\r\n        }, 250)\r\n\r\n        setIntervalId(interval)\r\n\r\n        return () => clearInterval(interval)\r\n    }, [props])\r\n\r\n    useEffect(() => {\r\n        if (progress > 100) {\r\n            clearInterval(intervalId)\r\n            navigate('/app/pricing', { replace: true })\r\n        }\r\n    }, [progress])\r\n\r\n    console.log('Here')\r\n\r\n    return (\r\n        <Dialog open={props.open} onClose={props.handleClose}>\r\n            <DialogContent>\r\n                <Box>\r\n                    <img\r\n                        src='https://firebasestorage.googleapis.com/v0/b/evencloud-26d32.appspot.com/o/success.png?alt=media&token=14200909-edb3-4628-bfe5-36e346709737'\r\n                        alt='Success Image'\r\n                        style={{ width: '250px', height: '250px' }}\r\n                    />\r\n\r\n                    <LinearProgress\r\n                        variant='determinate'\r\n                        value={progress}\r\n                        color='success'\r\n                    />\r\n                </Box>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(SuccessDialog)\r\n","import React, { useState } from 'react'\r\nimport { useNavigate, useLocation } from 'react-router'\r\nimport { Alert, Box, Button, Paper, Snackbar, Typography } from '@mui/material'\r\nimport ArrowBackIosNewOutlinedIcon from '@mui/icons-material/ArrowBackIosNewOutlined'\r\nimport { useStripe, useElements, CardElement } from '@stripe/react-stripe-js'\r\n\r\nimport CardSection from './CardSection.js'\r\nimport Details from './Details.js'\r\nimport { useSubscription } from '../../hooks/useSubscription'\r\nimport SuccessDialog from './SuccessDialog.js'\r\n\r\nexport default function CheckoutForm() {\r\n    const stripe = useStripe()\r\n    const elements = useElements()\r\n    const { state, dispatch } = useSubscription()\r\n    const { cart } = state\r\n\r\n    const [messages, _setMessages] = useState('')\r\n    //const [paymentIntent, setPaymentIntent] = useState()\r\n    const [isPaying, setIsPaying] = useState(false)\r\n\r\n    const [snackOpen, setSnackOpen] = useState(false)\r\n    const [errorMsg, setErrorMsg] = useState(null)\r\n\r\n    const [successDialog, setSuccessDialog] = useState(false)\r\n\r\n    const navigate = useNavigate()\r\n    const location = useLocation()\r\n    const quantity = location.state ? location.state.quantity : 0\r\n\r\n    // helper for displaying status messages.\r\n    const setMessage = (message) => {\r\n        _setMessages(`${messages}\\n\\n${message}`)\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        // We don't want to let default form submission happen here,\r\n        // which would refresh the page.\r\n        event.preventDefault()\r\n\r\n        if (!stripe || !elements) {\r\n            // Stripe.js has not yet loaded.\r\n            // Make sure to disable form submission until Stripe.js has loaded.\r\n            return\r\n        }\r\n\r\n        console.log(state?.cart)\r\n\r\n        const { error, paymentIntent } = await stripe.confirmCardPayment(\r\n            state?.cart?.clientSecret,\r\n            {\r\n                payment_method: {\r\n                    card: elements.getElement(CardElement),\r\n                    billing_details: {\r\n                        name: cart?.details.name,\r\n                        address: {\r\n                            line1: cart?.details.address,\r\n                            postal_code: cart?.details.zip || '38483',\r\n                            city: cart?.details?.city,\r\n                            country: cart?.details?.country,\r\n                        },\r\n                    },\r\n                },\r\n            }\r\n        )\r\n\r\n        if (error) {\r\n            // Show error to your customer (for example, insufficient funds)\r\n            setMessage(error.message)\r\n            setErrorMsg(error.message)\r\n            setSnackOpen(true)\r\n            console.log(error.message)\r\n        } else {\r\n            // The payment has been processed!\r\n            if (paymentIntent.status === 'succeeded') {\r\n                // Show a success message to your customer\r\n                // There's a risk of the customer closing the window before callback\r\n                // execution. Set up a webhook or plugin to listen for the\r\n                // payment_intent.succeeded event that handles any business critical\r\n                // post-payment actions.\r\n                console.log('Success')\r\n                setSuccessDialog(true)\r\n            }\r\n        }\r\n        //setPaymentIntent(paymentIntent)\r\n    }\r\n\r\n    // if (paymentIntent && paymentIntent.status === 'succeeded') {\r\n    //     //return <div>Success </div>\r\n    //     setSuccessDialog(true)\r\n    // }\r\n\r\n    const handleSnackClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return\r\n        }\r\n\r\n        setSnackOpen(false)\r\n        setErrorMsg(null)\r\n    }\r\n\r\n    const handleDialogClose = () => {\r\n        setSuccessDialog(false)\r\n    }\r\n\r\n    return (\r\n        <Box sx={{ p: 4, background: '#f0f2f5', minHeight: '100%' }}>\r\n            <Box>\r\n                <Button\r\n                    startIcon={<ArrowBackIosNewOutlinedIcon />}\r\n                    onClick={() => navigate('/app/pricing')}\r\n                >\r\n                    Go Back\r\n                </Button>\r\n            </Box>\r\n            <Box sx={{ mt: 2, mb: 5 }}>\r\n                <Typography variant='h2' sx={{ textAlign: 'center' }}>\r\n                    Make a payment\r\n                </Typography>\r\n                <Typography\r\n                    vanriant='h6'\r\n                    sx={{\r\n                        textAlign: 'center',\r\n                        mt: 2,\r\n                        letterSpacing: 0.6,\r\n                        color: 'gray',\r\n                    }}\r\n                >\r\n                    Fill the payment form with Billing Address, Card Holder Name\r\n                    and Card Details\r\n                </Typography>\r\n            </Box>\r\n\r\n            <Paper\r\n                sx={{\r\n                    borderRadius: 3,\r\n                    boxShadow: 10,\r\n                    margin: '40px auto',\r\n                    backgroundColor: 'background.paper',\r\n                    p: 5,\r\n                    maxWidth: '600px',\r\n                    mt: 8,\r\n                }}\r\n            >\r\n                {isPaying && (\r\n                    <CardSection\r\n                        handleBack={() => {\r\n                            setIsPaying(false)\r\n                        }}\r\n                        handleSubmit={handleSubmit}\r\n                        quantity={quantity}\r\n                    />\r\n                )}\r\n                {!isPaying && (\r\n                    <Details\r\n                        handleNext={(details) => {\r\n                            dispatch({\r\n                                type: 'PAYMENT_DETAILS',\r\n                                payload: {\r\n                                    details: details,\r\n                                },\r\n                            })\r\n                            setIsPaying(true)\r\n                        }}\r\n                        setErrorMsg={setErrorMsg}\r\n                        setSnackOpen={setSnackOpen}\r\n                    />\r\n                )}\r\n            </Paper>\r\n\r\n            <SuccessDialog\r\n                open={successDialog}\r\n                handleClose={handleDialogClose}\r\n            />\r\n\r\n            {/* {!isPaying ? (\r\n                <Details\r\n                    handleNext={(details) => {\r\n                        dispatch({\r\n                            type: 'PAYMENT_DETAILS',\r\n                            payload: {\r\n                                details: details,\r\n                            },\r\n                        })\r\n                        setIsPaying(true)\r\n                    }}\r\n                />\r\n            ) : (\r\n                <CardSection\r\n                    handleBack={() => {\r\n                        setIsPaying(false)\r\n                    }}\r\n                    handleSubmit={handleSubmit}\r\n                />\r\n            )}\r\n            <div>{messages}</div> */}\r\n\r\n            {errorMsg !== null && (\r\n                <Snackbar\r\n                    open={snackOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackClose}\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                >\r\n                    <Alert\r\n                        onClose={handleSnackClose}\r\n                        severity='error'\r\n                        sx={{ width: '100%' }}\r\n                        variant='filled'\r\n                    >\r\n                        {errorMsg}\r\n                    </Alert>\r\n                </Snackbar>\r\n            )}\r\n        </Box>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { loadStripe } from '@stripe/stripe-js'\r\nimport { Elements } from '@stripe/react-stripe-js'\r\nimport CheckoutForm from '../components/pricing/CheckOutForm'\r\n\r\nconst stripePromise = loadStripe(\r\n    'pk_test_51LERE7SHgzLT4nCoLBiNHxLi1VA6lbqcTOnrkwtNlduP9Ht93k7NbY5OF4GXR8vdid3eig3lV1DAxS2XSshACkUe00hDCZvx5x'\r\n)\r\n\r\nconst Subscribe = () => {\r\n    return (\r\n        <Elements stripe={stripePromise}>\r\n            <CheckoutForm />\r\n        </Elements>\r\n    )\r\n}\r\n\r\nexport default Subscribe\r\n","import { Navigate } from 'react-router-dom'\r\nimport DashboardLayout from './components/DashboardLayout'\r\nimport MainLayout from './components/MainLayout'\r\nimport Dashboard from './pages/Dashboard'\r\nimport Login from './pages/Login'\r\nimport NotFound from './pages/NotFound'\r\nimport Register from './pages/Register'\r\n\r\nimport Locationview from './pages/Locationview'\r\nimport Report from './pages/Report'\r\nimport Notification from './pages/Notification'\r\nimport ManageMobileDevices from './pages/ManageMobileDevices'\r\nimport ManageHotspots from './pages/ManageHotspots'\r\nimport Profile from './pages/Profile'\r\nimport ManageGroups from './pages/ManageGroups'\r\nimport ManageAdmins from './pages/ManageAdmins'\r\nimport AdminReport from './pages/admin/Report'\r\nimport ChangePassword from './pages/admin/ChangePassword'\r\nimport Pricing from './pages/Pricing'\r\nimport Subscribe from './pages/Subscribe'\r\n\r\nconst routes = [\r\n    {\r\n        path: 'app',\r\n        element: <DashboardLayout />,\r\n        children: [\r\n            { path: 'dashboard', element: <Dashboard /> },\r\n            { path: 'manage-devices', element: <ManageMobileDevices /> },\r\n            { path: 'manage-hotspots', element: <ManageHotspots /> },\r\n            { path: 'manage-groups', element: <ManageGroups /> },\r\n            { path: 'manage-admins', element: <ManageAdmins /> },\r\n            { path: 'pricing', element: <Pricing /> },\r\n            { path: 'notifications', element: <Notification /> },\r\n            { path: 'reports', element: <Report /> },\r\n            {\r\n                path: 'locationview/:phoneNumber/:requestId',\r\n                element: <Locationview />,\r\n            },\r\n            { path: 'profile', element: <Profile /> },\r\n\r\n            { path: '/admin/reports', element: <AdminReport /> },\r\n            { path: '*', element: <Navigate to='/404' /> },\r\n        ],\r\n    },\r\n    {\r\n        path: '/',\r\n        element: <MainLayout />,\r\n        children: [\r\n            { path: 'login', element: <Login /> },\r\n            { path: 'register', element: <Register /> },\r\n            { path: 'subscribe', element: <Subscribe /> },\r\n            { path: '/admin/change-password', element: <ChangePassword /> },\r\n            { path: '404', element: <NotFound /> },\r\n            { path: '/', element: <Navigate to='/app/dashboard' /> },\r\n            { path: '*', element: <Navigate to='/404' /> },\r\n        ],\r\n    },\r\n]\r\n\r\nexport default routes\r\n","import 'react-perfect-scrollbar/dist/css/styles.css'\r\nimport { useRoutes, useNavigate } from 'react-router-dom'\r\nimport { ThemeProvider, StyledEngineProvider } from '@mui/material'\r\nimport GlobalStyles from './components/GlobalStyles'\r\nimport theme from './theme'\r\nimport routes from './routes'\r\nimport './App.css'\r\nimport { useEffect } from 'react'\r\nimport { getDevices, getAdminDevices } from './store/actions/device'\r\n\r\nimport axios from 'axios'\r\nimport { API_SERVICE } from './URI'\r\nimport { getAdminHotspots, getHotspots } from './store/actions/hotspot'\r\nimport { getAdmins } from './store/actions/admin'\r\nimport { getGroups } from './store/actions/group'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst App = () => {\r\n    const content = useRoutes(routes)\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n\r\n    const authToken = sessionStorage.getItem('authToken')\r\n    const userData = sessionStorage.getItem('userData')\r\n        ? JSON.parse(sessionStorage.getItem('userData'))\r\n        : null\r\n\r\n    const adminData = sessionStorage.getItem('adminData')\r\n        ? JSON.parse(sessionStorage.getItem('adminData'))\r\n        : null\r\n\r\n    useEffect(async () => {\r\n        if (adminData === null && userData !== null) {\r\n            dispatch(getDevices(userData.uid))\r\n            dispatch(getHotspots(userData.uid))\r\n            dispatch(getGroups(userData.uid))\r\n            dispatch(getAdmins(userData.uid))\r\n        }\r\n\r\n        if (adminData !== null && userData !== null) {\r\n            const { data } = await axios.get(\r\n                `${API_SERVICE}/get/admin/${adminData.email}`\r\n            )\r\n            dispatch(\r\n                getAdminDevices({\r\n                    createdBy: userData.uid,\r\n                    adminGroups: data.groups,\r\n                })\r\n            )\r\n            dispatch(\r\n                getAdminHotspots({\r\n                    createdBy: userData.uid,\r\n                    adminGroups: data.groups,\r\n                })\r\n            )\r\n        }\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        if (!authToken) {\r\n            navigate('/login')\r\n        }\r\n    }, [authToken])\r\n\r\n    return (\r\n        <StyledEngineProvider injectFirst>\r\n            <ThemeProvider theme={theme}>\r\n                <GlobalStyles />\r\n                {content}\r\n            </ThemeProvider>\r\n        </StyledEngineProvider>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import * as types from '../constants'\r\n\r\nexport const hotspotReducer = (state = { hotspotList: [] }, action) => {\r\n    switch (action.type) {\r\n        case types.GET_HOTSPOT_SUCCESS:\r\n            return {\r\n                hotspotList: action.payload,\r\n            }\r\n        case types.GET_HOTSPOT_FAIL:\r\n            return {\r\n                error: action.payload,\r\n                hotspotList: [],\r\n            }\r\n\r\n        case types.CREATE_HOTSPOT_SUCCESS: {\r\n            const item = action.payload\r\n            console.log(item)\r\n            const exitHotspot = state.hotspotList.find(\r\n                (x) => x._id === item._id\r\n            )\r\n\r\n            if (exitHotspot) {\r\n                return {\r\n                    ...state,\r\n                    hotspotList: state.hotspotList.map((x) =>\r\n                        x._id === exitHotspot._id ? item : x\r\n                    ),\r\n                    success: 'Hotspot created succssfully',\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                hotspotList: [...state.hotspotList, item],\r\n                success: 'Hotspot created succssfully',\r\n            }\r\n        }\r\n        case types.CREATE_HOTSPOT_FAIL:\r\n            return {\r\n                hotspotList: [...state.hotspotList],\r\n                error: action.payload,\r\n            }\r\n\r\n        case types.UPDATE_HOTSPOT_SUCCESS: {\r\n            const item = action.payload\r\n            console.log(item)\r\n            const exitHotspot = state.hotspotList.find(\r\n                (x) => x._id === item._id\r\n            )\r\n\r\n            if (exitHotspot) {\r\n                return {\r\n                    ...state,\r\n                    hotspotList: state.hotspotList.map((x) =>\r\n                        x._id === exitHotspot._id ? item : x\r\n                    ),\r\n                    success: 'Hotspot updated succssfully',\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                hotspotList: [...state.hotspotList, item],\r\n                success: 'Hotspot updated succssfully',\r\n            }\r\n        }\r\n\r\n        case types.UPDATE_HOTSPOT_FAIL:\r\n            return {\r\n                hotspotList: [...state.hotspotList],\r\n                error: action.payload,\r\n            }\r\n\r\n        case types.DELETE_HOTSPOT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                hotspotList: state.hotspotList.filter(\r\n                    (x) => x._id !== action.payload\r\n                ),\r\n                success: 'Hotspot deleted succssfully',\r\n            }\r\n        case types.DELETE_HOTSPOT_FAIL:\r\n            return {\r\n                error: action.payload,\r\n                hotspotList: [...state.hotspotList],\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { createStore, applyMiddleware, combineReducers } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport { hotspotReducer } from './reducers/hotspotReducer'\r\nimport { groupReducer } from './reducers/groupReducer'\r\nimport { adminReducer } from './reducers/adminReducer'\r\nimport { deviceReducer } from './reducers/deviceReducer'\r\n\r\nconst reducer = combineReducers({\r\n    hotspots: hotspotReducer,\r\n    groups: groupReducer,\r\n    admins: adminReducer,\r\n    devices: deviceReducer,\r\n})\r\n\r\nconst hotspotFromStorage = sessionStorage.getItem('hotspotList')\r\n    ? JSON.parse(sessionStorage.getItem('hotspotList'))\r\n    : []\r\n\r\nconst groupFromStorage = sessionStorage.getItem('groupList')\r\n    ? JSON.parse(sessionStorage.getItem('groupList'))\r\n    : []\r\n\r\nconst adminFromStorage = sessionStorage.getItem('adminList')\r\n    ? JSON.parse(sessionStorage.getItem('adminList'))\r\n    : []\r\n\r\nconst deviceFromStorage = sessionStorage.getItem('deviceList')\r\n    ? JSON.parse(sessionStorage.getItem('deviceList'))\r\n    : []\r\n\r\nconst initialState = {\r\n    hotspots: { hotspotList: hotspotFromStorage },\r\n    groups: { groupList: groupFromStorage },\r\n    admins: { adminList: adminFromStorage },\r\n    devices: { deviceList: deviceFromStorage },\r\n}\r\nconst middleware = [thunk]\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    initialState,\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n)\r\n\r\nexport default store\r\n","import * as types from '../constants'\r\n\r\nexport const groupReducer = (state = { groupList: [] }, action) => {\r\n    switch (action.type) {\r\n        case types.GET_GROUP_SUCCESS:\r\n            return {\r\n                groupList: action.payload,\r\n            }\r\n        case types.GET_GROUP_FAIL:\r\n            return {\r\n                error: action.payload,\r\n                groupList: [],\r\n            }\r\n\r\n        case types.CREATE_GROUP_SUCCESS: {\r\n            const item = action.payload\r\n            const existgroup = state.groupList.find((x) => x._id === item._id)\r\n\r\n            if (existgroup) {\r\n                return {\r\n                    ...state,\r\n                    groupList: state.groupList.map((x) =>\r\n                        x._id === existgroup._id ? item : x\r\n                    ),\r\n                    success: 'Group created succssfully',\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                groupList: [...state.groupList, item],\r\n                success: 'Group created succssfully',\r\n            }\r\n        }\r\n        case types.CREATE_GROUP_FAIL:\r\n            return {\r\n                groupList: [...state.groupList],\r\n                error: action.payload,\r\n            }\r\n\r\n        case types.UPDATE_GROUP_SUCCESS: {\r\n            const item = action.payload\r\n            const existgroup = state.groupList.find((x) => x._id === item._id)\r\n\r\n            if (existgroup) {\r\n                return {\r\n                    ...state,\r\n                    groupList: state.groupList.map((x) =>\r\n                        x._id === existgroup._id ? item : x\r\n                    ),\r\n                    success: 'Group created succssfully',\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                groupList: [...state.groupList, item],\r\n                success: 'Group created succssfully',\r\n            }\r\n        }\r\n        case types.UPDATE_GROUP_FAIL:\r\n            return {\r\n                groupList: [...state.groupList],\r\n                error: action.payload,\r\n            }\r\n\r\n        case types.DELETE_GROUP_SUCCESS:\r\n            return {\r\n                ...state,\r\n                groupList: state.groupList.filter(\r\n                    (x) => x._id !== action.payload\r\n                ),\r\n                success: 'Group deleted succssfully',\r\n            }\r\n        case types.DELETE_GROUP_FAIL:\r\n            return {\r\n                error: action.payload,\r\n                groupList: [...state.groupList],\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import * as types from '../constants'\r\n\r\nexport const adminReducer = (state = { adminList: [] }, action) => {\r\n    switch (action.type) {\r\n        case types.GET_ADMIN_SUCCESS:\r\n            return {\r\n                adminList: action.payload,\r\n            }\r\n        case types.GET_ADMIN_FAIL:\r\n            return {\r\n                error: action.payload,\r\n                adminList: [],\r\n            }\r\n\r\n        case types.CREATE_ADMIN_SUCCESS: {\r\n            const item = action.payload\r\n            const existadmin = state.adminList.find((x) => x._id === item._id)\r\n\r\n            if (existadmin) {\r\n                return {\r\n                    ...state,\r\n                    adminList: state.adminList.map((x) =>\r\n                        x._id === existadmin._id ? item : x\r\n                    ),\r\n                    success: 'Admin created succssfully',\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                adminList: [...state.adminList, item],\r\n                success: 'Admin created succssfully',\r\n            }\r\n        }\r\n        case types.CREATE_ADMIN_FAIL:\r\n            return {\r\n                adminList: [...state.adminList],\r\n                error: action.payload,\r\n            }\r\n\r\n        case types.UPDATE_ADMIN_SUCCESS: {\r\n            const item = action.payload\r\n            const existadmin = state.adminList.find((x) => x._id === item._id)\r\n\r\n            if (existadmin) {\r\n                return {\r\n                    ...state,\r\n                    adminList: state.adminList.map((x) =>\r\n                        x._id === existadmin._id ? item : x\r\n                    ),\r\n                    success: 'Admin updated succssfully',\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                adminList: [...state.adminList, item],\r\n                success: 'Admin updated succssfully',\r\n            }\r\n        }\r\n        case types.UPDATE_ADMIN_FAIL:\r\n            return {\r\n                adminList: [...state.adminList],\r\n                error: action.payload,\r\n            }\r\n\r\n        case types.DELETE_ADMIN_SUCCESS:\r\n            return {\r\n                ...state,\r\n                adminList: state.adminList.filter(\r\n                    (x) => x._id !== action.payload\r\n                ),\r\n                success: 'Admin deleted successfully',\r\n            }\r\n        case types.DELETE_ADMIN_FAIL:\r\n            return {\r\n                error: action.payload,\r\n                hotspotList: [...state.adminList],\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import * as types from '../constants'\r\n\r\nexport const deviceReducer = (state = { deviceList: [] }, action) => {\r\n    switch (action.type) {\r\n        case types.GET_DEVICE_SUCCESS:\r\n            return {\r\n                deviceList: action.payload,\r\n            }\r\n        case types.GET_DEVICE_FAIL:\r\n            return {\r\n                error: action.payload,\r\n                deviceList: [],\r\n            }\r\n\r\n        case types.CREATE_DEVICE_SUCCESS: {\r\n            const item = action.payload\r\n            const existdevice = state.deviceList.find((x) => x._id === item._id)\r\n\r\n            if (existdevice) {\r\n                return {\r\n                    ...state,\r\n                    deviceList: state.deviceList.map((x) =>\r\n                        x._id === existdevice._id ? item : x\r\n                    ),\r\n                    success: 'Device added succssfully',\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                deviceList: [...state.deviceList, item],\r\n                success: 'Device added succssfully',\r\n            }\r\n        }\r\n\r\n        case types.CREATE_DEVICE_FAIL:\r\n            return {\r\n                deviceList: [...state.deviceList],\r\n                error: action.payload,\r\n            }\r\n\r\n        case types.UPDATE_DEVICE_SUCCESS: {\r\n            const item = action.payload\r\n            console.log(item)\r\n            const existDevice = state.deviceList.find((x) => x._id === item._id)\r\n\r\n            if (existDevice) {\r\n                return {\r\n                    ...state,\r\n                    deviceList: state.deviceList.map((x) =>\r\n                        x._id === existDevice._id ? item : x\r\n                    ),\r\n                    success: 'Device updated succssfully',\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                deviceList: [...state.deviceList, item],\r\n                success: 'Device updated succssfully',\r\n            }\r\n        }\r\n\r\n        case types.UPDATE_DEVICE_FAIL:\r\n            return {\r\n                deviceList: [...state.deviceList],\r\n                error: action.payload,\r\n            }\r\n\r\n        case types.DELETE_DEVICE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                deviceList: state.deviceList.filter(\r\n                    (x) => x._id !== action.payload\r\n                ),\r\n                success: 'Device deleted succssfully',\r\n            }\r\n        case types.DELETE_DEVICE_FAIL:\r\n            return {\r\n                error: action.payload,\r\n                deviceList: [...state.deviceList],\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import ReactDOM from 'react-dom'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport App from './App'\r\nimport store from './store/store'\r\nimport {\r\n    SubscriptionConsumer,\r\n    SubscriptionProvider,\r\n} from './contexts/subscriptionContext'\r\n\r\nReactDOM.render(\r\n    <SubscriptionProvider>\r\n        <SubscriptionConsumer>\r\n            {(sub) =>\r\n                sub.state.isInitialized && (\r\n                    <Provider store={store}>\r\n                        <BrowserRouter>\r\n                            <App />\r\n                        </BrowserRouter>\r\n                    </Provider>\r\n                )\r\n            }\r\n        </SubscriptionConsumer>\r\n    </SubscriptionProvider>,\r\n\r\n    document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}