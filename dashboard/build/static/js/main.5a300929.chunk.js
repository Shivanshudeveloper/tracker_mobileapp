(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{303:function(e,t,a){},304:function(e,t,a){"use strict";a.r(t);var s=a(54),n=a.n(s),c=a(35),o=a(18),i=(a(250),a(17)),r=a(407),l=a(456),d=a(410),j=a(387);const u=Object(d.a)((()=>Object(j.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})));var p=()=>(u(),null),b=a(206);var h=Object(b.a)({palette:{background:{default:"#f4f6f8",paper:"#ffffff"},primary:{contrastText:"#ffffff",main:"#5664d2"},text:{primary:"#172b4d",secondary:"#6b778c"}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),m=a(1),x=a.n(m),g=a(6),O=a(428),f=a(429),y=a(430),S=a(431),v=a(432),C=a(433),w=a(416),N=a(434),D=a(420),A=a(394),k=a(395),L=a(181),I=a.n(L),E=a(183),T=a.n(E),_=a(178),P=a(208),M=a(33),G=a(20),F=a(91);const H=Object(_.a)({apiKey:"AIzaSyCB3eqMf02L6kH_F7MAuwXUQVd1dFZfVFQ",authDomain:"mobiletracking-cd8f2.firebaseapp.com",databaseURL:"https://mobiletracking-cd8f2.firebaseio.com",projectId:"mobiletracking-cd8f2",storageBucket:"mobiletracking-cd8f2.appspot.com",messagingSenderId:"448981545000",appId:"1:448981545000:web:14011a88c4a6079456051d",measurementId:"G-M9EEMS9J5G"}),$=(Object(P.a)(H),Object(G.h)(H)),z=Object(M.c)(H),U=Object(F.b)(H);var W=a(37),B=a.n(W),R=a(184),V=a.n(R),J=a(0);var Y=({onMobileNavOpen:e,...t})=>{const[a,s]=Object(m.useState)([]),[n,o]=Object(m.useState)(null),[r,l]=Object(m.useState)(!1),d=Object(i.g)(),j=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null;Object(m.useEffect)((()=>{if(null!==j){const e=Object(G.c)($,"trackingWebNotification",null===j||void 0===j?void 0:j.uid,"notifications"),t=Object(G.l)(e,Object(G.k)("createdAt","desc"),Object(G.i)(100)),a=Object(G.j)(t,(e=>{const t=[];e.forEach((e=>{t.push(e.data())})),s(t)}));return()=>a()}}),[]);const u=e=>{const t=B()(new Date(1e3*e)).fromNow();switch(t){case"in a few seconds":case"a few seconds ago":return"few sec";case"a minute ago":return"1m";case"an hour ago":return"1h";case"a day ago":return"1day";default:const e=t.split(" ")[0];let a=t.split(" ")[1];return"minutes"!==a&&"minute"!==a||(a="m"),"hours"!==a&&"hour"!==a||(a="h"),"days"!==a&&"day"!==a||(a="d"),e+a}};return Object(J.jsx)(O.a,{elevation:0,...t,children:Object(J.jsxs)(f.a,{sx:{backgroundColor:"#007bff",display:"flex",justifyContent:"flex-end",gap:1},children:[Object(J.jsx)(y.a,{onClick:e=>{o(e.currentTarget),l(!0)},children:Object(J.jsx)(I.a,{sx:{color:"white"}})}),Object(J.jsx)(S.a,{id:"notification",open:r,anchorEl:n,onClose:()=>{o(null),l(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},className:"notification",children:Object(J.jsx)(v.a,{sx:{padding:2},children:a.map(((e,t)=>Object(J.jsxs)(C.a,{style:{padding:2},children:[Object(J.jsxs)(w.a,{sx:{mt:1.5},children:[Object(J.jsxs)(N.a,{children:["pending"===e.requestStatus&&Object(J.jsx)(D.a,{src:"https://firebasestorage.googleapis.com/v0/b/mobiletracking-cd8f2.appspot.com/o/pending.png?alt=media&token=20afc88a-6914-4657-962e-ba9d5e684ae5"}),"accepted"===e.requestStatus&&Object(J.jsx)(D.a,{src:"https://firebasestorage.googleapis.com/v0/b/mobiletracking-cd8f2.appspot.com/o/accept.png?alt=media&token=83902429-f4af-40b8-852c-faca1e144a92"}),"rejected"===e.requestStatus&&Object(J.jsx)(D.a,{src:"https://firebasestorage.googleapis.com/v0/b/mobiletracking-cd8f2.appspot.com/o/reject.png?alt=media&token=25da312f-2ec2-492d-97d9-1d47ecd1afd5"})]}),Object(J.jsx)(A.a,{primary:e.message,secondary:u(e.createdAt.seconds)+" ago"})]}),Object(J.jsx)(k.a,{})]},++t)))})}),Object(J.jsx)(c.b,{to:"/app/profile",children:Object(J.jsx)(y.a,{onClick:e=>{o(e.currentTarget)},children:Object(J.jsx)(T.a,{sx:{color:"white"}})})}),Object(J.jsx)(y.a,{onClick:()=>{localStorage.removeItem("userData"),localStorage.removeItem("authToken"),Object(M.h)(z).then((()=>d("/login",{replace:!0}))).catch((e=>console.log(e)))},children:Object(J.jsx)(V.a,{sx:{color:"white"}})})]})})},q=a(421),K=a(396),Z=a(146),X=a.n(Z),Q=a(147),ee=a.n(Q),te=a(185),ae=a.n(te),se=a(186),ne=a.n(se),ce=a(148),oe=a.n(ce),ie=a(187),re=a.n(ie),le=a(397),de=a(93);const je=Object(d.a)((e=>({root:{display:"flex"},drawer:{width:60,flexShrink:0,whiteSpace:"nowrap"},appBar:{width:"calc(100% - 60px)",marginLeft:60},toolbar:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(0,1),...e.mixins.toolbar},listContainer:{display:"flex",height:"100%",flexDirection:"column",justifyContent:"center"}})));var ue=()=>{const e=je(),t=sessionStorage.getItem("adminData")?JSON.parse(sessionStorage.getItem("adminData")):null,a=["/app/dashboard","/app/manage-hotspots","/app/manage-devices","/app/reports","/app/manage-groups","/app/manage-admins","/app/pricing"],s=["Overview","Hotspots","Devices","Reports","Groups","Admins","Pricing"];return Object(J.jsxs)("div",{className:e.root,children:[Object(J.jsx)(K.a,{}),Object(J.jsx)(q.a,{variant:"permanent",children:Object(J.jsx)("div",{className:e.listContainer,children:Object(J.jsx)(v.a,{children:null===t?[Object(J.jsx)(le.a,{fontSize:"large",sx:{color:"#6600cc"}}),Object(J.jsx)(X.a,{fontSize:"large",sx:{color:"red"}}),Object(J.jsx)(ee.a,{fontSize:"large",sx:{color:"#007bff"}}),Object(J.jsx)(oe.a,{fontSize:"large",sx:{color:"#fc6a03"}}),Object(J.jsx)(ae.a,{fontSize:"large",sx:{color:"green"}}),Object(J.jsx)(ne.a,{fontSize:"large",sx:{color:"#cc33ff"}}),Object(J.jsx)(re.a,{fontSize:"large",sx:{color:"#3F00FF"}})].map(((e,t)=>Object(J.jsx)(c.b,{to:a[t],children:Object(J.jsxs)(w.a,{sx:{pt:1.5,pb:1.5,px:1,display:"flex",flexDirection:"column",borderBottomColor:"#007bff",borderBottomWidth:10},children:[Object(J.jsx)("div",{children:e}),Object(J.jsx)(de.a,{color:"black",sx:{fontSize:12},children:s[t]})]})},t))):[Object(J.jsx)(le.a,{fontSize:"large",sx:{color:"#6600cc"}}),Object(J.jsx)(X.a,{fontSize:"large",sx:{color:"red"}}),Object(J.jsx)(ee.a,{fontSize:"large",sx:{color:"#007bff"}}),Object(J.jsx)(oe.a,{fontSize:"large",sx:{color:"orange"}})].map(((e,t)=>Object(J.jsx)(c.b,{to:a[t],children:Object(J.jsxs)(w.a,{sx:{pt:1.5,pb:1.5,px:1,display:"flex",flexDirection:"column",borderBottomColor:"#007bff",borderBottomWidth:10},children:[Object(J.jsx)("div",{children:e}),Object(J.jsx)(de.a,{color:"black",sx:{fontSize:12},children:s[t]})]})},t)))})})})]})};const pe=Object(g.a)("div")((({theme:e})=>({backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}))),be=Object(g.a)("div")((({theme:e})=>({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64,[e.breakpoints.up("md")]:{paddingLeft:68}}))),he=Object(g.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),me=Object(g.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"});var xe=()=>{const[e,t]=Object(m.useState)(!1);return Object(J.jsxs)(pe,{children:[Object(J.jsx)(Y,{onMobileNavOpen:()=>t(!0)}),Object(J.jsx)(ue,{onMobileClose:()=>t(!1),openMobile:e}),Object(J.jsx)(be,{children:Object(J.jsx)(he,{children:Object(J.jsx)(me,{children:Object(J.jsx)(i.b,{})})})})]})};const ge=Object(g.a)("div")((({theme:e})=>({backgroundColor:e.palette.background.paper,display:"flex",height:"100%",overflow:"hidden",width:"100%"}))),Oe=Object(g.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),fe=Object(g.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),ye=Object(g.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"});var Se=()=>Object(J.jsx)(ge,{children:Object(J.jsx)(Oe,{children:Object(J.jsx)(fe,{children:Object(J.jsx)(ye,{children:Object(J.jsx)(i.b,{})})})})}),ve=a(423),Ce=a(418),we=a(438),Ne=a(212),De=a(207),Ae=a(439),ke=a(400),Le=a(211),Ie=a(195),Ee=a.n(Ie),Te=a(417),_e=a(412),Pe=a(399),Me=a(87),Ge=a(422),Fe=a(30),He=a(15),$e=a.n(He),ze=a(191);a.n(ze).a.config();const Ue="https://murmuring-brook-41081.herokuapp.com/api/v1/main",We="pk.eyJ1Ijoic2hpdmFuc2h1OTgxIiwiYSI6ImNrdmoyMjh5bDJmeHgydXAxem1sbHlhOXQifQ.2PZhm_gYI4mjpPyh7xGFSw",Be="mapbox://styles/shivanshu981/ckvrknxuq05w515pbotlkvj63";var Re=a(457),Ve=a(427),Je=a(458),Ye=a(459),qe=a(460),Ke=a(398);const Ze=e=>Object(J.jsx)(C.a,{children:Object(J.jsx)(Re.a,{sx:{px:0,mr:4},children:e.locations.map((e=>Object(J.jsxs)(Ve.a,{children:[Object(J.jsxs)(Je.a,{children:[Object(J.jsx)(Ye.a,{variant:"outlined",color:"error"}),Object(J.jsx)(qe.a,{})]}),Object(J.jsx)(Ke.a,{children:Object(J.jsxs)(C.a,{sx:{pb:1.3},children:[Object(J.jsx)(de.a,{component:"h6",children:e.address}),Object(J.jsx)(de.a,{component:"p",sx:{fontSize:12},children:B()(e.createdAt).format("DD MMMM YYYY - hh:mm a")})]})})]})))})});var Xe=x.a.memo(Ze);const Qe=e=>{const{user:t}=e,{phoneNumber:a,createdBy:s}=t,[n,c]=Object(m.useState)(0),[o,i]=Object(m.useState)(0),[r,l]=Object(m.useState)({width:"100%",height:"100%",latitude:n,longitude:o,zoom:15}),[d,j]=Object(m.useState)(!1),[u,p]=Object(m.useState)(null),[b,h]=Object(m.useState)(null),[x,g]=Object(m.useState)({}),[O,f]=Object(m.useState)(""),[y,S]=Object(m.useState)(!1),[v,w]=Object(m.useState)(!1),[N,A]=Object(m.useState)([]);Object(m.useEffect)((async()=>{S(!0),0!==n&&0!==o&&$e.a.get(`${Ue}/getlatlong/${u}/${b}`).then((e=>{console.log("SETTING DATA"),g(e.data),S(!1)})).catch((e=>console.log(e)))}),[u,b]),Object(m.useEffect)((async()=>{try{const{data:e}=await $e.a.get(`${Ue}/get/livelocation/${a}`);console.log(e),c(e.location.latitude),i(e.location.longitude),l({...r,latitude:e.location.latitude,longitude:e.location.longitude})}catch(e){console.log(e.message)}}),[a]),Object(m.useEffect)((async()=>{try{const{data:e}=await $e.a.get(`${Ue}/get/location/${s}/${a}/${(new Date).getMonth()+1}`);A(e)}catch(e){console.log(e.message)}}),[a]);const k=()=>{v?(w(!1),l({...r,width:"100%"})):(w(!0),l({...r,width:"100%"}))};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Me.a,{children:Object(J.jsx)("title",{children:"Dashboard"})}),Object(J.jsxs)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",display:"flex"},children:[Object(J.jsxs)(Ge.a,{maxWidth:!0,sx:{px:0,height:"100"},children:["accepted"===t.trackingStatus&&Object(J.jsxs)(Fe.d,{...r,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>l(e),children:[Object(J.jsx)(Fe.b,{latitude:n,longitude:o,children:Object(J.jsx)("button",{className:"marker-btn",onMouseEnter:e=>{e.preventDefault(),j(!0),p(n),h(o)},onMouseLeave:e=>{e.preventDefault(),j(!1)},onClick:k,children:Object(J.jsx)(D.a,{src:O,sx:{backgroundColor:"orange"},children:(e=>{const t=e.split(" ");let a;return a=1===t.length?t[0].split("")[0].toUpperCase():t[0].split("")[0].toUpperCase()+t[1].split("")[0].toUpperCase(),a})(t.fullName)})})},"India Gate1"),d?Object(J.jsx)(Fe.c,{latitude:u,longitude:b,children:Object(J.jsxs)("div",{children:[Object(J.jsx)("h2",{style:{textAlign:"center"},children:t.fullName}),y?Object(J.jsx)("p",{children:"Fetching Location ..."}):Object(J.jsx)("p",{children:x.formattedAddress})]})}):null]}),"pending"===t.trackingStatus&&Object(J.jsx)(de.a,{sx:{margin:10,textAlign:"center"},component:"h1",children:"Tracking request is in pending"}),"rejected"===t.trackingStatus&&Object(J.jsxs)(C.a,{sx:{position:"relative"},children:[Object(J.jsx)(C.a,{sx:{position:"absolute",zIndex:1e3,backgroundColor:"#f5f5f5",borderRadius:25,right:"50%",bottom:"30px",transform:"translate(50%)",px:2},children:Object(J.jsx)(de.a,{sx:{margin:2,textAlign:"center",color:"red",fontWeight:"bold"},component:"h1",children:"Tracking request is rejected"})}),Object(J.jsxs)(Fe.d,{...r,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>l(e),children:[Object(J.jsx)(Fe.b,{latitude:n,longitude:o,children:Object(J.jsx)("button",{className:"marker-btn",onMouseEnter:e=>{e.preventDefault(),j(!0),p(n),h(o)},onMouseLeave:e=>{e.preventDefault(),j(!1)},onClick:k,children:Object(J.jsx)(D.a,{src:O,sx:{backgroundColor:"orange"}})})},"India Gate1"),d?Object(J.jsx)(Fe.c,{latitude:u,longitude:b,children:Object(J.jsxs)("div",{children:[Object(J.jsx)("h2",{style:{textAlign:"center"},children:t.fullName}),y?Object(J.jsx)("p",{children:"Fetching Location ..."}):Object(J.jsx)("p",{children:x.formattedAddress})]})}):null]})]})]}),v&&Object(J.jsx)(C.a,{className:"location-history",sx:{width:400,display:"flex",justifyContent:"flex-start",height:"82vh",overflowY:"scroll"},children:0!==N.length?Object(J.jsx)(Xe,{locations:N}):Object(J.jsx)(C.a,{sx:{width:300,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(J.jsx)(de.a,{component:"h5",variant:"h5",children:"No History Found"})})})]})]})};var et=x.a.memo(Qe);const tt=e=>{const{userList:t,senderId:a,trackingList:s}=e,[n,c]=Object(m.useState)(!1),[o,i]=Object(m.useState)(null),[r,l]=Object(m.useState)(null),[d,j]=Object(m.useState)(0),[u,p]=Object(m.useState)(""),[b,h]=Object(m.useState)({}),[x,g]=Object(m.useState)(28.598),[O,f]=Object(m.useState)(77.3),[y,S]=Object(m.useState)(!1),[v,w]=Object(m.useState)(!1),[N,A]=Object(m.useState)([]),[k,L]=Object(m.useState)([]),[I,E]=Object(m.useState)({width:"100%",height:"100%",latitude:x,longitude:O,zoom:11});Object(m.useEffect)((()=>{const e=[];s.forEach((a=>{t.forEach((t=>{a.phoneNumber===t.phoneNumber&&(a.location=t.location,e.push(a))}))})),L(e)}),[s,t]),Object(m.useEffect)((async()=>{S(!0),$e.a.get(`${Ue}/getlatlong/${o}/${r}`).then((e=>{h(e.data),S(!1)})).catch((e=>console.log(e)))}),[o,r]),Object(m.useEffect)((async()=>{if(0!==u.length)try{const{data:e}=await $e.a.get(`${Ue}/get/location/${a}/${u}/${(new Date).getMonth()+1}`);A(e)}catch(e){console.log(e.message)}}),[u]);const T=e=>{const t=e.split(" ");let a;return a=1===t.length?t[0].split("")[0].toUpperCase():t[0].split("")[0].toUpperCase()+t[1].split("")[0].toUpperCase(),a};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Me.a,{children:Object(J.jsx)("title",{children:"Dashboard"})}),Object(J.jsxs)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",display:"flex"},children:[Object(J.jsx)(Ge.a,{maxWidth:!0,sx:{height:"100"},children:Object(J.jsxs)(Fe.d,{...I,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>E(e),children:[k.map(((e,t)=>Object(J.jsx)(Fe.b,{latitude:e.location.latitude,longitude:e.location.longitude,children:Object(J.jsx)("button",{className:"marker-btn",onMouseEnter:a=>{a.preventDefault(),c(!0),i(e.location.latitude),l(e.location.longitude),g(e.location.latitude),f(e.location.longitude),j(t)},onMouseLeave:e=>{e.preventDefault(),c(!1)},onClick:()=>(e=>{v?(w(!1),E({...I,width:"100%"})):(w(!0),E({...I,width:"100%"}),p(e.phoneNumber))})(e),children:Object(J.jsx)(D.a,{sx:{backgroundColor:"orange"},children:T(e.fullName)})})},e.phoneNumber))),n?Object(J.jsx)(Fe.c,{latitude:o,longitude:r,onClose:()=>{c(!1),i(0),l(0)},children:Object(J.jsxs)("div",{children:[Object(J.jsx)("h2",{style:{textAlign:"center",marginBottom:"10px"},children:k[d].fullName}),y?Object(J.jsx)("p",{children:"Fetching Location ..."}):Object(J.jsx)("p",{children:b.formattedAddress})]})}):null]})}),v&&Object(J.jsx)(C.a,{className:"location-history",sx:{width:400,display:"flex",justifyContent:"flex-start",height:"82vh",overflowY:"scroll"},children:0!==N.length?Object(J.jsx)(Xe,{locations:N}):Object(J.jsx)(C.a,{sx:{width:300,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(J.jsx)(de.a,{component:"h5",variant:"h5",children:"No History Found"})})})]})]})};var at=x.a.memo(tt),st=a(193),nt=a.n(st);const ct="CREATE_HOTSPOT_SUCCESS",ot="CREATE_HOTSPOT_FAIL",it="GET_HOTSPOT_SUCCESS",rt="GET_HOTSPOT_FAIL",lt="UPDATE_HOTSPOT_SUCCESS",dt="UPDATE_HOTSPOT_FAIL",jt="DELETE_HOTSPOT_SUCCESS",ut="DELETE_HOTSPOT_FAIL",pt="CREATE_GROUP_SUCCESS",bt="CREATE_GROUP_FAIL",ht="GET_GROUP_SUCCESS",mt="GET_GROUP_FAIL",xt="UPDATE_GROUP_SUCCESS",gt="UPDATE_GROUP_FAIL",Ot="DELETE_GROUP_SUCCESS",ft="DELETE_GROUP_FAIL",yt="CREATE_ADMIN_SUCCESS",St="CREATE_ADMIN_FAIL",vt="GET_ADMIN_SUCCESS",Ct="GET_ADMIN_FAIL",wt="UPDATE_ADMIN_SUCCESS",Nt="UPDATE_ADMIN_FAIL",Dt="DELETE_ADMIN_SUCCESS",At="DELETE_ADMIN_FAIL",kt="CREATE_DEVICE_SUCCESS",Lt="CREATE_DEVICE_FAIL",It="GET_DEVICE_SUCCESS",Et="GET_DEVICE_FAIL",Tt="UPDATE_DEVICE_SUCCESS",_t="UPDATE_DEVICE_FAIL",Pt="DELETE_DEVICE_SUCCESS",Mt="DELETE_DEVICE_FAIL",Gt=e=>async t=>{try{const{data:a}=await $e.a.get(`${Ue}/get/devices/${e}`);t({type:It,payload:a})}catch(a){t({type:Et,payload:a.message})}},Ft=e=>async t=>{try{const a={headers:{"Content-Type":"application/json"}},{data:s}=await $e.a.post(`${Ue}/get/devices/admin`,e,a);t({type:It,payload:s})}catch(a){t({type:Et,payload:a.message})}},Ht=e=>async t=>{try{const a={headers:{"Content-Type":"application/json"}},{data:s}=await $e.a.post(`${Ue}/get/hotspots/admin`,e,a);t({type:it,payload:s})}catch(a){t({type:rt,payload:a.message})}},$t=e=>async t=>{try{const{data:a}=await $e.a.get(`${Ue}/get/hotspots/${e}`);t({type:it,payload:a})}catch(a){t({type:rt,payload:a.message})}};a(7);const zt=e=>async t=>{try{const{data:a}=await $e.a.get(`${Ue}/get/admins/${e}`);t({type:vt,payload:a})}catch(a){t({type:Ct,payload:a.message})}},Ut=e=>async t=>{try{const{data:a}=await $e.a.get(`${Ue}/get/groups/${e}`);t({type:ht,payload:a})}catch(a){t({type:mt,payload:a.message})}},Wt=Object(d.a)((e=>({root:{height:"100%"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}})));var Bt=()=>{const e=Wt(),[t,a]=Object(m.useState)(-1),[s,n]=Object(m.useState)([]),[c,i]=Object(m.useState)(""),[r,l]=Object(m.useState)([]),[d,j]=Object(m.useState)(!1),[u,p]=Object(m.useState)(null),[b,h]=Object(m.useState)(null),[x,g]=Object(m.useState)(null),[O,f]=Object(m.useState)(null),S=Boolean(O),k=Object(o.b)(),L=Object(o.c)((e=>e.devices)),{deviceList:I}=L,E=()=>{f(null)},T=(e,t)=>{"clickaway"!==t&&(j(!1),h(null),p(null))},_=JSON.parse(localStorage.getItem("userData")),P=JSON.parse(localStorage.getItem("adminData"));Object(m.useEffect)((()=>{if(null===P&&null!==_&&(k(Gt(_.uid)),k($t(_.uid)),k(Ut(_.uid)),k(zt(_.uid))),null!==P&&null!==_){(async()=>{const{data:e}=await $e.a.get(`${Ue}/get/admin/${P.email}`);k(Ft({createdBy:_.uid,adminGroups:e.groups})),k(Ht({createdBy:_.uid,adminGroups:e.groups}))})()}}),[k]),Object(m.useEffect)((()=>{if(0!==I.length){(async()=>{const e=I.map((e=>e.phoneNumber));try{const t={headers:{"Content-Type":"application/json"}},a={phoneNumbers:e},{data:s}=await $e.a.post(`${Ue}/get/livelocations`,a,t);n(s)}catch(b){console.log(b.message)}})()}}),[I]),Object(m.useEffect)((()=>{0===c.length&&l([]),a(-1);const e=I.filter((e=>e.fullName.toLowerCase().includes(c.toLowerCase())));l(e)}),[c]),Object(m.useEffect)((()=>{if("all"===x)return void l([]);const e=I.filter((e=>e.trackingStatus===x));l(e)}),[x]);const M=(e,t)=>{a(t)},G=e=>{g(e),E()},F=e=>{const t=e.split(" ");return t[0].split("")[0].toUpperCase()+t[1].split("")[0].toUpperCase()};return Object(J.jsxs)(C.a,{className:e.root,children:[Object(J.jsxs)(ve.a,{container:!0,sx:{height:"inherit"},children:[Object(J.jsx)(ve.a,{item:!0,xs:2.4,sx:{height:"100%",overflowY:"scroll"},className:"gridItem",children:Object(J.jsxs)(Le.a,{sx:{minHeight:"100%"},className:e.paper,children:[Object(J.jsxs)(C.a,{sx:{maxWidth:500},children:[Object(J.jsx)(Ce.a,{fullWidth:!0,InputProps:{startAdornment:Object(J.jsx)(we.a,{position:"start",children:Object(J.jsx)(Ne.a,{fontSize:"small",color:"action",children:Object(J.jsx)(Pe.a,{})})}),endAdornment:Object(J.jsx)(y.a,{onClick:e=>{f(e.currentTarget)},children:Object(J.jsx)(Ne.a,{fontSize:"small",color:"action",children:Object(J.jsx)(nt.a,{})})})},placeholder:"Search user",variant:"outlined",onChange:e=>i(e.target.value)}),Object(J.jsxs)(De.a,{anchorEl:O,open:S,onClose:E,children:[Object(J.jsx)(Ae.a,{sx:{py:1.2,px:2.5},onClick:()=>{G("all"),a(-1)},children:"All Requests"}),Object(J.jsx)(Ae.a,{sx:{py:1.2,px:2.5},onClick:()=>{G("accepted"),a(-1)},children:"Accepted Requests"}),Object(J.jsx)(Ae.a,{sx:{py:1.2,px:2.5},onClick:()=>{G("rejected"),a(-1)},children:"Rejected Requests"}),Object(J.jsx)(Ae.a,{sx:{py:1.2,px:2.5},onClick:()=>{G("pending"),a(-1)},children:"Pending Requests"})]})]}),Object(J.jsxs)(v.a,{component:"nav",children:[Object(J.jsxs)(w.a,{button:!0,sx:{mt:.5,mb:.5,backgroundColor:"#F5F5F5",pt:1.5,pb:1.5},selected:-1===t,onClick:()=>a(-1),children:[Object(J.jsx)(N.a,{children:Object(J.jsx)(D.a,{sx:{backgroundColor:"orange"},children:Object(J.jsx)(Ee.a,{})})}),Object(J.jsx)(A.a,{primary:"Overview All Devices"})]},-1),0===r.length&&void 0!==I&&null!==I&&I.map(((e,a)=>Object(J.jsxs)(w.a,{button:!0,disabled:"pending"===e.trackingStatus,sx:{mt:.5,mb:.5,py:2,backgroundColor:"#F5F5F5",borderLeft:"accepted"===e.trackingStatus?"6px solid green":"rejected"===e.trackingStatus?"6px solid red":"6px solid orange"},selected:t===a,onClick:e=>M(0,a),children:[Object(J.jsx)(N.a,{children:Object(J.jsx)(D.a,{sx:{backgroundColor:"orange"},children:Object(J.jsx)(de.a,{fontSize:16,letterSpacing:1,children:F(e.fullName)})})}),Object(J.jsx)(A.a,{primary:e.fullName})]},a))),0!==r.length&&r.map(((e,a)=>Object(J.jsxs)(w.a,{button:!0,disabled:"pending"===e.trackingStatus,sx:{mt:.5,mb:.5,py:2,backgroundColor:"#F5F5F5",borderLeft:"accepted"===e.trackingStatus?"6px solid green":"rejected"===e.trackingStatus?"6px solid red":"6px solid orange"},selected:t===a,onClick:e=>M(0,a),children:[Object(J.jsx)(N.a,{children:Object(J.jsx)(D.a,{sx:{backgroundColor:"orange"},children:Object(J.jsx)(de.a,{fontSize:16,letterSpacing:1,children:F(e.fullName)})})}),Object(J.jsx)(A.a,{primary:e.fullName})]},a)))]})]})}),Object(J.jsxs)(ve.a,{item:!0,xs:9.6,sx:{height:"100%"},children:[Object(J.jsx)(ke.a,{direction:"row",justifyContent:"space-between",sx:{padding:2},children:Object(J.jsx)(de.a,{variant:"h4",component:"h2",children:"Current Activity"})}),Object(J.jsxs)(C.a,{sx:{height:"90%",py:1},children:[-1===t&&Object(J.jsx)(at,{userList:s,senderId:null===_||void 0===_?void 0:_.uid,trackingList:I}),t>=0&&0===r.length&&Object(J.jsx)(et,{user:I[t],index:t}),t>=0&&0!==r.length&&Object(J.jsx)(et,{user:r[t],index:t})]})]})]}),null!==u&&Object(J.jsx)(Te.a,{open:d,autoHideDuration:4e3,onClose:T,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:T,severity:"success",sx:{width:"100%"},children:u})}),null!==b&&Object(J.jsx)(Te.a,{open:d,autoHideDuration:4e3,onClose:T,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:T,severity:"error",sx:{width:"100%"},children:b})})]})},Rt=a(425),Vt=a(122),Jt=a.n(Vt),Yt=a(440),qt=a(437),Kt=a(419),Zt=a(424),Xt=a(441),Qt=a(454),ea=a(124),ta=a.n(ea),aa=a(123),sa=a.n(aa);const na=Object(d.a)((e=>({image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},login:{margin:e.spacing(5,0,2),padding:e.spacing(1.4),fontSize:15},googleLogin:{margin:e.spacing(2,0,2),fontSize:15}})));var ca=()=>{const e=na(),t=Object(i.g)(),[a,s]=Object(m.useState)(""),[n,o]=Object(m.useState)(""),[r,l]=Object(m.useState)(!1),[d,j]=Object(m.useState)(""),[u,p]=Object(m.useState)(!1),[b,h]=Object(m.useState)(!1),g=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,O=async()=>{Object(M.g)(z,a,n).then((async e=>{localStorage.setItem("authToken",e.user.accessToken);try{const{data:e}=await $e.a.get(`${Ue}/get/admin/${a}`),s=Object(G.e)($,"trackerWebUser",e.createdBy),n=await Object(G.f)(s);n.exists()&&localStorage.setItem("userData",JSON.stringify(n.data())),localStorage.setItem("adminData",JSON.stringify(e)),e.passwordChanged?t("/app/dashboard",{replace:!0}):t("/admin/change-password",{replace:!0})}catch(s){console.log(s.message)}})).catch((e=>{const t=e.code;j(S(t)),l(!0)}))},f=async()=>{Object(M.g)(z,a,n).then((async e=>{const a=e.user;localStorage.setItem("authToken",a.accessToken);const s=Object(G.e)($,"trackerWebUser",a.uid),n=await Object(G.f)(s);n.exists()?(localStorage.setItem("userData",JSON.stringify(n.data())),t("/app/dashboard",{replace:!0})):console.log("No such document!")})).catch((e=>{const t=e.code;j(S(t)),l(!0)}))},S=e=>(console.log(e),e.split("/")[1].split("-").join(" "));return Object(J.jsxs)(x.a.Fragment,{children:[Object(J.jsxs)(ve.a,{sx:{height:"100%"},container:!0,component:"main",className:e.root,children:[Object(J.jsx)(K.a,{}),Object(J.jsx)(ve.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(J.jsx)(ve.a,{item:!0,xs:12,sm:8,md:5,component:Le.a,elevation:6,square:!0,children:Object(J.jsxs)("div",{className:e.paper,children:[Object(J.jsx)(D.a,{className:e.avatar,children:Object(J.jsx)(Jt.a,{})}),Object(J.jsx)(de.a,{component:"h1",variant:"h1",sx:{mt:1,mb:4},children:"GPS REPORT"}),Object(J.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:a,onChange:e=>s(e.target.value)}),Object(J.jsxs)(qt.a,{sx:{my:2},variant:"outlined",required:!0,fullWidth:!0,children:[Object(J.jsx)(Kt.a,{htmlFor:"Password",children:"Password"}),Object(J.jsx)(Zt.a,{variant:"outlined",type:b?"text":"password",value:n,onChange:e=>o(e.target.value),endAdornment:Object(J.jsx)(we.a,{position:"end",children:Object(J.jsx)(y.a,{onClick:()=>{h(!b)},edge:"end",children:b?Object(J.jsx)(sa.a,{}):Object(J.jsx)(ta.a,{})})}),label:"Password"})]}),Object(J.jsx)(C.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(J.jsx)(Yt.a,{component:c.b,to:"/forget-password",variant:"body2",underline:"hover",children:Object(J.jsx)(de.a,{component:"p",children:"Forgot password?"})})}),u?Object(J.jsx)(Qt.a,{clicked:!0,fullWidth:!0,loadingPosition:"start",startIcon:Object(J.jsx)(Xt.a,{style:{color:"white"},size:20}),variant:"contained",className:e.login,children:"LOGIN"}):Object(J.jsx)(Rt.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.login,onClick:()=>(async()=>{if(0===a.length)return j("Email is required"),void l(!0);if(!a.match(g))return j("Invalid Email"),void l(!0);if(n.length<6)return j("Password must be 6 character long"),void l(!0);const e=Object(G.c)($,"trackerWebUser"),t=Object(G.l)(e,Object(G.p)("email","==",a));await Object(G.g)(t).then((async e=>{0!==e.size?(p(!0),f()):(p(!0),O())}))})(),children:"LOGIN"}),Object(J.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",mt:5},children:Object(J.jsx)(Yt.a,{component:c.b,to:"/register",variant:"body2",underline:"hover",children:Object(J.jsx)(de.a,{component:"p",children:"Don't have an account? Sign up for free"})})})]})]})})]}),d&&Object(J.jsx)(Te.a,{open:r,autoHideDuration:4e3,onClose:()=>l(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:()=>l(!1),severity:"error",sx:{width:"100%"},variant:"filled",children:d})})]})};var oa=()=>Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Me.a,{children:Object(J.jsx)("title",{children:"404 | Material Kit"})}),Object(J.jsx)(C.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(J.jsxs)(Ge.a,{maxWidth:"md",children:[Object(J.jsx)(de.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(J.jsx)(de.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(J.jsx)(C.a,{sx:{textAlign:"center"},children:Object(J.jsx)("img",{alt:"Under development",src:"/static/images/undraw_page_not_found_su7k.svg",style:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}})})]})})]}),ia=a(442),ra=a(413);const la=Object(d.a)((e=>({image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(4,2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},login:{margin:e.spacing(3,0,2),padding:e.spacing(1.4),fontSize:15},googleLogin:{margin:e.spacing(2,0,2),fontSize:15}})));var da=()=>{const e=la(),t=Object(i.g)(),[a,s]=Object(m.useState)(""),[n,o]=Object(m.useState)(""),[r,l]=Object(m.useState)(""),[d,j]=Object(m.useState)(""),[u,p]=Object(m.useState)(""),[b,h]=Object(m.useState)(!1),[g,O]=Object(m.useState)(!1),[f,S]=Object(m.useState)(""),[v,w]=Object(m.useState)(!1),[N,A]=Object(m.useState)(!1),k=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,L=async()=>{Object(M.b)(z,a,n).then((async e=>{const a=e.user;Object(M.j)(z.currentUser,{displayName:r+d}).catch((e=>console.log(e.message)));const s={uid:a.uid,firstName:r,lastName:d,email:a.email,profilePhoto:"https://th.bing.com/th/id/OIP.9B2RxsHDB_s7FZT0mljnhQHaHa?pid=ImgDet&rs=1",companyName:u,createdAt:Object(G.m)()};localStorage.setItem("authToken",a.accessToken);const n=Object(G.e)($,"trackerWebUser",a.uid);await Object(G.n)(n,s).then((()=>{localStorage.setItem("userData",JSON.stringify(s)),t("/app/dashboard",{replace:!0})})).catch((e=>{const t=e.code;S(I(t)),O(!0)}))})).catch((e=>{const t=e.code;S(I(t)),O(!0)}))},I=e=>e.split("/")[1].split("-").join(" ");return Object(J.jsxs)(x.a.Fragment,{children:[Object(J.jsxs)(ve.a,{sx:{height:"100%"},container:!0,component:"main",children:[Object(J.jsx)(K.a,{}),Object(J.jsx)(ve.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(J.jsx)(ve.a,{item:!0,xs:12,sm:8,md:5,component:Le.a,elevation:6,square:!0,sx:{p:2},children:Object(J.jsxs)("div",{className:e.paper,children:[Object(J.jsx)(D.a,{className:e.avatar,children:Object(J.jsx)(Jt.a,{})}),Object(J.jsx)(de.a,{component:"h1",variant:"h1",sx:{mt:1,mb:4},children:"GPS REPORT"}),Object(J.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"name",autoFocus:!0,value:r,onChange:e=>l(e.target.value)}),Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"name",value:d,onChange:e=>j(e.target.value)}),Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:a,onChange:e=>s(e.target.value)}),Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Company Name",name:"companyName",autoComplete:"text",value:u,onChange:e=>p(e.target.value)}),Object(J.jsxs)(qt.a,{sx:{my:2},variant:"outlined",required:!0,fullWidth:!0,children:[Object(J.jsx)(Kt.a,{htmlFor:"Password",children:"Password"}),Object(J.jsx)(Zt.a,{variant:"outlined",type:N?"text":"password",value:n,onChange:e=>o(e.target.value),endAdornment:Object(J.jsx)(we.a,{position:"end",children:Object(J.jsx)(y.a,{onClick:()=>{A(!N)},edge:"end",children:N?Object(J.jsx)(sa.a,{}):Object(J.jsx)(ta.a,{})})}),label:"Password"})]}),Object(J.jsx)(ia.a,{control:Object(J.jsx)(ra.a,{value:"remember",color:"primary",checked:b,onChange:e=>h(e.target.checked)}),label:Object(J.jsxs)(de.a,{component:"p",children:["I have read the"," ",Object(J.jsx)(Yt.a,{href:"#",sx:{color:"blue"},children:"Terms and Conditions"})]})}),v?Object(J.jsx)(Qt.a,{clicked:!0,fullWidth:!0,loadingPosition:"start",startIcon:Object(J.jsx)(Xt.a,{style:{color:"white"},size:20}),variant:"contained",className:e.login,children:"Sign Up"}):Object(J.jsx)(Rt.a,{disabled:!b,fullWidth:!0,variant:"contained",color:"primary",className:e.login,onClick:()=>(async()=>{0===r.length?(S("First Name is required field"),O(!0)):0===d.length?(S("Last Name is required field"),O(!0)):0===a.length?(S("Email is required field"),O(!0)):a.match(k)?n.length<6?(S("Password must be atleast 6 character long"),O(!0)):0===u.length?(S("Company Name is required field"),O(!0)):(w(!0),L()):(S("Invalid Email"),O(!0))})(),children:"Sign Up"}),Object(J.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",mt:5},children:Object(J.jsx)(Yt.a,{component:c.b,to:"/login",variant:"body2",underline:"hover",children:Object(J.jsx)(de.a,{component:"p",children:"Already have an account? Login here"})})})]})]})})]}),f&&Object(J.jsx)(Te.a,{open:g,autoHideDuration:4e3,onClose:()=>O(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:()=>O(!1),severity:"error",sx:{width:"100%"},variant:"filled",children:f})})]})},ja=a(445),ua=a(446),pa=a(448),ba=a(444),ha=a(449),ma=a(447),xa=a(443),ga=a(196),Oa=a.n(ga),fa=a(149),ya=a.n(fa);function Sa(e){const{row:t,hotspotList:a,selectedHotspots:s,selectedGroups:n,selectedMonth:c}=e,[o,i]=m.useState(!1),[r,l]=m.useState([]),[d,j]=m.useState(!1),u=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null,p=t.hotspots.map((e=>e.hotspot)),b=e=>p.findIndex((t=>t===e._id));return m.useEffect((async()=>{try{j(!0);const{data:e}=await $e.a.get(`${Ue}/get/location/${u.uid}/${t.phoneNumber}/${c+1}`);if(0===n.length)l(e),j(!1);else{const t=await(async e=>new Promise((t=>{const a=[];for(let s of n){console.log("inside");for(let t of e)s===t.group._id&&a.push(t)}console.log("Here"),t(a)})))(e);l(t),j(!1)}}catch(e){console.log(e.message)}}),[n]),Object(J.jsxs)(m.Fragment,{children:[Object(J.jsxs)(xa.a,{sx:{"& > *":{borderBottom:"unset"}},children:[Object(J.jsx)(ba.a,{children:Object(J.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:()=>i(!o),children:o?Object(J.jsx)(ya.a,{}):Object(J.jsx)(Oa.a,{})})}),Object(J.jsx)(ba.a,{component:"th",scope:"row",children:t.device}),Object(J.jsx)(ba.a,{align:"center",children:t.phoneNumber}),0===s.length&&a.map(((e,a)=>Object(J.jsx)(m.Fragment,{children:-1!==b(e)?Object(J.jsx)(ba.a,{align:"center",children:t.hotspots[b(e)].total},e.hotspot):Object(J.jsx)(ba.a,{align:"center",children:"0"},e.hotspot)},e.hotspot))),0!==s.length&&s.map(((e,a)=>Object(J.jsx)(m.Fragment,{children:-1!==b(e)?Object(J.jsx)(ba.a,{align:"center",children:t.hotspots[b(e)].total},e.hotspot):Object(J.jsx)(ba.a,{align:"center",children:"0"},e.hotspot)},e.hotspot)))]}),Object(J.jsx)(xa.a,{children:Object(J.jsx)(ba.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(J.jsx)(ja.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(J.jsxs)(C.a,{sx:{margin:1},children:[Object(J.jsx)(de.a,{variant:"h6",sx:{my:2},component:"div",children:"History"}),Object(J.jsxs)(ua.a,{size:"small","aria-label":"purchases",children:[Object(J.jsx)(ma.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(ba.a,{children:"Date"}),Object(J.jsx)(ba.a,{children:"Address"}),Object(J.jsx)(ba.a,{align:"right",children:"Hotspot"}),Object(J.jsx)(ba.a,{align:"right",children:"Group"})]})}),Object(J.jsx)(pa.a,{children:!d&&r.map(((e,t)=>Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(ba.a,{sx:{borderWidth:0,padding:"16px"},component:"th",scope:"row",children:B()(e.createdAt).format("DD MMMM YYYY - hh:mm a")}),Object(J.jsx)(ba.a,{sx:{borderWidth:0,padding:"16px"},children:e.address}),Object(J.jsx)(ba.a,{sx:{borderWidth:0,padding:"16px"},align:"right",children:e.hotspot.hotspotName}),Object(J.jsx)(ba.a,{sx:{borderWidth:0,padding:"16px"},align:"right",children:e.group.groupName})]},t+1)))})]}),d&&Object(J.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",width:"100%",my:3},children:Object(J.jsx)(Xt.a,{sx:{fontSize:30}})})]})})})})]})}const va=e=>(console.log(e.tableData),Object(J.jsx)(ha.a,{component:Le.a,children:Object(J.jsxs)(ua.a,{children:[Object(J.jsx)(ma.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(ba.a,{}),Object(J.jsx)(ba.a,{children:"Full Name"}),Object(J.jsx)(ba.a,{align:"center",children:"Phone Number"}),0===e.selectedHotspots.length&&e.hotspotList.map(((e,t)=>Object(J.jsx)(ba.a,{align:"center",children:e.hotspotName},e._id))),0!==e.selectedHotspots.length&&e.selectedHotspots.map(((e,t)=>Object(J.jsx)(ba.a,{align:"center",children:e.hotspotName},e._id)))]})}),Object(J.jsxs)(pa.a,{children:[0!==e.tableData.length&&e.tableData.map((t=>Object(J.jsx)(Sa,{row:t,hotspotList:e.hotspotList,selectedHotspots:e.selectedHotspots,selectedGroups:e.selectedGroups,selectedMonth:e.selectedMonth},t.phoneNumber))),0===e.tableData.length&&e.deviceList.map((t=>Object(J.jsxs)(xa.a,{sx:{"& > *":{borderBottom:"unset"}},children:[Object(J.jsx)(ba.a,{children:Object(J.jsx)(y.a,{"aria-label":"expand row",size:"small",children:Object(J.jsx)(ya.a,{})})}),Object(J.jsx)(ba.a,{component:"th",scope:"row",children:t.fullName}),Object(J.jsx)(ba.a,{align:"center",children:t.phoneNumber}),0===e.selectedHotspots.length&&e.hotspotList.map(((e,t)=>Object(J.jsx)(m.Fragment,{children:Object(J.jsx)(ba.a,{align:"center",children:"0"},e.hotspot)},e.hotspot))),0!==e.selectedHotspots.length&&e.selectedHotspots.map(((e,t)=>Object(J.jsx)(m.Fragment,{children:Object(J.jsx)(ba.a,{align:"center",children:"0"},e.hotspot)},e.hotspot)))]})))]})]})}));var Ca=m.memo(va),wa=a(414);const Na={PaperProps:{style:{maxHeight:224}}},Da=e=>Object(J.jsxs)(qt.a,{variant:"outlined",sx:{width:"250px",ml:3},children:[Object(J.jsx)(Kt.a,{id:"hotspotFilter",children:"Hotspots"}),Object(J.jsx)(wa.a,{id:"hotspotFilter",multiple:!0,value:e.selectedHotspots,onChange:e.handleHotspotSelect,input:Object(J.jsx)(Zt.a,{label:"Hotspots"}),renderValue:()=>e.selectedHotspotsNames.join(", "),MenuProps:Na,children:e.hotspotNames.map((t=>Object(J.jsxs)(Ae.a,{value:t._id,children:[Object(J.jsx)(ra.a,{checked:e.selectedHotspots.indexOf(t._id)>-1}),Object(J.jsx)(A.a,{primary:t.hotspotName})]},t._id)))})]});var Aa=x.a.memo(Da);const ka={PaperProps:{style:{maxHeight:224}}},La=e=>Object(J.jsxs)(qt.a,{variant:"outlined",sx:{width:"250px",ml:3},children:[Object(J.jsx)(Kt.a,{children:"Mobile Devices"}),Object(J.jsx)(wa.a,{label:"Mobile Devices",multiple:!0,value:e.selectedDevices,onChange:e.handleSelectedDevice,input:Object(J.jsx)(Zt.a,{label:"Mobile Devices"}),renderValue:e=>e.join(", "),MenuProps:ka,children:e.mobileDevices.map(((t,a)=>Object(J.jsxs)(Ae.a,{value:`${t.fullName} - ${t.phoneNumber}`,children:[Object(J.jsx)(ra.a,{checked:e.selectedDevices.indexOf(`${t.fullName} - ${t.phoneNumber}`)>-1}),Object(J.jsx)(A.a,{primary:`${t.fullName} | ${t.phoneNumber}`})]},t._id)))})]});var Ia=x.a.memo(La);const Ea=e=>{const[t,a]=x.a.useState(!1),[s,n]=x.a.useState(!1);x.a.useEffect((()=>{null!==e.subscription&&a(1===e.subscription.reportCount)}),[e.subscription]);return console.log(t),Object(J.jsxs)(x.a.Fragment,{children:[Object(J.jsxs)(qt.a,{variant:"outlined",sx:{width:"250px",ml:3},children:[Object(J.jsx)(Kt.a,{children:"Month"}),Object(J.jsx)(wa.a,{value:e.selectedMonth,onChange:t?()=>{n(!0)}:t=>e.setSelectedMonth(t.target.value),label:"Month",children:e.Months.map(((e,t)=>Object(J.jsx)(Ae.a,{sx:{py:1.2,px:2},value:e,children:e},t)))})]}),Object(J.jsx)(Te.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:s,autoHideDuration:6e3,onClose:()=>n(!1),children:Object(J.jsx)(_e.a,{onClose:()=>n(!1),severity:"error",variant:"filled",sx:{width:"100%"},children:"You cannot use this feature. Please upgrade your plan."})})]})};var Ta=x.a.memo(Ea);const _a={PaperProps:{style:{maxHeight:224}}},Pa=e=>Object(J.jsxs)(qt.a,{variant:"outlined",sx:{width:"250px",ml:3},children:[Object(J.jsx)(Kt.a,{id:"hotspotFilter",children:"Groups"}),Object(J.jsx)(wa.a,{id:"hotspotFilter",multiple:!0,value:e.selectedGroups,onChange:e.handleGroupSelect,input:Object(J.jsx)(Zt.a,{label:"Groups"}),renderValue:()=>e.selectedGroupsNames.join(", "),MenuProps:_a,children:e.groupNames.map(((t,a)=>Object(J.jsxs)(Ae.a,{value:t._id,children:[Object(J.jsx)(ra.a,{checked:e.selectedGroups.indexOf(t._id)>-1}),Object(J.jsx)(A.a,{primary:t.groupName})]},t._id)))})]});var Ma=x.a.memo(Pa),Ga=a(197),Fa=a.n(Ga);const Ha={customerId:null,subscriptions:[],cart:{}},$a=(e,t)=>{if("SUBSCRIPTION_DATA_CHANGED"===t.type){const{customerId:a,subscriptions:s}=t.payload;return{...e,customerId:a,subscriptions:s,isInitialized:!0}}if("SELECT_PRODUCT"===t.type){console.log("Success",t.payload);const{cart:a}=t.payload;return{...e,cart:a}}if("PAYMENT_DETAILS"===t.type){console.log("Success",t.payload);const{details:a}=t.payload;return{...e,cart:{...e.cart,details:a}}}return e},za=Object(m.createContext)({...Ha}),Ua=e=>{const{children:t}=e,[a,s]=Object(m.useReducer)($a,Ha);Object(m.useEffect)((async()=>{Object(M.d)(z,(async e=>{null===e&&s({type:"SUBSCRIPTION_DATA_CHANGED",payload:{customerId:null,subscriptions:[]}});try{const t=Object(G.e)($,"trackerWebUser",e.uid),a=await Object(G.f)(t);let o;if(a.exists()){const e=a.data();o={uid:e.uid,displayName:`${e.firstName} ${e.lastName}`,email:e.email}}else{const t=e.email;console.log(e);const{data:a}=await $e.a.get(`${Ue}/get/admin/${t}`),{createdBy:s}=a,n=Object(G.e)($,"trackerWebUser",s),c=await Object(G.f)(n);if(c.exists()){const e=c.data();o={uid:e.uid,displayName:`${e.firstName} ${e.lastName}`,email:e.email}}}if(o){const e=await n(o);if(e){const t=await c(null===e||void 0===e?void 0:e.id);s({type:"SUBSCRIPTION_DATA_CHANGED",payload:{customerId:null===e||void 0===e?void 0:e.id,subscriptions:t}})}}else s({type:"SUBSCRIPTION_DATA_CHANGED",payload:{customerId:null,subscriptions:[]}})}catch(t){console.log(t.message),s({type:"SUBSCRIPTION_DATA_CHANGED",payload:{customerId:null,subscriptions:[]}})}}))}),[s]);const n=async({uid:e,displayName:t,email:a})=>{const s={userId:e,name:t,email:a},{data:n}=await $e.a.post(`${Ue}/create/customer`,s,{headers:{"Content-type":"application/json"}});return n},c=async e=>{console.log(e);const{data:t}=await $e.a.get(`${Ue}/subscriptions/${e}`);return t.result};return Object(J.jsx)(za.Provider,{value:{state:a,dispatch:s,fetchSubscriptions:c},children:t})},Wa=za.Consumer,Ba=()=>Object(m.useContext)(za),Ra=async e=>{let t;if(0!==e.subscriptions.length)for(let s of null===e||void 0===e||null===(a=e.subscriptions)||void 0===a?void 0:a.data){var a;if("active"===s.status){t=s;break}}if(t){const e=await(async()=>{const{data:e}=await $e.a.get(`${Ue}/subscription/config`);return e.prices})(),a=0!==e.length?e.filter((e=>e.id===t.plan.id)):[];if(0!==a.length){const e=a[0],s=e.product.name;return{planId:e.id,productName:s,productId:e.product.id,hotspotCount:"Pro Plan"===s?Number.MAX_VALUE:10,deviceCount:"Pro Plan"===s?t.quantity:Number.MAX_VALUE,groupCount:"Pro Plan"===s?Number.MAX_VALUE:2,adminCount:"Pro Plan"===s?Number.MAX_VALUE:0,reportCount:"Pro Plan"===s?Number.MAX_VALUE:1}}}return null};function Va(e){const{row:t,hotspotList:a,selectedHotspots:s,selectedGroups:n,selectedMonth:c}=e,[o,i]=m.useState([]),[r,l]=m.useState(!1),d=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null,j=t.hotspots.map((e=>e.hotspot)),u=e=>j.findIndex((t=>t===e._id));return m.useEffect((async()=>{try{l(!0);const{data:e}=await $e.a.get(`${Ue}/get/location/${d.uid}/${t.phoneNumber}/${c+1}`);if(0===n.length)i(e),l(!1);else{const t=await(async e=>new Promise((t=>{const a=[];for(let s of n){console.log("inside");for(let t of e)s===t.group._id&&a.push(t)}t(a)})))(e);i(t),l(!1)}}catch(e){console.log(e.message)}}),[n]),Object(J.jsxs)(m.Fragment,{children:[Object(J.jsxs)(xa.a,{sx:{"& > *":{borderBottom:"unset"}},children:[Object(J.jsx)(ba.a,{}),Object(J.jsx)(ba.a,{component:"th",scope:"row",children:t.device}),Object(J.jsx)(ba.a,{align:"center",children:t.phoneNumber}),0===s.length&&a.map(((e,a)=>Object(J.jsx)(m.Fragment,{children:-1!==u(e)?Object(J.jsx)(ba.a,{align:"center",children:t.hotspots[u(e)].total},e.hotspot):Object(J.jsx)(ba.a,{align:"center",children:"0"},e.hotspot)},e.hotspot))),0!==s.length&&s.map(((e,a)=>Object(J.jsx)(m.Fragment,{children:-1!==u(e)?Object(J.jsx)(ba.a,{align:"center",children:t.hotspots[u(e)].total},e.hotspot):Object(J.jsx)(ba.a,{align:"center",children:"0"},e.hotspot)},e.hotspot)))]}),Object(J.jsx)(xa.a,{children:Object(J.jsx)(ba.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(J.jsxs)(C.a,{sx:{margin:1},children:[Object(J.jsx)(de.a,{variant:"h6",sx:{my:2},component:"div",children:"History"}),Object(J.jsxs)(ua.a,{size:"small","aria-label":"purchases",children:[Object(J.jsx)(ma.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(ba.a,{children:"Date"}),Object(J.jsx)(ba.a,{children:"Address"}),Object(J.jsx)(ba.a,{align:"right",children:"Hotspot"}),Object(J.jsx)(ba.a,{align:"right",children:"Group"})]})}),Object(J.jsxs)(pa.a,{children:[!r&&o.map(((e,t)=>Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(ba.a,{sx:{borderWidth:0,padding:"16px"},component:"th",scope:"row",children:B()(e.createdAt).format("DD MMMM YYYY - hh:mm a")}),Object(J.jsx)(ba.a,{sx:{borderWidth:0,padding:"16px"},children:e.address}),Object(J.jsx)(ba.a,{sx:{borderWidth:0,padding:"16px"},align:"right",children:e.hotspot.hotspotName}),Object(J.jsx)(ba.a,{sx:{borderWidth:0,padding:"16px"},align:"right",children:e.group.groupName})]},t+1))),Object(J.jsx)(xa.a,{})]})]}),r&&Object(J.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",width:"100%",my:3},children:Object(J.jsx)(Xt.a,{sx:{fontSize:30}})})]})})})]})}const Ja=e=>Object(J.jsx)(ha.a,{hidden:!0,component:Le.a,children:Object(J.jsxs)(ua.a,{id:e.id,children:[Object(J.jsx)(ma.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(ba.a,{}),Object(J.jsx)(ba.a,{children:"Full Name"}),Object(J.jsx)(ba.a,{align:"center",children:"Phone Number"}),0===e.selectedHotspots.length&&e.hotspotList.map(((e,t)=>Object(J.jsx)(ba.a,{align:"center",children:e.hotspotName},e._id))),0!==e.selectedHotspots.length&&e.selectedHotspots.map(((e,t)=>Object(J.jsx)(ba.a,{align:"center",children:e.hotspotName},e._id)))]})}),Object(J.jsx)(pa.a,{children:e.tableData.map((t=>Object(J.jsx)(Va,{row:t,hotspotList:e.hotspotList,selectedHotspots:e.selectedHotspots,selectedGroups:e.selectedGroups,selectedMonth:e.selectedMonth},t.phoneNumber)))})]})});var Ya=m.memo(Ja);const qa=["January","February","March","April","May","June","July","August","September","October","November","December"];var Ka=()=>{const[e,t]=Object(m.useState)([]),[a,s]=Object(m.useState)([]),[n,c]=Object(m.useState)([]),[i,r]=Object(m.useState)([]),[l,d]=Object(m.useState)([]),[j,u]=Object(m.useState)([]),[p,b]=Object(m.useState)([]),[h,x]=Object(m.useState)(qa[(new Date).getMonth()]),[g,O]=Object(m.useState)(!1),[f,y]=Object(m.useState)([]),[S,v]=Object(m.useState)(null),w=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null,N=Object(o.c)((e=>e.devices)),{deviceList:D}=N,A=Object(o.c)((e=>e.groups)),{groupList:k}=A,L=Object(o.c)((e=>e.hotspots)),{hotspotList:I}=L,{state:E}=Ba();Object(m.useEffect)((()=>{if(null!==w){O(!0);(async()=>{const{data:e}=await $e.a.get(`${Ue}/get/attendance/${w.uid}/${qa.indexOf(h)+1}`);console.log(e),t(e),O(!1)})()}}),[h]),Object(m.useEffect)((()=>{(async()=>{const e=await Ra(E);v(e)})()}),[]);return Object(m.useEffect)((async()=>{O(!0);let t=[];0!==a.length?a.forEach((e=>{const a=I.filter((t=>t._id===e));t.push(...a)})):t=I,u(t);let s=[];if(0!==p.length){const t=e;p.forEach(((e,a)=>{const n=e.split(" - ")[1],c=t.filter((e=>e.phoneNumber===n));s.push(...c)}))}else s=e;y(s),O(!1)}),[p,a]),Object(J.jsxs)(C.a,{sx:{p:5},children:[Object(J.jsxs)(C.a,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:4},children:[Object(J.jsx)(Ta,{Months:qa,selectedMonth:h,setSelectedMonth:x,subscription:S}),Object(J.jsx)(Aa,{handleHotspotSelect:async e=>{const{target:{value:t}}=e;s("string"===typeof t?t.split(","):t);const a=I.filter((e=>t.includes(e._id)));c(a.map((e=>e.hotspotName)))},selectedHotspots:a,selectedHotspotsNames:n,hotspotNames:I}),Object(J.jsx)(Ma,{handleGroupSelect:async e=>{const{target:{value:t}}=e;r("string"===typeof t?t.split(","):t);const a=k.filter((e=>t.includes(e._id)));d(a.map((e=>e.groupName)))},selectedGroups:i,selectedGroupsNames:l,groupNames:k}),Object(J.jsx)(Ia,{handleSelectedDevice:e=>{const{target:{value:t}}=e;b("string"===typeof t?t.split(","):t)},selectedDevices:p,mobileDevices:D}),Object(J.jsx)(Rt.a,{variant:"outlined",sx:{p:0},children:Object(J.jsx)(Fa.a,{id:"test-table-xls-button",table:"table-to-xls",filename:"report",sheet:"tablexls",className:"export-btn",buttonText:"Export"})})]}),Object(J.jsx)(C.a,{sx:{my:4},children:g?Object(J.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",mt:"300px"},children:Object(J.jsx)(Xt.a,{color:"inherit"})}):Object(J.jsx)(Ca,{tableData:0===p.length?e:f,id:"table-to-xls",hotspotList:I,selectedHotspots:j,selectedGroups:i,selectedMonth:qa.indexOf(h),deviceList:D})}),Object(J.jsx)(C.a,{sx:{my:4},children:g?Object(J.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",mt:"300px"},children:Object(J.jsx)(Xt.a,{color:"inherit"})}):Object(J.jsx)(Ya,{tableData:0===p.length?e:f,id:"table-to-xls",hotspotList:I,selectedHotspots:j,selectedGroups:i,selectedMonth:qa.indexOf(h)})})]})},Za=a(401);var Xa=()=>{const[e,t]=Object(m.useState)("All"),[a,s]=Object(m.useState)([]),[n,c]=Object(m.useState)([]),o=e=>{const t=B()(new Date(1e3*e)).fromNow();switch(t){case"in a few seconds":case"a few seconds ago":return"few sec";case"a minute ago":return"1m";case"an hour ago":return"1h";case"a day ago":return"1day";default:const e=t.split(" ")[0];let a=t.split(" ")[1];return"minutes"!==a&&"minute"!==a||(a="m"),"hours"!==a&&"hour"!==a||(a="h"),"days"!==a&&"day"!==a||(a="d"),e+a}};return Object(m.useEffect)((()=>{const t=a,s=(new Date).getTime();let n=[];if("Today"===e)n=t.filter((e=>new Date(1e3*e.createdAt.seconds).getDate()===new Date(s).getDate()));else if("Last Week"===e){let e=new Date(s).getDate()-7;e<=0&&(e=30+e);const a=new Date(s).getDate();console.log(e,a),n=t.filter((t=>new Date(1e3*t.createdAt.seconds).getDate()>=e||new Date(1e3*t.createdAt.seconds).getDate()<=a))}else n=t;c(n)}),[e]),Object(J.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",m:4},children:Object(J.jsxs)(Le.a,{sx:{width:{md:"70%",lg:"60%",xl:"50%"},p:2,borderRadius:5,boxShadow:5},children:[Object(J.jsx)(ke.a,{direction:"row",justifyContent:"space-between",sx:{p:2},children:Object(J.jsxs)(C.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[Object(J.jsx)(C.a,{children:Object(J.jsx)(de.a,{variant:"h3",children:"Notifications"})}),Object(J.jsxs)(ke.a,{direction:"row",alignItems:"center",children:[Object(J.jsx)(de.a,{variant:"h4",children:"Filter By"}),Object(J.jsxs)(qt.a,{variant:"outlined",sx:{width:250,ml:3},children:[Object(J.jsx)(Kt.a,{children:"Select Filter"}),Object(J.jsxs)(wa.a,{value:e,onChange:e=>{t(e.target.value)},label:"Select Filter",children:[Object(J.jsx)(Ae.a,{value:"All",children:"All"}),Object(J.jsx)(Ae.a,{value:"Today",children:"Today"}),Object(J.jsx)(Ae.a,{value:"Last Week",children:"Last Week"})]})]})]})]})}),Object(J.jsxs)(v.a,{sx:{padding:2},children:["All"===e&&a.map(((e,t)=>Object(J.jsxs)("div",{children:[Object(J.jsxs)(w.a,{sx:{mt:1.5},children:[Object(J.jsx)(N.a,{children:Object(J.jsx)(D.a,{children:Object(J.jsx)(Za.a,{})})}),Object(J.jsx)(A.a,{primary:e.message,secondary:o(e.createdAt.seconds)+" ago"})]}),Object(J.jsx)(k.a,{})]},++t))),"All"!==e&&n.map(((e,t)=>Object(J.jsxs)("div",{children:[Object(J.jsxs)(w.a,{sx:{mt:1.5},children:[Object(J.jsx)(N.a,{children:Object(J.jsx)(D.a,{children:Object(J.jsx)(Za.a,{})})}),Object(J.jsx)(A.a,{primary:e.message,secondary:o(e.createdAt.seconds)+" ago"})]}),Object(J.jsx)(k.a,{})]},++t)))]})]})})},Qa=a(402),es=a(403),ts=a(450),as=a(451);const ss={PaperProps:{style:{maxHeight:224,width:250}}};var ns=e=>{const{setEditDialogOpen:t,editDialogOpen:a,selectedDevice:s,trackingGroups:n,setSnackOpen:c,setError:i}=e,[r,l]=Object(m.useState)(""),[d,j]=Object(m.useState)([]),[u,p]=Object(m.useState)([]),b=Object(o.b)();Object(m.useEffect)((()=>{if(0!==Object.entries(s).length){l(s.fullName);const e=s.groups,t=[];e.forEach((e=>t.push(e._id))),j(t),p(e.filter((e=>t.includes(e._id))).map((e=>e.groupName)))}}),[s]);const h=()=>{if(0===r.length)return i("Full name is required"),void c(!0);const e={_id:s._id,fullName:r,groups:d};b((e=>async(t,a)=>{try{const s={headers:{"Content-Type":"application/json"}},{data:n}=await $e.a.put(`${Ue}/update/device`,e,s);t({type:Tt,payload:n}),sessionStorage.setItem("deviceList",JSON.stringify(a().devices.deviceList))}catch(s){t({type:_t,payload:s.message})}})(e)),l(""),j([]),t(!1)};return Object(J.jsxs)(Qa.a,{open:a,onClose:()=>{t(!1)},children:[Object(J.jsx)(es.a,{sx:{fontSize:22},children:"Edit Device"}),Object(J.jsxs)(ts.a,{sx:{width:500},children:[Object(J.jsx)(Ce.a,{autoFocus:!0,margin:"dense",id:"name",label:"Full Name",type:"text",fullWidth:!0,variant:"outlined",value:r,onChange:e=>l(e.target.value)}),Object(J.jsxs)(qt.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(J.jsx)(Kt.a,{id:"device-group",children:"Select Group"}),Object(J.jsx)(wa.a,{labelId:"device-group",label:"Select Group",value:d,onChange:e=>{const{target:{value:t}}=e;j("string"===typeof t?t.split(","):t);const a=n.filter((e=>t.includes(e._id)));p(a.map((e=>e.groupName)))},multiple:!0,renderValue:()=>u.join(", "),MenuProps:ss,children:n.map((e=>Object(J.jsxs)(Ae.a,{value:e._id,children:[Object(J.jsx)(ra.a,{checked:d.indexOf(e._id)>-1}),Object(J.jsx)(A.a,{primary:e.groupName})]},e._id)))})]})]}),Object(J.jsxs)(as.a,{children:[Object(J.jsx)(Rt.a,{onClick:()=>t(!1),children:"Cancel"}),Object(J.jsx)(Rt.a,{onClick:()=>h(),children:"Save Changes"})]})]})},cs=a(426),os=a(89),is=a.n(os),rs=a(88),ls=a.n(rs);const ds=e=>{const{toggleEditDeviceDialog:t}=e,a=Object(o.c)((e=>e.devices)),{deviceList:s}=a,n=Object(o.b)(),c=async e=>{var t;n((t=e._id,async(e,a)=>{try{await $e.a.delete(`${Ue}/delete/device/${t}`),e({type:Pt,payload:t}),sessionStorage.setItem("deviceList",JSON.stringify(a().devices.deviceList))}catch(s){e({type:Mt,payload:s.message})}}));const a=Object(G.c)($,"trackingRequest",e.phoneNumber,"requests"),s=Object(G.l)(a,Object(G.p)("sender.id","==",e.createdBy)),c=await Object(G.g)(s),o=[];c.forEach((e=>{o.push(e.id)})),o.forEach((async t=>{const a=Object(G.e)($,"trackingRequest",e.phoneNumber,"requests",t);await Object(G.d)(a)}))};return Object(J.jsx)(C.a,{children:Object(J.jsx)(ha.a,{component:Le.a,sx:{boxShadow:6},children:Object(J.jsxs)(ua.a,{sx:{minWidth:650},children:[Object(J.jsx)(ma.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(ba.a,{children:"Name"}),Object(J.jsx)(ba.a,{align:"center",children:"Mobile Number"}),Object(J.jsx)(ba.a,{align:"center",children:"Groups Added"}),Object(J.jsx)(ba.a,{align:"center",children:"Tracking Status"}),Object(J.jsx)(ba.a,{align:"center",children:"Action"})]})}),Object(J.jsx)(pa.a,{children:s.map((e=>Object(J.jsxs)(xa.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(J.jsx)(ba.a,{component:"th",scope:"row",children:e.fullName}),Object(J.jsx)(ba.a,{align:"center",children:e.phoneNumber}),0===e.groups.length?Object(J.jsx)(ba.a,{align:"center",children:"--"}):Object(J.jsx)(ba.a,{align:"center",children:e.groups.map(((t,a)=>Object(J.jsxs)(J.Fragment,{children:[t.groupName,a!==e.groups.length-1&&Object(J.jsx)(J.Fragment,{children:" ,"})]})))}),Object(J.jsxs)(ba.a,{align:"center",children:["accepted"===e.trackingStatus&&Object(J.jsx)(cs.a,{label:"Accepted",color:"success"}),"rejected"===e.trackingStatus&&Object(J.jsx)(cs.a,{label:"Rejected",color:"error"}),"pending"===e.trackingStatus&&Object(J.jsx)(cs.a,{label:"Pending",color:"warning"}),"turned off"===e.trackingStatus&&Object(J.jsx)(cs.a,{label:"Turned Off",color:"error"})]}),Object(J.jsxs)(ba.a,{align:"center",sx:{p:0},children:[Object(J.jsx)(y.a,{edge:"end","aria-label":"edit",color:"primary",onClick:()=>t(e),children:Object(J.jsx)(ls.a,{})}),Object(J.jsx)(y.a,{color:"error",onClick:()=>c(e),children:Object(J.jsx)(is.a,{})})]})]},e._id)))})]})})})};var js=x.a.memo(ds);const us=Object(d.a)((e=>({form:{width:"100%",marginTop:e.spacing(1)}}))),ps={PaperProps:{style:{maxHeight:224,width:250}}};var bs=()=>{const e=us(),t=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null,a=localStorage.getItem("adminData")?JSON.parse(localStorage.getItem("adminData")):null,[s,n]=Object(m.useState)(""),[c,i]=Object(m.useState)(""),[r,l]=Object(m.useState)([]),[d,j]=Object(m.useState)([]),[u,p]=Object(m.useState)(!1),[b,h]=Object(m.useState)({}),[x,g]=Object(m.useState)(!1),[O,f]=Object(m.useState)(!1),[y,S]=Object(m.useState)(!1),[v,w]=Object(m.useState)(null),[N,D]=Object(m.useState)(null),[k,L]=Object(m.useState)(null),I=Object(o.b)(),E=Object(o.c)((e=>e.groups)),{groupList:T}=E,_=Object(o.c)((e=>e.devices)),{deviceList:P}=_;let{success:M,error:F}=_;const{state:H}=Ba();Object(m.useEffect)((()=>{(async()=>{const e=await Ra(H);L(e)})()}),[]),Object(m.useEffect)((async()=>{if(null===a&&null!==t&&I(Gt(t.uid)),null!==a&&null!==t){const{data:e}=await $e.a.get(`${Ue}/get/admin/${a.email}`);I(Ft({createdBy:t.uid,adminGroups:e.groups}))}}),[I]),Object(m.useEffect)((()=>{M=null,F=null}),[]),Object(m.useEffect)((()=>{M&&(w(M),S(!0)),void 0!==F&&(D(F),S(!0))}),[M,F]),Object(m.useEffect)((async()=>{"Device added succssfully"===M&&(0!==c.length&&(await U(),await W()),i(""),l([]),n(""),g(!1))}),[M]);const z=(e,t)=>{"clickaway"!==t&&(S(!1),D(null),w(null))},U=async()=>{const e=Object(G.c)($,"trackingRequest",c,"requests");await Object(G.b)(e,{requestStatus:"pending",companyName:t.companyName,recieverFullName:s,sender:{id:t.uid,profilePhoto:t.profilePhoto},createdAt:G.a.now()}).catch((e=>console.log(e)))},W=async()=>{const e=Object(G.c)($,"trackingAndroidNotification",c,"notifications");await Object(G.b)(e,{message:`${t.companyName} has send you a tracking request`,status:"pending",sender:{id:t.uid,profilePhoto:t.profilePhoto},createdAt:G.a.now(),seen:!1}).catch((e=>console.log(e)))},B=async()=>{if(null===k)return D("You do not have any subscription. Please choose a plan"),void S(!0);if(P.length===k.deviceCount)return D("You have used your device quota. Please upgrade your subscription"),void S(!0);if(0===c.length)return D("Phone number is required"),void S(!0);if(!c.startsWith("+"))return D("Please enter valid country code. example - +911234567890"),void S(!0);if(0===s.length)return D("Full name is required"),void S(!0);const e={fullName:s,phoneNumber:c,groups:r,createdBy:t.uid,trackingStatus:"pending"};var a;I((a=e,async(e,t)=>{try{const s={headers:{"Content-Type":"application/json"}},n={body:a},{data:c}=await $e.a.post(`${Ue}/create/device`,n,s);e({type:kt,payload:c}),sessionStorage.setItem("deviceList",JSON.stringify(t().devices.deviceList))}catch(F){console.log(),e({type:Lt,payload:F.response.data.message})}}))},R=()=>{n(""),i(""),l([]),g(!1)};return Object(J.jsxs)(C.a,{sx:{width:"100%",p:4},children:[Object(J.jsx)("h2",{children:"Manage Mobile Devices"}),Object(J.jsx)(C.a,{sx:{width:"100%",display:"flex",justifyContent:"flex-end",flexDirection:"row",gap:2},children:Object(J.jsx)(Rt.a,{variant:"contained",sx:{py:1.2},onClick:()=>g(!0),children:"Add New Device"})}),Object(J.jsx)(C.a,{sx:{mt:5},children:Object(J.jsx)(js,{toggleEditDeviceDialog:e=>{u?p(!1):(h(e),p(!0))},scheduleDialog:O,setScheduleDialog:f})}),Object(J.jsxs)(Qa.a,{open:x,onClose:()=>R(),children:[Object(J.jsx)(es.a,{sx:{fontSize:22},children:"Add New Device"}),Object(J.jsx)(ts.a,{sx:{width:500},children:Object(J.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"fullName",label:"Full Name",name:"fullName",autoComplete:"name",autoFocus:!0,value:s,onChange:e=>n(e.target.value)}),Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"phoneNumber",label:"Phone Number",placeholder:"+911234567890",name:"phoneNumber",value:c,onChange:e=>i(e.target.value)}),Object(J.jsxs)(qt.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(J.jsx)(Kt.a,{id:"device-group",children:"Select Group"}),Object(J.jsx)(wa.a,{labelId:"device-group",label:"Select Group",value:r,onChange:e=>{const{target:{value:t}}=e;l("string"===typeof t?t.split(","):t);const a=T.filter((e=>t.includes(e._id)));j(a.map((e=>e.groupName)))},multiple:!0,renderValue:()=>d.join(", "),MenuProps:ps,children:T.map((e=>Object(J.jsxs)(Ae.a,{value:e._id,children:[Object(J.jsx)(ra.a,{checked:r.indexOf(e._id)>-1}),Object(J.jsx)(A.a,{primary:e.groupName})]},e._id)))})]})]})}),Object(J.jsxs)(as.a,{children:[Object(J.jsx)(Rt.a,{onClick:()=>R(),children:"Cancel"}),Object(J.jsx)(Rt.a,{onClick:()=>B(),children:"Save Device"})]})]}),Object(J.jsx)(ns,{editDialogOpen:u,setEditDialogOpen:p,selectedDevice:b,trackingGroups:T,setSuccess:w,setError:D,setSnackOpen:S}),v&&Object(J.jsx)(Te.a,{open:y,autoHideDuration:4e3,onClose:z,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:z,severity:"success",sx:{width:"100%"},variant:"filled",children:v})}),N&&Object(J.jsx)(Te.a,{open:y,autoHideDuration:4e3,onClose:z,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:z,severity:"error",sx:{width:"100%"},variant:"filled",children:N})})]})},hs=a(130);a(176);const ms={PaperProps:{style:{maxHeight:224,width:250}}};var xs=e=>{const{trackingGroups:t,setDialogOpen:a,open:s,selectedHotspot:n}=e,c=Object(m.useRef)(),[i,r]=Object(m.useState)(""),[l,d]=Object(m.useState)([]),[j,u]=Object(m.useState)([]),[p,b]=Object(m.useState)(""),[h,x]=Object(m.useState)(28.6077159025),[g,O]=Object(m.useState)(77.224249103),[f,y]=Object(m.useState)(0),[S,v]=Object(m.useState)({width:"100%",height:400,latitude:h,longitude:g,zoom:15}),[C,w]=Object(m.useState)(!1),N=Object(o.b)();Object(m.useEffect)((()=>{if(0!==Object.entries(n).length){r(n.hotspotName);const e=n.groups,t=[];e.forEach((e=>t.push(e._id))),d(t),u(e.filter((e=>t.includes(e._id))).map((e=>e.groupName))),L(n.location.latitude,n.location.longitude),v({...S,latitude:n.location.latitude,longitude:n.location.longitude}),x(n.location.latitude),O(n.location.longitude)}}),[n]);const D=Object(m.useCallback)((e=>v(e)),[]),k=Object(m.useCallback)((e=>(L(e.latitude,e.longitude),D({...e,transitionDuration:1e3}))),[]),L=async(e,t)=>{$e.a.get(`${Ue}/getlatlong/${e}/${t}`).then((e=>{b(e.data.formattedAddress),y(e.data.zipcode),w(!1)})).catch((e=>{console.log(e)}))},I=()=>{const e={_id:n._id,hotspotName:i,location:{latitude:Number(h.toPrecision(6)),longitude:Number(g.toPrecision(6)),zipCode:f},groups:l};N((e=>async(t,a)=>{try{const s={headers:{"Content-Type":"application/json"}},{data:n}=await $e.a.put(`${Ue}/update/hotspot`,e,s);t({type:lt,payload:n}),sessionStorage.setItem("hotspotList",JSON.stringify(a().hotspots.hotspotList))}catch(s){t({type:dt,payload:s.message})}})(e)),a(!1)};return Object(J.jsxs)(Qa.a,{open:s,onClose:()=>a(!1),children:[Object(J.jsxs)(ts.a,{sx:{width:"1200"},children:[Object(J.jsxs)("form",{noValidate:!0,style:{marginBottom:"20px"},children:[Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"hotspotName",label:"Hotspot Name",name:"hotspotName",autoFocus:!0,value:i,onChange:e=>r(e.target.value)}),Object(J.jsxs)(qt.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(J.jsx)(Kt.a,{id:"device-group",children:"Select Group"}),Object(J.jsx)(wa.a,{labelId:"device-group",label:"Select Group",value:l,onChange:e=>{const{target:{value:a}}=e;d("string"===typeof a?a.split(","):a);const s=t.filter((e=>a.includes(e._id)));u(s.map((e=>e.groupName)))},multiple:!0,renderValue:()=>j.join(", "),MenuProps:ms,children:t.map((e=>Object(J.jsxs)(Ae.a,{value:e._id,children:[Object(J.jsx)(ra.a,{checked:l.indexOf(e._id)>-1}),Object(J.jsx)(A.a,{primary:e.groupName})]},e._id)))})]}),Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"location",label:"Set Location",name:"location",value:p,onChange:e=>{}})]}),Object(J.jsxs)(Fe.d,{...S,ref:c,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>v(e),onClick:async e=>{x(e.lngLat[1]),O(e.lngLat[0]),w(!0),L(e.lngLat[1],e.lngLat[0])},children:[Object(J.jsx)(hs.a,{mapRef:c,onViewportChange:k,mapboxApiAccessToken:We,position:"top-left",marker:!0,countries:"IN",reverseGeocode:!0}),Object(J.jsx)(Fe.b,{latitude:h,longitude:g,children:Object(J.jsx)("button",{className:"marker-btn",children:Object(J.jsx)("img",{alt:"Image",src:"https://www.nbp.co.uk/Content/Images/uploaded/contact-branch-details.png"})})},"1")]})]}),Object(J.jsxs)(as.a,{children:[Object(J.jsx)(Rt.a,{onClick:()=>a(!1),children:"Cancel"}),Object(J.jsx)(Rt.a,{disabled:C,onClick:()=>I(),children:"Update"})]})]})};var gs=e=>{const{open:t,success:a,error:s,toggleEditHotspotDialog:n}=e,c=(sessionStorage.getItem("userData")&&JSON.parse(sessionStorage.getItem("userData")),sessionStorage.getItem("adminData")&&JSON.parse(sessionStorage.getItem("adminData")),Object(o.b)()),i=Object(o.c)((e=>e.hotspots)),{hotspotList:r}=i,l=e=>{var t;c((t=e._id,async(e,a)=>{try{await $e.a.delete(`${Ue}/delete/hotspot/${t}`),e({type:jt,payload:t}),sessionStorage.setItem("hotspotList",JSON.stringify(a().hotspots.hotspotList))}catch(s){e({type:ut,payload:s.message})}}))};return Object(J.jsx)(C.a,{children:Object(J.jsx)(ha.a,{component:Le.a,sx:{boxShadow:6},children:Object(J.jsxs)(ua.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(J.jsx)(ma.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(ba.a,{children:"Hotspot Name"}),Object(J.jsx)(ba.a,{align:"center",children:"Address (Zip Code)"}),Object(J.jsx)(ba.a,{align:"center",children:"Groups Added"}),Object(J.jsx)(ba.a,{align:"center",children:"Action"})]})}),Object(J.jsx)(pa.a,{children:r.map((e=>Object(J.jsxs)(xa.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(J.jsx)(ba.a,{component:"th",scope:"row",children:e.hotspotName}),Object(J.jsx)(ba.a,{align:"center",children:e.location.zipCode}),Object(J.jsxs)(ba.a,{align:"center",sx:{display:"flex",justifyContent:"center"},children:[0===e.groups.length&&Object(J.jsx)(J.Fragment,{children:"---"}),e.groups.map(((t,a)=>Object(J.jsx)("div",{children:Object(J.jsxs)(de.a,{variant:"p",component:"p",children:[t.groupName,a!==e.groups.length-1&&Object(J.jsx)(J.Fragment,{children:" ,"})]})},a)))]}),Object(J.jsxs)(ba.a,{align:"center",sx:{p:0},children:[Object(J.jsx)(y.a,{edge:"end","aria-label":"edit",color:"primary",onClick:()=>n(e),sx:{mr:.2},children:Object(J.jsx)(ls.a,{})}),Object(J.jsx)(y.a,{color:"error",onClick:()=>l(e),children:Object(J.jsx)(is.a,{})})]})]},e._id)))})]})})})};const Os={PaperProps:{style:{maxHeight:224,width:250}}};var fs=()=>{const e=Object(m.useRef)(),[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)([]),[c,i]=Object(m.useState)([]),[r,l]=Object(m.useState)(""),[d,j]=Object(m.useState)(28.6077159025),[u,p]=Object(m.useState)(77.224249103),[b,h]=Object(m.useState)(0),[x,g]=Object(m.useState)({width:"100%",height:400,latitude:28.6077159025,longitude:77.224249103,zoom:15}),[O,f]=Object(m.useState)({}),[y,S]=Object(m.useState)(!1),[v,w]=Object(m.useState)(!1),[N,D]=Object(m.useState)(!1),[k,L]=Object(m.useState)(null),[I,E]=Object(m.useState)(null),[T,_]=Object(m.useState)({width:"100%",height:"100%",latitude:28.52,longitude:77.402,zoom:10}),[P,M]=Object(m.useState)(!1),[G,F]=Object(m.useState)(!1),[H,$]=Object(m.useState)(null),[z,U]=Object(m.useState)(null),[W,B]=Object(m.useState)({}),[R,V]=Object(m.useState)(null),Y=Object(o.b)(),q=Object(o.c)((e=>e.hotspots)),{hotspotList:K,success:Z,error:X}=q,Q=Object(o.c)((e=>e.groups)),{groupList:ee}=Q,te=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null,ae=localStorage.getItem("adminData")?JSON.parse(localStorage.getItem("adminData")):null,{state:se}=Ba();Object(m.useEffect)((()=>{(async()=>{const e=await Ra(se);V(e)})()}),[]),Object(m.useEffect)((async()=>{null!==te&&Y(Ut(null===te||void 0===te?void 0:te.uid))}),[Y]),Object(m.useEffect)((()=>{Z&&(L(Z),D(!0)),X&&(E(X),D(!0))}),[Z,X]),Object(m.useEffect)((async()=>{if(null===ae&&null!==te&&Y($t(te.uid)),null!==ae&&null!==te){const{data:e}=await $e.a.get(`${Ue}/get/admin/${ae.email}`);Y(Ht({createdBy:te.uid,adminGroups:e.groups}))}}),[Y]),Object(m.useEffect)((async()=>{M(!0),$e.a.get(`${Ue}/getlatlong/${H}/${z}`).then((e=>{console.log(e),B(e.data),M(!1)})).catch((e=>console.log(e)))}),[H,z]);const ne=Object(m.useCallback)((e=>g(e)),[]),ce=Object(m.useCallback)((e=>(ie(e.latitude,e.longitude),ne({...e,transitionDuration:1e3}))),[]),oe=(e,t)=>{"clickaway"!==t&&(D(!1),E(null),L(null))},ie=async(e,t)=>{$e.a.get(`${Ue}/getlatlong/${e}/${t}`).then((e=>{l(e.data.formattedAddress),h(e.data.zipcode)})).catch((e=>{console.log(e)}))},re=()=>{if(null===R)return E("You do not have any subscription. Please choose a plan"),void D(!0);if(K.length===R.hotspotCount)return E("You have used your hotspot quota. Please upgrade your subscription"),void D(!0);if(t.length<3)return E("Hotspot name must be atleast 3 characters"),void D(!0);const e={hotspotName:t,groups:s,createdBy:te.uid,location:{latitude:Number(d.toPrecision(6)),longitude:Number(u.toPrecision(6)),zipCode:b}};var c;Y((c=e,async(e,t)=>{try{const a={headers:{"Content-Type":"application/json"}},s={body:c},{data:n}=await $e.a.post(`${Ue}/create/hotspot`,s,a);e({type:ct,payload:n}),sessionStorage.setItem("hotspotList",JSON.stringify(t().hotspots.hotspotList))}catch(X){e({type:ot,payload:X.message})}})),w(!1),a(""),n([]),l("")},le=()=>{a(""),n([]),i([]),l(""),w(!1)};return Object(J.jsxs)(C.a,{sx:{width:"100%",p:4,height:"100%"},children:[Object(J.jsx)("h2",{children:"Manage Hotspots"}),Object(J.jsxs)(ve.a,{container:!0,spacing:2,sx:{height:"100%"},children:[Object(J.jsxs)(ve.a,{item:!0,xs:12,md:6,children:[Object(J.jsx)(C.a,{sx:{width:"100%",display:"flex",justifyContent:"flex-end",flexDirection:"row",gap:2},children:Object(J.jsx)(Rt.a,{variant:"contained",sx:{py:1.2},onClick:()=>w(!0),children:"Add New Hotspot"})}),Object(J.jsx)(C.a,{sx:{my:5},children:Object(J.jsx)(gs,{successMsg:L,errorMsg:E,open:D,toggleEditHotspotDialog:e=>{y?S(!1):(f(e),S(!0))}})})]}),Object(J.jsx)(ve.a,{item:!0,xs:12,md:6,sx:{height:"100"},children:Object(J.jsxs)(Fe.d,{...T,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>_(e),children:[K.map((e=>Object(J.jsx)(Fe.b,{latitude:e.location.latitude,longitude:e.location.longitude,children:Object(J.jsx)("button",{className:"marker-btn",onMouseEnter:t=>{t.preventDefault(),F(!0),$(e.location.latitude),U(e.location.longitude)},onMouseLeave:e=>{e.preventDefault(),F(!1)},children:Object(J.jsx)("img",{alt:"Image",src:"https://www.nbp.co.uk/Content/Images/uploaded/contact-branch-details.png"})})},e._id))),G?Object(J.jsx)(Fe.c,{latitude:H,longitude:z,onClose:()=>{F(!1),$(0),U(0)},children:Object(J.jsx)("div",{children:P?Object(J.jsx)("p",{children:"Fetching Location ..."}):Object(J.jsx)("p",{children:W.formattedAddress})})}):null]})})]}),Object(J.jsxs)(Qa.a,{open:v,onClose:le,children:[Object(J.jsx)(es.a,{sx:{fontSize:22},children:"Add New Hotspot"}),Object(J.jsxs)(ts.a,{sx:{width:600},children:[Object(J.jsxs)("form",{noValidate:!0,style:{marginBottom:"20px"},children:[Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"hotspotName",label:"Hotspot Name",name:"hotspotName",autoFocus:!0,value:t,onChange:e=>a(e.target.value)}),Object(J.jsxs)(qt.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(J.jsx)(Kt.a,{id:"device-group",children:"Select Group"}),Object(J.jsx)(wa.a,{labelId:"device-group",label:"Select Group",value:s,onChange:e=>{const{target:{value:t}}=e;n("string"===typeof t?t.split(","):t);const a=ee.filter((e=>t.includes(e._id)));i(a.map((e=>e.groupName)))},multiple:!0,renderValue:()=>c.join(", "),MenuProps:Os,children:ee.map((e=>Object(J.jsxs)(Ae.a,{value:e._id,children:[Object(J.jsx)(ra.a,{checked:s.indexOf(e._id)>-1}),Object(J.jsx)(A.a,{primary:e.groupName})]},e._id)))})]}),Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"location",label:"Set Location",name:"location",value:r,onChange:e=>{}})]}),Object(J.jsxs)(Fe.d,{...x,ref:e,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>g(e),onClick:async e=>{j(e.lngLat[1]),p(e.lngLat[0]),ie(e.lngLat[1],e.lngLat[0])},children:[Object(J.jsx)(hs.a,{mapRef:e,onViewportChange:ce,mapboxApiAccessToken:We,position:"top-left",marker:!0,reverseGeocode:!0}),Object(J.jsx)(Fe.b,{latitude:d,longitude:u,children:Object(J.jsx)("button",{className:"marker-btn",children:Object(J.jsx)("img",{alt:"Image",src:"https://www.nbp.co.uk/Content/Images/uploaded/contact-branch-details.png"})})},"1")]})]}),Object(J.jsxs)(as.a,{children:[Object(J.jsx)(Rt.a,{onClick:le,children:"Cancel"}),Object(J.jsx)(Rt.a,{onClick:()=>re(),children:"Save Hotspot"})]})]}),Object(J.jsx)(xs,{open:y,setDialogOpen:S,selectedHotspot:O,trackingGroups:ee,setSnackOpen:D,setSuccessMsg:L,setErrorMsg:E}),null!==k&&Object(J.jsx)(Te.a,{open:N,autoHideDuration:4e3,onClose:oe,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:oe,severity:"success",variant:"filled",sx:{width:"100%"},children:k})}),null!==I&&Object(J.jsx)(Te.a,{open:N,autoHideDuration:4e3,onClose:oe,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:oe,severity:"error",variant:"filled",sx:{width:"100%"},children:I})})]})},ys=a(199),Ss=a.n(ys);var vs=e=>{const{open:t,success:a,error:s}=e,[n,c]=Object(m.useState)(""),[o,i]=Object(m.useState)(""),[r,l]=Object(m.useState)(!1),d=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null;return Object(J.jsx)(C.a,{children:Object(J.jsxs)("form",{noValidate:!0,children:[Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"password",label:"Current Password",name:"password",autoComplete:"name",value:n,onChange:e=>c(e.target.value)}),Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"password",label:"New Password",name:"password",autoComplete:"name",value:o,onChange:e=>i(e.target.value)}),Object(J.jsx)(Rt.a,{sx:{py:1.2,px:4,fontSize:15,mt:2},variant:"contained",onClick:()=>(async()=>{try{l(!0);const e=z.currentUser,r=M.a.credential(d.email,n);Object(M.e)(e,r).then((()=>{Object(M.i)(e,o).then((()=>{a("Password updated successfully"),t(!0),i(""),c(""),l(!1)})).catch((e=>{const a=e.code,n=e.message;s(`${a} ${n}`),t(!0),l(!1)}))})).catch((e=>{const a=e.code,n=e.message;s(`${a} ${n}`),t(!0),l(!1)}))}catch(e){s(e),t(!0),l(!1)}})(),startIcon:r&&Object(J.jsx)(Xt.a,{size:20,color:"inherit"}),children:"Update Password"})]})})};const Cs=Object(d.a)((e=>({form:{width:"100%",marginTop:e.spacing(1)}})));var ws=()=>{const e=Cs(),[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)(""),[c,o]=Object(m.useState)(""),[i,r]=Object(m.useState)(""),[l,d]=Object(m.useState)(null),[j,u]=Object(m.useState)(null),[p,b]=Object(m.useState)(!1),[h,x]=Object(m.useState)(!1),[g,O]=Object(m.useState)(null),[f,S]=Object(m.useState)(null),v=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null;Object(m.useEffect)((()=>{null!==v&&(r(v.profilePhoto),a(v.firstName),o(v.companyName),n(v.lastName))}),[]);const w=(e,t)=>{"clickaway"!==t&&(x(!1),S(null),O(null))},N=async()=>(console.log(l,i,j),new Promise((e=>{null===l&&e(v.profilePhoto);const t=Object(F.c)(U,`superAdmin/profile/${v.uid}`),a=Object(F.d)(t,j);a.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(e=>{console.log(e.message)}),(()=>{Object(F.a)(a.snapshot.ref).then((t=>{e(t)}))}))})));return Object(J.jsxs)(C.a,{sx:{width:"100%",p:4,display:"flex",justifyContent:"center"},children:[Object(J.jsxs)(C.a,{sx:{width:"70%"},children:[Object(J.jsxs)(ve.a,{container:!0,spacing:2,children:[Object(J.jsxs)(ve.a,{item:!0,md:5,sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(J.jsx)(D.a,{src:null===l?i:l,alt:"profiile photo",sx:{my:1.5,width:200,height:200}}),Object(J.jsxs)(y.a,{component:"label",sx:{width:50,height:50},children:[Object(J.jsx)(Ss.a,{}),Object(J.jsx)("input",{type:"file",hidden:!0,onChange:e=>{const t=e.target.files[0];if(t){u(t);let e=URL.createObjectURL(t);d(e)}},accept:"image/*"})]})]}),Object(J.jsx)(ve.a,{item:!0,md:7,children:Object(J.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"name",autoFocus:!0,value:t,onChange:e=>a(e.target.value)}),Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"name",value:s,onChange:e=>n(e.target.value)}),Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Company Name",name:"companyName",autoComplete:"text",value:c,onChange:e=>o(e.target.value)}),Object(J.jsx)(Rt.a,{variant:"contained",onClick:()=>(async()=>{try{b(!0),await N().then((async e=>{const a=Object(G.e)($,"trackerWebUser",v.uid);await Object(G.o)(a,{firstName:t,lastName:s,companyName:c,profilePhoto:e}).then((()=>{const a={firstName:t,lastName:s,companyName:c,profilePhoto:e,uid:v.uid,createdAt:v.createdAt,email:v.email};localStorage.setItem("userData",JSON.stringify(a)),O("Profile updated successfully"),x(!0),u(null),d(null),r(e),b(!1)}))})).catch((e=>{S(e.message),x(!0),b(!1)}))}catch(e){S(e.message),x(!0),b(!1)}})(),sx:{py:1.2,px:4,fontSize:15,mt:2,mb:4},startIcon:p&&Object(J.jsx)(Xt.a,{size:20,color:"inherit"}),children:"Update Profile"})]})})]}),Object(J.jsxs)(ve.a,{container:!0,spacing:2,children:[Object(J.jsx)(ve.a,{item:!0,md:5}),Object(J.jsx)(ve.a,{item:!0,md:7,children:Object(J.jsx)(vs,{open:x,success:O,error:S})})]})]}),null!==g&&Object(J.jsx)(Te.a,{open:h,autoHideDuration:4e3,onClose:w,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:w,variant:"filled",severity:"success",sx:{width:"100%"},children:g})}),null!==f&&Object(J.jsx)(Te.a,{open:h,autoHideDuration:4e3,onClose:w,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:w,variant:"filled",severity:"error",sx:{width:"100%"},children:f})})]})},Ns=a(408),Ds=a(200),As=a(409);const ks=e=>{const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return Object(J.jsxs)(C.a,{children:[Object(J.jsxs)(C.a,{sx:{display:"flex",justifyContent:"space-between",gap:2,mt:2},children:[Object(J.jsxs)(qt.a,{fullWidth:!0,variant:"outlined",children:[Object(J.jsx)(Kt.a,{id:"Start Day",children:"Start Day"}),Object(J.jsx)(wa.a,{labelId:"Start Day",value:e.startDay,onChange:t=>e.setStartDay(t.target.value),label:"Start Day",children:t.map(((e,t)=>Object(J.jsx)(Ae.a,{value:e,sx:{p:1.2},children:e},t)))})]}),Object(J.jsxs)(qt.a,{fullWidth:!0,variant:"outlined",children:[Object(J.jsx)(Kt.a,{id:"End Day",children:"End Day"}),Object(J.jsx)(wa.a,{labelId:"Emd Day",value:e.endDay,onChange:t=>e.setEndDay(t.target.value),label:"End Day",children:t.map(((e,t)=>Object(J.jsx)(Ae.a,{value:e,sx:{p:1.2},children:e},t)))})]})]}),Object(J.jsxs)(C.a,{sx:{height:"58px",display:"flex",mb:2,mt:3,gap:2},children:[Object(J.jsx)(Ds.a,{dateAdapter:Ns.a,children:Object(J.jsx)(As.a,{label:"Start Time",value:e.time.startTime,onChange:t=>{e.setTime({...e.time,startTime:t})},renderInput:e=>Object(J.jsx)(Ce.a,{...e})})}),Object(J.jsx)(Ds.a,{dateAdapter:Ns.a,children:Object(J.jsx)(As.a,{label:"End Time",value:e.time.endTime,onChange:t=>{e.setTime({...e.time,endTime:t})},renderInput:e=>Object(J.jsx)(Ce.a,{...e})})})]})]})};var Ls=x.a.memo(ks);const Is={PaperProps:{style:{maxHeight:224,width:250}}},Es=e=>{const[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)([]),[c,i]=Object(m.useState)([]),[r,l]=Object(m.useState)("Sunday"),[d,j]=Object(m.useState)("Sunday"),[u,p]=Object(m.useState)({startTime:new Date,endTime:new Date}),b=Object(o.b)(),h=Object(o.c)((e=>e.admins)).adminList,x=()=>{if(null===e.subscription)return e.setError("You do not have any subscription. Please choose a plan"),void e.setSnackOpen(!0);if(e.groupList.length===e.subscription.groupCount)return e.setError("You have used your groups quota. Please upgrade your subscription"),void e.setSnackOpen(!0);if(t.length<4)return e.setError("Group name must be atleast 4 characters"),void e.setSnackOpen(!0);const c={groupName:t,createdBy:e.createdBy.id,members:[],hotspot:[],admins:s,schedule:{startDay:r,endDay:d,time:u}};var o;b((o=c,async(e,t)=>{try{const a={headers:{"Content-Type":"application/json"}},s={body:o},{data:n}=await $e.a.post(`${Ue}/create/group`,s,a);e({type:pt,payload:n}),sessionStorage.setItem("groupList",JSON.stringify(t().groups.groupList))}catch(a){e({type:bt,payload:a.message})}})),e.setOpen(!1),n([]),a(""),l(""),j(""),p({startTime:new Date,endTime:new Date})};return Object(J.jsxs)(Qa.a,{open:e.open,onClose:()=>e.setOpen(!1),children:[Object(J.jsx)(es.a,{sx:{fontSize:22},children:"Add New Group"}),Object(J.jsxs)(ts.a,{sx:{width:500},children:[Object(J.jsx)(Ce.a,{autoFocus:!0,margin:"normal",id:"groupName",label:"Group Name",type:"text",fullWidth:!0,variant:"outlined",value:t,onChange:e=>a(e.target.value)}),null!==e.subscription&&e.subscription.groupCount===Number.MAX_VALUE&&Object(J.jsxs)(qt.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(J.jsx)(Kt.a,{id:"admin",children:"Select Admin"}),Object(J.jsx)(wa.a,{labelId:"admin",label:"Select Admin",value:s,onChange:e=>{const{target:{value:t}}=e;n("string"===typeof t?t.split(","):t);const a=h.filter((e=>t.includes(e._id)));i(a.map((e=>e.fullName)))},multiple:!0,renderValue:()=>c.join(", "),MenuProps:Is,children:h.map((e=>Object(J.jsxs)(Ae.a,{value:e._id,children:[Object(J.jsx)(ra.a,{checked:s.indexOf(e._id)>-1}),Object(J.jsx)(A.a,{primary:e.fullName})]},e._id)))})]}),Object(J.jsx)(Ls,{startDay:r,endDay:d,setStartDay:l,setEndDay:j,time:u,setTime:p})]}),Object(J.jsxs)(as.a,{children:[Object(J.jsx)(Rt.a,{onClick:()=>{n([]),a(""),l(""),j(""),p({startTime:new Date,endTime:new Date}),e.setOpen(!1)},children:"Cancel"}),Object(J.jsx)(Rt.a,{onClick:()=>x(),children:"Create"})]})]})};var Ts=x.a.memo(Es);const _s=e=>{const t=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,a=sessionStorage.getItem("adminData")?JSON.parse(sessionStorage.getItem("adminData")):null,s=Object(o.b)(),n=Object(o.c)((e=>e.groups)),{groupList:c}=n;Object(m.useEffect)((async()=>{null!==t&&null===a&&s(Ut(t.uid))}),[s,t]);const i=e=>{var t;s((t=e._id,async(e,a)=>{try{await $e.a.delete(`${Ue}/delete/group/${t}`),e({type:Ot,payload:t}),sessionStorage.setItem("groupList",JSON.stringify(a().groups.groupList))}catch(s){e({type:ft,payload:s.message})}}))};return Object(J.jsx)(C.a,{children:Object(J.jsx)(ha.a,{component:Le.a,children:Object(J.jsxs)(ua.a,{"aria-label":"simple table",children:[Object(J.jsx)(ma.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(ba.a,{sx:{fontWeight:600},children:"Group Name"}),Object(J.jsx)(ba.a,{sx:{fontWeight:600},align:"center",children:"Admins"}),Object(J.jsx)(ba.a,{sx:{fontWeight:600},align:"center",children:"Schedule"}),Object(J.jsx)(ba.a,{sx:{fontWeight:600},align:"center",children:"Hotspot/s Added"}),Object(J.jsx)(ba.a,{sx:{fontWeight:600},align:"center",children:"Created At"}),Object(J.jsx)(ba.a,{sx:{fontWeight:600},align:"center",children:"Modified At"}),Object(J.jsx)(ba.a,{sx:{fontWeight:600},align:"center",children:"Action"})]})}),Object(J.jsx)(pa.a,{children:c.map((t=>Object(J.jsxs)(xa.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(J.jsx)(ba.a,{component:"th",scope:"row",children:t.groupName}),Object(J.jsxs)(ba.a,{align:"center",children:[0===t.admins.length&&Object(J.jsx)(J.Fragment,{children:"---"}),t.admins.map(((e,a)=>Object(J.jsx)(x.a.Fragment,{children:`${e.fullName}\n                        ${a!==t.admins.length-1?", ":""}`},a)))]}),0!==Object.entries(t.schedule).length?Object(J.jsx)(ba.a,{align:"center",children:`${t.schedule.startDay} - ${t.schedule.endDay} , ${B()(t.schedule.time.startTime).format("hh:mm a")} - ${B()(t.schedule.time.endTime).format("hh:mm a")}`}):Object(J.jsx)(ba.a,{align:"center",children:"---"}),Object(J.jsxs)(ba.a,{align:"center",children:[0===t.hotspots.length&&Object(J.jsx)(J.Fragment,{children:"---"}),t.hotspots.map(((e,a)=>Object(J.jsx)(x.a.Fragment,{children:`${e.hotspotName}\n                        ${a!==t.hotspots.length-1?" , ":""}`},a)))]}),Object(J.jsx)(ba.a,{align:"center",component:"th",scope:"row",children:B()(t.createdAt).format("DD MMMM YYYY")}),Object(J.jsx)(ba.a,{align:"center",component:"th",scope:"row",children:B()(t.updatedAt).format("DD MMMM YYYY")}),Object(J.jsxs)(ba.a,{align:"center",sx:{p:0},children:[Object(J.jsx)(y.a,{color:"success",onClick:()=>{e.setSelectedGroup(t),e.setEditOpen(!0)},children:Object(J.jsx)(ls.a,{})}),Object(J.jsx)(y.a,{color:"error",onClick:()=>i(t),children:Object(J.jsx)(is.a,{})})]})]},t._id)))})]})})})};var Ps=x.a.memo(_s);const Ms={PaperProps:{style:{maxHeight:224,width:250}}},Gs=e=>{const[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)([]),[c,i]=Object(m.useState)([]),[r,l]=Object(m.useState)("Sunday"),[d,j]=Object(m.useState)("Saturday"),[u,p]=Object(m.useState)({startTime:new Date,endTime:new Date}),b=Object(o.c)((e=>e.admins)),{adminList:h}=b,x=Object(o.b)();Object(m.useEffect)((()=>{if(0!==Object.keys(e.selectedGroup).length){a(e.selectedGroup.groupName),l(e.selectedGroup.schedule.startDay),j(e.selectedGroup.schedule.endDay),p(e.selectedGroup.schedule.time);const t=e.selectedGroup.admins.map((e=>e._id));n(t)}}),[e.selectedGroup]);const g=()=>{if(t.length<3)return e.setError("Group Name length must be atleast 3"),void e.setSnackOpen(!0);if(0===b.length)return e.setError("Select atleast one admin"),void e.setSnackOpen(!0);const c={_id:e.selectedGroup._id,groupName:t,admins:s,schedule:{startDay:r,endDay:d,time:u}};x((e=>async(t,a)=>{try{const s={headers:{"Content-Type":"application/json"}},{data:n}=await $e.a.put(`${Ue}/update/group`,e,s);t({type:xt,payload:n}),sessionStorage.setItem("groupList",JSON.stringify(a().groups.groupList))}catch(s){t({type:gt,payload:s.message})}})(c)),e.setOpen(!1),a(""),n([]),l("Sunday"),j("Sunday"),p(["10:00","11:00"])};return Object(J.jsxs)(Qa.a,{open:e.open,onClose:()=>e.setOpen(!1),children:[Object(J.jsx)(es.a,{sx:{fontSize:22},children:"Edit Group Details"}),Object(J.jsxs)(ts.a,{sx:{width:500},children:[Object(J.jsx)(Ce.a,{autoFocus:!0,margin:"normal",id:"groupName",label:"Group Name",type:"text",fullWidth:!0,variant:"outlined",value:t,onChange:e=>a(e.target.value)}),null!==e.subscription&&e.subscription.groupCount===Number.MAX_VALUE&&Object(J.jsxs)(qt.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(J.jsx)(Kt.a,{id:"admin",children:"Select Admin"}),Object(J.jsx)(wa.a,{labelId:"admin",label:"Select Admin",value:s,onChange:e=>{const{target:{value:t}}=e;n("string"===typeof t?t.split(","):t);const a=h.filter((e=>t.includes(e._id)));i(a.map((e=>e.fullName)))},multiple:!0,renderValue:()=>c.join(", "),MenuProps:Ms,children:h.map((e=>Object(J.jsxs)(Ae.a,{value:e._id,children:[Object(J.jsx)(ra.a,{checked:s.indexOf(e._id)>-1}),Object(J.jsx)(A.a,{primary:e.fullName})]},e._id)))})]}),Object(J.jsx)(Ls,{startDay:r,endDay:d,setStartDay:l,setEndDay:j,time:u,setTime:p})]}),Object(J.jsxs)(as.a,{children:[Object(J.jsx)(Rt.a,{onClick:()=>e.setOpen(!1),children:"Cancel"}),Object(J.jsx)(Rt.a,{onClick:()=>g(),children:"Update"})]})]})};var Fs=x.a.memo(Gs);var Hs=()=>{const[e,t]=Object(m.useState)(!1),[a,s]=Object(m.useState)(!1),[n,c]=Object(m.useState)({}),[i,r]=Object(m.useState)(!1),[l,d]=Object(m.useState)(null),[j,u]=Object(m.useState)(null),[p,b]=Object(m.useState)(null),h=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null,x=Object(o.c)((e=>e.groups)),{groupList:g}=x;let{success:O,error:f}=x;const{state:y}=Ba();Object(m.useEffect)((()=>{(async()=>{const e=await Ra(y);b(e)})()}),[]),Object(m.useEffect)((()=>{O=null,f=null}),[]),Object(m.useEffect)((()=>{O?(d(O),r(!0)):f&&(u(f),r(!0))}),[O,f]);const S=()=>{r(!1),O=null,f=null,d(null),u(null)};return Object(J.jsxs)(C.a,{sx:{p:4},children:[Object(J.jsx)("h2",{children:"Manage Groups"}),Object(J.jsx)(ke.a,{direction:"row",justifyContent:"flex-end",rowGap:2,columnGap:2,children:Object(J.jsx)(Rt.a,{variant:"contained",sx:{py:1.2},onClick:()=>t(!0),children:"Create New Group"})}),Object(J.jsx)(C.a,{sx:{my:5},children:Object(J.jsx)(Ps,{success:d,error:u,open:r,setSelectedGroup:c,setEditOpen:s})}),Object(J.jsx)(C.a,{children:Object(J.jsx)(Ts,{open:e,setOpen:t,createdBy:{id:null===h||void 0===h?void 0:h.uid,fullName:`${null===h||void 0===h?void 0:h.firstName} ${null===h||void 0===h?void 0:h.lastName}`},subscription:p,setError:u,setSnackOpen:r,setSuccess:d,groupList:g})}),Object(J.jsx)(C.a,{children:Object(J.jsx)(Fs,{open:a,setOpen:s,selectedGroup:n,setError:u,setSnackOpen:r,setSuccess:d,createdBy:{id:null===h||void 0===h?void 0:h.uid,fullName:`${null===h||void 0===h?void 0:h.firstName} ${null===h||void 0===h?void 0:h.lastName}`},subscription:p})}),l&&Object(J.jsx)(Te.a,{open:i,autoHideDuration:4e3,onClose:S,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:S,severity:"success",sx:{width:"100%"},variant:"filled",children:l})}),j&&Object(J.jsx)(Te.a,{open:i,autoHideDuration:4e3,onClose:S,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:S,severity:"error",sx:{width:"100%"},variant:"filled",children:j})})]})},$s=a(404),zs=a(405);const Us=e=>{const t=Object(o.c)((e=>e.admins)),{adminList:a}=t,s=Object(o.b)(),n=e=>{var t;s((t=e._id,async(e,a)=>{try{await $e.a.delete(`${Ue}/delete/admin/${t}`),e({type:Dt,payload:t}),sessionStorage.setItem("adminList",JSON.stringify(a().admins.adminList))}catch(s){e({type:At,payload:s.message})}}))};return Object(J.jsx)(C.a,{children:Object(J.jsx)(ha.a,{component:Le.a,sx:{boxShadow:6},children:Object(J.jsxs)(ua.a,{sx:{minWidth:650},children:[Object(J.jsx)(ma.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(ba.a,{className:"table-head",children:"Admin Name"}),Object(J.jsx)(ba.a,{className:"table-head",align:"center",children:"Admin Id"}),Object(J.jsx)(ba.a,{className:"table-head",align:"center",children:"Email"}),Object(J.jsx)(ba.a,{className:"table-head",align:"center",children:"Groups"}),Object(J.jsx)(ba.a,{sx:{fontWeight:600},align:"center",children:"Created At"}),Object(J.jsx)(ba.a,{sx:{fontWeight:600},align:"center",children:"Modified At"}),Object(J.jsx)(ba.a,{className:"table-head",align:"center",children:"Action"})]})}),Object(J.jsx)(pa.a,{children:a.map((t=>Object(J.jsxs)(xa.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(J.jsx)(ba.a,{component:"th",scope:"row",children:t.fullName}),Object(J.jsx)(ba.a,{align:"center",children:t._id}),Object(J.jsx)(ba.a,{align:"center",children:t.email}),Object(J.jsxs)(ba.a,{align:"center",children:[0===t.groups.length&&Object(J.jsx)(J.Fragment,{children:"---"}),t.groups.map(((e,a)=>Object(J.jsx)(x.a.Fragment,{children:`${e.groupName} ${a!==t.groups.length-1?", ":""}`},a)))]}),Object(J.jsx)(ba.a,{align:"center",children:B()(t.createdAt).format("DD MMM YYYY")}),Object(J.jsx)(ba.a,{align:"center",children:B()(t.updatedAt).format("DD MMMM YYYY")}),Object(J.jsxs)(ba.a,{align:"center",sx:{p:0},children:[Object(J.jsx)(y.a,{color:"success",onClick:()=>{e.setSelectedAdmin(t),e.setShowEditDialog(!0)},children:Object(J.jsx)($s.a,{})}),Object(J.jsx)(y.a,{color:"error",onClick:()=>n(t),children:Object(J.jsx)(zs.a,{})})]})]},t._id)))})]})})})};var Ws=x.a.memo(Us);const Bs=e=>{const[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)(""),c=Object(o.b)();const i=async()=>{if(null===e.subscription?(e.error("You do not have any subscription. Please choose a plan"),e.setSnackOpen(!0),0):e.adminList.length===e.subscription.adminCount?(e.error("You have used your admin quota. Please upgrade your subscription"),e.setSnackOpen(!0),0):""===t?(e.error("Full Name cannot be empty"),e.setSnackOpen(!0),0):""!==s&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s)||(e.error("Invalid Email"),e.setSnackOpen(!0),0)){const o="#123321#";await Object(M.b)(z,s,o).then((async function(i){const r={fullName:t,email:s,groups:[],createdBy:e.createdBy,passwordChanged:!1};var l;c((l=r,async(e,t)=>{try{const a={headers:{"Content-Type":"application/json"}},s={body:l},{data:n}=await $e.a.post(`${Ue}/create/admin`,s,a);e({type:yt,payload:n}),sessionStorage.setItem("adminList",JSON.stringify(t().admins.adminList))}catch(a){e({type:St,payload:a.message})}}));c((e=>async t=>{try{const t={headers:{"Content-Type":"application/json"}},{data:a}=await $e.a.post(`${Ue}/send-email`,e,t);console.log(a)}catch(a){console.log("Error occured while sending email")}})({to:s,subject:"GPS Tracker login credentials for admin",body:`Your login credentials are:\nemail: ${s}\npassword: ${o}`})),a(""),n(""),e.setOpen(!1)})).catch((e=>{const t=e.code,a=e.message;alert(t,a)}))}};return Object(J.jsxs)(Qa.a,{open:e.open,onClose:()=>e.setOpen(!1),children:[Object(J.jsx)(es.a,{sx:{fontSize:16},children:"Create New Admin"}),Object(J.jsxs)(ts.a,{sx:{width:500},children:[Object(J.jsx)(Ce.a,{fullWidth:!0,autoFocus:!0,margin:"normal",id:"name",label:"Full Name",type:"name",variant:"outlined",value:t,onChange:e=>a(e.target.value)}),Object(J.jsx)(Ce.a,{fullWidth:!0,margin:"normal",id:"email",label:"Email Address",type:"email",variant:"outlined",value:s,onChange:e=>n(e.target.value)})]}),Object(J.jsxs)(as.a,{children:[Object(J.jsx)(Rt.a,{onClick:()=>e.setOpen(!1),children:"Cancel"}),Object(J.jsx)(Rt.a,{onClick:()=>i(),children:"Create"})]})]})};var Rs=x.a.memo(Bs);const Vs=e=>{const[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)(""),c=Object(o.b)();Object(m.useEffect)((()=>{a(e.selectedAdmin.fullName),n(e.selectedAdmin.email)}),[e.selectedAdmin]);const i=()=>{if(""===t?(e.error("Full Name cannot be empty"),e.setSnackOpen(!0),0):""!==s&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s)||(e.error("Invalid Email"),e.setSnackOpen(!0),0)){const o={_id:e.selectedAdmin._id,fullName:t,email:s};c((e=>async(t,a)=>{try{const s={headers:{"Content-Type":"application/json"}},{data:n}=await $e.a.put(`${Ue}/update/admin`,e,s);console.log(n),t({type:wt,payload:n}),sessionStorage.setItem("adminList",JSON.stringify(a().admins.adminList))}catch(s){t({type:Nt,payload:s.message})}})(o)),e.success("Admin Updated"),e.setSnackOpen(!0),a(""),n(""),e.setOpen(!1)}};return Object(J.jsxs)(Qa.a,{open:e.open,onClose:()=>e.setOpen(!1),children:[Object(J.jsx)(es.a,{sx:{fontSize:18},children:"Edit Admin Details"}),Object(J.jsxs)(ts.a,{sx:{width:500},children:[Object(J.jsx)(Ce.a,{fullWidth:!0,autoFocus:!0,margin:"normal",id:"name",label:"Full Name",type:"name",variant:"outlined",value:t,onChange:e=>a(e.target.value)}),Object(J.jsx)(Ce.a,{fullWidth:!0,margin:"normal",id:"email",label:"Email Address",type:"email",variant:"outlined",value:s,onChange:e=>n(e.target.value)})]}),Object(J.jsxs)(as.a,{children:[Object(J.jsx)(Rt.a,{onClick:()=>e.setOpen(!1),children:"Cancel"}),Object(J.jsx)(Rt.a,{onClick:()=>i(),children:"Update"})]})]})};var Js=x.a.memo(Vs);var Ys=()=>{const[e,t]=Object(m.useState)(!1),[a,s]=Object(m.useState)(!1),[n,c]=Object(m.useState)({}),[r,l]=Object(m.useState)(!1),[d,j]=Object(m.useState)(null),[u,p]=Object(m.useState)(null),[b,h]=Object(m.useState)(null),x=(localStorage.getItem("authToken"),localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null),g=Object(o.b)(),{state:O}=(Object(i.g)(),Ba()),f=Object(o.c)((e=>e.admins)),{adminList:y,success:S,error:v}=f;Object(m.useEffect)((()=>{(async()=>{const e=await Ra(O);h(e)})()}),[]),Object(m.useEffect)((()=>{null!==x&&g(zt(x.uid))}),[g]);const w=(e,t)=>{"clickaway"!==t&&(l(!1),p(null),j(null))};return Object(J.jsxs)(C.a,{sx:{p:4},children:[Object(J.jsx)("h2",{children:"Manage Admins"}),Object(J.jsx)(ke.a,{direction:"row",justifyContent:"flex-end",children:Object(J.jsx)(Rt.a,{variant:"contained",sx:{py:1.2},onClick:()=>{t(!e)},children:"Create Admin"})}),Object(J.jsx)(C.a,{sx:{my:5},children:Object(J.jsx)(Ws,{setSelectedAdmin:c,setShowEditDialog:s})}),Object(J.jsx)(C.a,{children:Object(J.jsx)(Rs,{open:e,setOpen:t,createdBy:null===x||void 0===x?void 0:x.uid,setSnackOpen:l,success:j,error:p,adminList:y,subscription:b})}),Object(J.jsx)(C.a,{children:Object(J.jsx)(Js,{open:a,setOpen:s,createdBy:null===x||void 0===x?void 0:x.uid,setSnackOpen:l,selectedAdmin:n,success:j,error:p})}),null!==S&&Object(J.jsx)(Te.a,{open:r,autoHideDuration:4e3,onClose:w,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:w,severity:"success",sx:{width:"100%"},variant:"filled",children:d})}),null!==v&&Object(J.jsx)(Te.a,{open:r,autoHideDuration:4e3,onClose:w,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:w,severity:"error",sx:{width:"100%"},variant:"filled",children:u})})]})},qs=a(452),Ks=a(411),Zs=a(406),Xs=a(128),Qs=a.n(Xs);var en=e=>Object(J.jsxs)(qs.a,{className:"pricing-card pro",sx:{boxShadow:15,py:5,px:4},children:[Object(J.jsxs)(C.a,{children:[Object(J.jsxs)(ke.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",justifyContent:"space-between",children:[Object(J.jsx)(de.a,{variant:"h1",sx:{my:2,fontSize:40,color:"white"},children:`$${e.value}`}),e.isCurrent&&Object(J.jsxs)(C.a,{sx:{display:"flex",alignItems:"center"},children:[Object(J.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#4CAF50",borderRadius:"50%"}}),Object(J.jsx)(de.a,{variant:"h4",sx:{my:2,color:"#4CAF50",ml:1},children:"Active"})]})]}),Object(J.jsx)(cs.a,{label:"Pro Account",variant:"outlined",className:"chip",sx:{my:2,color:"#fb8c00",border:"1.5px solid #fb8c00",width:"100%"}}),Object(J.jsxs)(ke.a,{direction:"row",justifyContent:"space-between",children:[Object(J.jsxs)(de.a,{variant:"h1",sx:{my:2,fontSize:40,color:"white"},children:["$1"," ",Object(J.jsx)("span",{style:{color:"gray",fontSize:15,textTransform:"uppercase"},children:"/ user"})]}),Object(J.jsx)(de.a,{variant:"h1",sx:{my:2,fontSize:40,color:"white"},children:`${e.value}`})]}),Object(J.jsxs)(ke.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:[Object(J.jsx)(de.a,{variant:"h5",color:"white",children:"0"}),Object(J.jsx)(Ks.a,{sx:{color:"whitesmoke"},value:e.value,onChange:e.handleValueChange,max:1e3}),Object(J.jsx)(de.a,{variant:"h5",color:"white",children:"1000"})]}),Object(J.jsx)(v.a,{sx:{my:3},children:["Unlimited Hotspots","Unlimited Devices","Unlimited Groups","Unlimited Admins","Get Report of Unlimited Period"].map((e=>Object(J.jsxs)(w.a,{disablePadding:!0,children:[Object(J.jsx)(Zs.a,{children:Object(J.jsx)(Qs.a,{htmlColor:"#4CAF50",sx:{fontSize:27,my:.5,ml:.5}})}),Object(J.jsx)(A.a,{primary:e,sx:{color:"white"}})]},e)))})]}),Object(J.jsx)(Rt.a,{className:"pro-btn btn",variant:"contained",sx:{py:1.4,borderRadius:25,boxShadow:5},onClick:e.action,children:"Pay as you go"})]}),tn=a(202),an=a.n(tn);var sn=e=>Object(J.jsxs)(qs.a,{className:"pricing-card",sx:{py:5,px:4},children:[Object(J.jsxs)(C.a,{children:[Object(J.jsxs)(ke.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",justifyContent:"space-between",children:[Object(J.jsx)(de.a,{variant:"h1",sx:{my:2,fontSize:40},children:"$0"}),e.isCurrent&&Object(J.jsxs)(C.a,{sx:{display:"flex",alignItems:"center"},children:[Object(J.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"green",borderRadius:"50%"}}),Object(J.jsx)(de.a,{variant:"h4",sx:{my:2,color:"#4CAF50",ml:1},children:"Active"})]})]}),Object(J.jsx)(cs.a,{label:"Free Account",variant:"outlined",className:"chip",sx:{my:2,color:"#e91e63",border:"1.5px solid #e91e63",width:"100%"}}),Object(J.jsxs)(de.a,{variant:"h1",sx:{my:2,fontSize:40},children:["$0"," ",Object(J.jsx)("span",{style:{color:"gray",fontSize:15,textTransform:"uppercase"},children:"/ user"})]}),Object(J.jsx)(v.a,{sx:{my:3,mt:8},children:["Only 10 Hotspots","Unlimited Devices","Only 2 Groups","No Admins","Get Report of last 1 month"].map(((e,t)=>Object(J.jsxs)(w.a,{disablePadding:!0,children:[Object(J.jsx)(Zs.a,{children:1===t?Object(J.jsx)(Qs.a,{htmlColor:"#4CAF50",sx:{fontSize:27,my:.5,ml:.5}}):Object(J.jsx)(an.a,{htmlColor:"#e91e63",sx:{fontSize:27,my:.5,ml:.5}})}),Object(J.jsx)(A.a,{primary:e})]},t)))})]}),Object(J.jsx)(Rt.a,{className:"free-btn btn",variant:"outlined",disabled:e.isCurrent,sx:{py:1.4,borderRadius:25,boxShadow:5},onClick:e.action,children:"Pick free plan"})]});var nn=()=>{const[e,t]=x.a.useState(500),[a,s]=Object(m.useState)(""),[n,c]=Object(m.useState)([]),[o,r]=Object(m.useState)(!0),l=Object(i.g)(),{state:d,dispatch:j}=Ba(),u=null===d||void 0===d?void 0:d.customerId;Object(m.useEffect)((()=>{if(d.subscriptions){let a;if(0!==d.subscriptions.length){for(let t of null===d||void 0===d||null===(e=d.subscriptions)||void 0===e?void 0:e.data){var e;if("active"===t.status){a=t;break}}const n=a?a.plan.id:"",c=a?a.quantity:0;s(n),t(c)}else s(""),t(0)}}),[d]),Object(m.useEffect)((()=>{(async()=>{const{data:e}=await $e.a.get(`${Ue}/subscription/config`);c(e.prices),r(!1)})()}),[]);const p=(e,a)=>{t(a)},b=async(t,a)=>{if(a<=0)alert("Please select atlest one user");else try{const s={headers:{"Content-Type":"application/json"}},n={customerId:u,priceId:t.id,quantity:a},{data:c}=await $e.a.post(`${Ue}/create/subscription`,n,s);console.log(c);const{clientSecret:o}=c;o?(j({type:"SELECT_PRODUCT",payload:{cart:{product:t,clientSecret:o}}}),"Free Plan"===t.product.name&&window.location.reload(),l("/subscribe",{state:{quantity:e}})):(console.log("Cannot create Subscription"),j({type:"SELECT_PRODUCT",payload:{cart:{product:t,clientSecret:o}}}),console.log("Here"),"Free Plan"===t.product.name&&window.location.reload())}catch(s){console.log(s.message)}};return o?Object(J.jsx)(C.a,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(J.jsx)(Xt.a,{color:"secondary"})}):Object(J.jsxs)(C.a,{sx:{p:2},children:[Object(J.jsxs)(C.a,{sx:{mt:2,mb:5},children:[Object(J.jsx)(de.a,{variant:"h2",sx:{textAlign:"center"},children:"Choose your plan"}),Object(J.jsx)(de.a,{vanriant:"h6",sx:{textAlign:"center",mt:2,letterSpacing:.6,color:"gray"},children:"Select one of our plans below as per your convenience"})]}),Object(J.jsx)(C.a,{className:"card-container",sx:{mt:6},children:n.map((t=>Object(J.jsxs)(C.a,{children:["Pro Plan"===t.product.name&&Object(J.jsx)(en,{value:e,handleValueChange:p,isCurrent:a===t.id,action:()=>b(t,e)}),"Free Plan"===t.product.name&&Object(J.jsx)(sn,{isCurrent:a===t.id,action:()=>b(t,1)})]},t.id)))})]})},cn=a(203),on=a(70),rn=a(129),ln=a.n(rn);var dn=function({handleBack:e,handleSubmit:t,quantity:a}){const{state:s}=Ba();return console.log(s),Object(J.jsxs)(C.a,{children:[Object(J.jsxs)(ve.a,{container:!0,spacing:3,children:[Object(J.jsx)(ve.a,{item:!0,xs:12,children:Object(J.jsx)("h4",{children:"Enter Card Details"})}),Object(J.jsx)(ve.a,{item:!0,xs:12,children:Object(J.jsx)(C.a,{children:Object(J.jsx)(on.CardElement,{})})})]}),Object(J.jsx)(ve.a,{item:!0,xs:12,children:Object(J.jsxs)(C.a,{mt:5,alignItems:"center",justifyContent:"space-between",display:"flex",children:[Object(J.jsx)(Rt.a,{startIcon:Object(J.jsx)(ln.a,{}),onClick:e,children:"Go Back"}),Object(J.jsx)(Rt.a,{type:"submit",variant:"contained",onClick:t,sx:{py:1.2,fontSize:14,px:"40px"},children:`PAY  $${a}`})]})})]})};const jn=[{name:"Afghanistan",code:"AF"},{name:"\xc5land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People'S Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People'S Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}];var un=function(e){var t;const{state:a}=Ba(),s=null===a||void 0===a||null===(t=a.cart)||void 0===t?void 0:t.details,[n,c]=Object(m.useState)(s||{name:"",address:"",city:"",state:"",country:""}),o=e=>{c({...n,[e.target.name]:e.target.value})};return Object(J.jsxs)(C.a,{children:[Object(J.jsxs)(ve.a,{container:!0,spacing:3,children:[Object(J.jsx)(ve.a,{item:!0,xs:12,children:Object(J.jsx)("h4",{children:"Payment Details"})}),Object(J.jsx)(ve.a,{item:!0,xs:12,children:Object(J.jsx)(Ce.a,{autoFocus:!0,fullWidth:!0,label:"Card Holder Name",name:"name",required:!0,value:n.name,onChange:o})}),Object(J.jsx)(ve.a,{item:!0,md:12,xs:12,children:Object(J.jsx)("h4",{children:"Billing Details"})}),Object(J.jsx)(ve.a,{item:!0,md:6,xs:12,children:Object(J.jsx)(Ce.a,{fullWidth:!0,label:"Street Address",name:"address",required:!0,value:n.address,onChange:o})}),Object(J.jsx)(ve.a,{item:!0,md:6,xs:12,children:Object(J.jsxs)(qt.a,{fullWidth:!0,children:[Object(J.jsx)(Kt.a,{id:"country-select",children:"Country"}),Object(J.jsx)(wa.a,{required:!0,labelId:"country-select",name:"country",value:n.country,label:"Country",onChange:o,children:jn.map((e=>Object(J.jsx)(Ae.a,{sx:{py:1},value:e.code,children:`${e.name} - ${e.code}`},e.code)))})]})}),Object(J.jsx)(ve.a,{item:!0,md:6,xs:12,children:Object(J.jsx)(Ce.a,{fullWidth:!0,label:"State",name:"state",required:!0,value:n.state,onChange:o})}),Object(J.jsx)(ve.a,{item:!0,md:6,xs:12,children:Object(J.jsx)(Ce.a,{fullWidth:!0,label:"City",name:"city",required:!0,value:n.city,onChange:o})})]}),Object(J.jsx)(ve.a,{item:!0,xs:12,children:Object(J.jsx)(C.a,{mt:5,alignItems:"center",justifyContent:"space-between",display:"flex",children:Object(J.jsx)(Rt.a,{type:"submit",variant:"contained",onClick:()=>(t=>{if(Object.values(t).includes(""))return e.setErrorMsg("All Fields are required"),void e.setSnackOpen(!0);e.handleNext(t)})(n),sx:{width:"100%",py:1.5},children:"Continue to Pay"})})})]})},pn=a(453);const bn=e=>{const[t,a]=Object(m.useState)(0),[s,n]=Object(m.useState)(0),c=Object(i.g)(),{state:o,dispatch:r}=Ba(),{fetchSubscriptions:l}=Object(m.useContext)(za),d=null===o||void 0===o?void 0:o.customerId;return Object(m.useEffect)((()=>{"true"===sessionStorage.getItem("reload")&&(sessionStorage.removeItem("reload"),c("/app/pricing",{replace:!0}))}),[]),Object(m.useEffect)((()=>{if(!1===e.open)return;const t=setInterval((()=>{a((e=>e+5))}),250);return n(t),()=>clearInterval(t)}),[e]),Object(m.useEffect)((async()=>{if(t>100){clearInterval(s);const e=await l(d);r({type:"SUBSCRIPTION_DATA_CHANGED",payload:{customerId:d,subscriptions:e}}),sessionStorage.setItem("reload","true"),window.location.reload()}}),[t]),console.log("Here"),Object(J.jsx)(Qa.a,{open:e.open,onClose:e.handleClose,children:Object(J.jsx)(ts.a,{children:Object(J.jsxs)(C.a,{children:[Object(J.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/evencloud-26d32.appspot.com/o/success.png?alt=media&token=14200909-edb3-4628-bfe5-36e346709737",alt:"Success Image",style:{width:"250px",height:"250px"}}),Object(J.jsx)(pn.a,{variant:"determinate",value:t,color:"success"})]})})})};var hn=x.a.memo(bn);function mn(){const e=Object(on.useStripe)(),t=Object(on.useElements)(),{state:a,dispatch:s}=Ba(),{cart:n}=a,[c,o]=Object(m.useState)(""),[r,l]=Object(m.useState)(!1),[d,j]=Object(m.useState)(!1),[u,p]=Object(m.useState)(null),[b,h]=Object(m.useState)(!1),x=Object(i.g)(),g=Object(i.f)(),O=g.state?g.state.quantity:0,f=(e,t)=>{"clickaway"!==t&&(j(!1),p(null))};return Object(J.jsxs)(C.a,{sx:{p:4,background:"#f0f2f5",minHeight:"100%"},children:[Object(J.jsx)(C.a,{children:Object(J.jsx)(Rt.a,{startIcon:Object(J.jsx)(ln.a,{}),onClick:()=>x("/app/pricing"),children:"Go Back"})}),Object(J.jsxs)(C.a,{sx:{mt:2,mb:5},children:[Object(J.jsx)(de.a,{variant:"h2",sx:{textAlign:"center"},children:"Make a payment"}),Object(J.jsx)(de.a,{vanriant:"h6",sx:{textAlign:"center",mt:2,letterSpacing:.6,color:"gray"},children:"Fill the payment form with Billing Address, Card Holder Name and Card Details"})]}),Object(J.jsxs)(Le.a,{sx:{borderRadius:3,boxShadow:10,margin:"40px auto",backgroundColor:"background.paper",p:5,maxWidth:"600px",mt:8},children:[r&&Object(J.jsx)(dn,{handleBack:()=>{l(!1)},handleSubmit:async s=>{var i,r,l;if(s.preventDefault(),!e||!t)return;console.log(null===a||void 0===a?void 0:a.cart);const{error:d,paymentIntent:u}=await e.confirmCardPayment(null===a||void 0===a||null===(i=a.cart)||void 0===i?void 0:i.clientSecret,{payment_method:{card:t.getElement(on.CardElement),billing_details:{name:null===n||void 0===n?void 0:n.details.name,address:{line1:null===n||void 0===n?void 0:n.details.address,postal_code:(null===n||void 0===n?void 0:n.details.zip)||"38483",city:null===n||void 0===n||null===(r=n.details)||void 0===r?void 0:r.city,country:null===n||void 0===n||null===(l=n.details)||void 0===l?void 0:l.country}}}});var b;d?(b=d.message,o(`${c}\n\n${b}`),p(d.message),j(!0),console.log(d.message)):"succeeded"===u.status&&(console.log("Success"),h(!0))},quantity:O}),!r&&Object(J.jsx)(un,{handleNext:e=>{s({type:"PAYMENT_DETAILS",payload:{details:e}}),l(!0)},setErrorMsg:p,setSnackOpen:j})]}),Object(J.jsx)(hn,{open:b,handleClose:()=>{h(!1)}}),null!==u&&Object(J.jsx)(Te.a,{open:d,autoHideDuration:4e3,onClose:f,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:f,severity:"error",sx:{width:"100%"},variant:"filled",children:u})})]})}const xn=Object(cn.a)("pk_test_51LERE7SHgzLT4nCoLBiNHxLi1VA6lbqcTOnrkwtNlduP9Ht93k7NbY5OF4GXR8vdid3eig3lV1DAxS2XSshACkUe00hDCZvx5x");var gn=()=>Object(J.jsx)(on.Elements,{stripe:xn,children:Object(J.jsx)(mn,{})});var On=()=>{const[e,t]=Object(m.useState)(""),[a,s]=Object(m.useState)(!1),[n,o]=Object(m.useState)(""),[r,l]=Object(m.useState)(""),d=Object(i.g)(),j=e=>(console.log(e),e.split("/")[1].split("-").join(" "));return Object(J.jsxs)(x.a.Fragment,{children:[Object(J.jsx)(C.a,{sx:{width:"100%",display:"flex",justifyContent:"center",p:5},children:Object(J.jsxs)(qs.a,{sx:{width:500,p:3,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(J.jsx)("h3",{style:{fontWeight:500},children:"Enter your registered Email Address"}),Object(J.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,type:"email",placeholder:"Email Address",label:"Email Address",value:e,onChange:e=>t(e.target.value),sx:{mt:4}}),Object(J.jsx)(Rt.a,{onClick:()=>{Object(M.f)(z,e).then((()=>{l(`Password Reset Email Sent to ${e}`),s(!0),t(""),setTimeout((()=>{d("/login")}),4e3)})).catch((e=>{const t=e.code;o(j(t)),s(!0)}))},fullWidth:!0,variant:"contained",sx:{py:1.1,mt:2},children:"Send Link"}),Object(J.jsx)(C.a,{sx:{mt:2},children:Object(J.jsx)(Yt.a,{component:c.b,to:"/login",variant:"body2",underline:"hover",children:Object(J.jsx)(de.a,{component:"p",children:"Back to Login"})})})]})}),n&&Object(J.jsx)(Te.a,{open:a,autoHideDuration:4e3,onClose:()=>s(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:()=>s(!1),severity:"error",sx:{width:"100%"},variant:"filled",children:n})}),r&&Object(J.jsx)(Te.a,{open:a,autoHideDuration:4e3,onClose:()=>s(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(_e.a,{onClose:()=>s(!1),severity:"success",sx:{width:"100%"},variant:"filled",children:r})})]})};var fn=[{path:"app",element:Object(J.jsx)(xe,{}),children:[{path:"dashboard",element:Object(J.jsx)(Bt,{})},{path:"manage-devices",element:Object(J.jsx)(bs,{})},{path:"manage-hotspots",element:Object(J.jsx)(fs,{})},{path:"manage-groups",element:Object(J.jsx)(Hs,{})},{path:"manage-admins",element:Object(J.jsx)(Ys,{})},{path:"pricing",element:Object(J.jsx)(nn,{})},{path:"notifications",element:Object(J.jsx)(Xa,{})},{path:"reports",element:Object(J.jsx)(Ka,{})},{path:"locationview/:phoneNumber/:requestId",element:Object(J.jsx)(et,{})},{path:"profile",element:Object(J.jsx)(ws,{})},{path:"*",element:Object(J.jsx)(i.a,{to:"/404"})}]},{path:"",element:Object(J.jsx)(Se,{}),children:[{path:"register",element:Object(J.jsx)(da,{})},{path:"login",element:Object(J.jsx)(ca,{})},{path:"subscribe",element:Object(J.jsx)(gn,{})},{path:"/forget-password",element:Object(J.jsx)(On,{})},{path:"404",element:Object(J.jsx)(oa,{})},{path:"/",element:Object(J.jsx)(i.a,{to:"/app/dashboard"})},{path:"*",element:Object(J.jsx)(i.a,{to:"/404"})}]}];a(303);var yn=()=>{const e=Object(i.i)(fn),t=Object(o.b)(),a=Object(i.g)(),s=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null,n=localStorage.getItem("adminData")?JSON.parse(localStorage.getItem("adminData")):null;return Object(m.useEffect)((()=>{localStorage.getItem("authToken")||a("/login")}),[]),Object(m.useEffect)((()=>{if(null===n&&null!==s&&(t(Gt(s.uid)),t($t(s.uid)),t(Ut(s.uid)),t(zt(s.uid))),null!==n&&null!==s){(async()=>{const{data:e}=await $e.a.get(`${Ue}/get/admin/${n.email}`);t(Ft({createdBy:s.uid,adminGroups:e.groups})),t(Ht({createdBy:s.uid,adminGroups:e.groups}))})()}}),[t]),Object(J.jsx)(r.a,{injectFirst:!0,children:Object(J.jsxs)(l.a,{theme:h,children:[Object(J.jsx)(p,{}),e]})})},Sn=a(105),vn=a(205),Cn=a(204);const wn=Object(Sn.combineReducers)({hotspots:(e={hotspotList:[]},t)=>{switch(t.type){case it:return{hotspotList:t.payload};case rt:return{error:t.payload,hotspotList:[]};case ct:{const a=t.payload;console.log(a);const s=e.hotspotList.find((e=>e._id===a._id));return s?{...e,hotspotList:e.hotspotList.map((e=>e._id===s._id?a:e)),success:"Hotspot created succssfully"}:{...e,hotspotList:[...e.hotspotList,a],success:"Hotspot created succssfully"}}case ot:return{hotspotList:[...e.hotspotList],error:t.payload};case lt:{const a=t.payload;console.log(a);const s=e.hotspotList.find((e=>e._id===a._id));return s?{...e,hotspotList:e.hotspotList.map((e=>e._id===s._id?a:e)),success:"Hotspot updated succssfully"}:{...e,hotspotList:[...e.hotspotList,a],success:"Hotspot updated succssfully"}}case dt:return{hotspotList:[...e.hotspotList],error:t.payload};case jt:return{...e,hotspotList:e.hotspotList.filter((e=>e._id!==t.payload)),success:"Hotspot deleted succssfully"};case ut:return{error:t.payload,hotspotList:[...e.hotspotList]};default:return e}},groups:(e={groupList:[]},t)=>{switch(t.type){case ht:return{groupList:t.payload};case mt:return{error:t.payload,groupList:[]};case pt:{const a=t.payload,s=e.groupList.find((e=>e._id===a._id));return s?{...e,groupList:e.groupList.map((e=>e._id===s._id?a:e)),success:"Group created succssfully"}:{...e,groupList:[...e.groupList,a],success:"Group created succssfully"}}case bt:return{groupList:[...e.groupList],error:t.payload};case xt:{const a=t.payload,s=e.groupList.find((e=>e._id===a._id));return s?{...e,groupList:e.groupList.map((e=>e._id===s._id?a:e)),success:"Group updated succssfully"}:{...e,groupList:[...e.groupList,a],success:"Group updated succssfully"}}case gt:return{groupList:[...e.groupList],error:t.payload};case Ot:return{...e,groupList:e.groupList.filter((e=>e._id!==t.payload)),success:"Group deleted succssfully"};case ft:return{error:t.payload,groupList:[...e.groupList]};default:return e}},admins:(e={adminList:[]},t)=>{switch(t.type){case vt:return{adminList:t.payload};case Ct:return{error:t.payload,adminList:[]};case yt:{const a=t.payload,s=e.adminList.find((e=>e._id===a._id));return s?{...e,adminList:e.adminList.map((e=>e._id===s._id?a:e)),success:"Admin created succssfully"}:{...e,adminList:[...e.adminList,a],success:"Admin created succssfully"}}case St:return{adminList:[...e.adminList],error:t.payload};case wt:{const a=t.payload,s=e.adminList.find((e=>e._id===a._id));return s?{...e,adminList:e.adminList.map((e=>e._id===s._id?a:e)),success:"Admin updated succssfully"}:{...e,adminList:[...e.adminList,a],success:"Admin updated succssfully"}}case Nt:return{adminList:[...e.adminList],error:t.payload};case Dt:return{...e,adminList:e.adminList.filter((e=>e._id!==t.payload)),success:"Admin deleted successfully"};case At:return{error:t.payload,hotspotList:[...e.adminList]};default:return e}},devices:(e={deviceList:[]},t)=>{switch(t.type){case It:return{deviceList:t.payload};case Et:return{error:t.payload,deviceList:[]};case kt:{const a=t.payload,s=e.deviceList.find((e=>e._id===a._id));return s?{...e,deviceList:e.deviceList.map((e=>e._id===s._id?a:e)),success:"Device added succssfully"}:{...e,deviceList:[...e.deviceList,a],success:"Device added succssfully"}}case Lt:return{deviceList:[...e.deviceList],error:t.payload};case Tt:{const a=t.payload;console.log(a);const s=e.deviceList.find((e=>e._id===a._id));return s?{...e,deviceList:e.deviceList.map((e=>e._id===s._id?a:e)),success:"Device updated succssfully"}:{...e,deviceList:[...e.deviceList,a],success:"Device updated succssfully"}}case _t:return{deviceList:[...e.deviceList],error:t.payload};case Pt:return{...e,deviceList:e.deviceList.filter((e=>e._id!==t.payload)),success:"Device deleted succssfully"};case Mt:return{error:t.payload,deviceList:[...e.deviceList]};default:return e}}}),Nn={hotspots:{hotspotList:sessionStorage.getItem("hotspotList")?JSON.parse(sessionStorage.getItem("hotspotList")):[]},groups:{groupList:sessionStorage.getItem("groupList")?JSON.parse(sessionStorage.getItem("groupList")):[]},admins:{adminList:sessionStorage.getItem("adminList")?JSON.parse(sessionStorage.getItem("adminList")):[]},devices:{deviceList:sessionStorage.getItem("deviceList")?JSON.parse(sessionStorage.getItem("deviceList")):[]}},Dn=[vn.a];var An=Object(Sn.createStore)(wn,Nn,Object(Cn.composeWithDevTools)(Object(Sn.applyMiddleware)(...Dn)));n.a.render(Object(J.jsx)(Ua,{children:Object(J.jsx)(Wa,{children:e=>e.state.isInitialized&&Object(J.jsx)(o.a,{store:An,children:Object(J.jsx)(c.a,{children:Object(J.jsx)(yn,{})})})})}),document.getElementById("root"))}},[[304,1,2]]]);
//# sourceMappingURL=main.5a300929.chunk.js.map