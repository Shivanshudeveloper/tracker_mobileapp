(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{311:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var s=a(49),n=a.n(s),c=a(34),o=a(18),i=(a(243),a(16)),r=a(399),l=a(449),d=a(400),j=a(379);const u=Object(d.a)((()=>Object(j.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})));var p=()=>(u(),null),b=a(205);var h=Object(b.a)({palette:{background:{default:"#f4f6f8",paper:"#ffffff"},primary:{contrastText:"#ffffff",main:"#5664d2"},text:{primary:"#172b4d",secondary:"#6b778c"}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),m=a(1),g=a.n(m),x=a(5),O=a(420),f=a(422),y=a(423),S=a(424),v=a(426),C=a(427),N=a(407),w=a(428),D=a(412),k=a(387),I=a(388),A=a(183),E=a.n(A),L=a(185),T=a.n(L),P=a(182),_=a(207),M=a(25),G=a(11),F=a(91);const H=Object(P.a)({apiKey:"AIzaSyCB3eqMf02L6kH_F7MAuwXUQVd1dFZfVFQ",authDomain:"mobiletracking-cd8f2.firebaseapp.com",databaseURL:"https://mobiletracking-cd8f2.firebaseio.com",projectId:"mobiletracking-cd8f2",storageBucket:"mobiletracking-cd8f2.appspot.com",messagingSenderId:"448981545000",appId:"1:448981545000:web:14011a88c4a6079456051d",measurementId:"G-M9EEMS9J5G"}),$=(Object(_.a)(H),Object(G.h)(H)),z=Object(M.c)(H),U=Object(F.b)(H);var W=a(41),B=a.n(W),R=a(186),J=a.n(R),V=a(0);var Y=({onMobileNavOpen:e,...t})=>{const[a,s]=Object(m.useState)([]),[n,o]=Object(m.useState)(null),[r,l]=Object(m.useState)(!1),d=Object(i.g)(),j=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null;Object(m.useEffect)((()=>{sessionStorage.getItem("authToken")||d("/login")}),[]),Object(m.useEffect)((()=>{if(null!==j){const e=Object(G.c)($,"trackingWebNotification",null===j||void 0===j?void 0:j.uid,"notifications"),t=Object(G.l)(e,Object(G.k)("createdAt","desc"),Object(G.i)(100)),a=Object(G.j)(t,(e=>{const t=[];e.forEach((e=>{t.push(e.data())})),s(t)}));return()=>a()}}),[]);const u=e=>{const t=B()(new Date(1e3*e)).fromNow();switch(t){case"in a few seconds":case"a few seconds ago":return"few sec";case"a minute ago":return"1m";case"an hour ago":return"1h";case"a day ago":return"1day";default:const e=t.split(" ")[0];let a=t.split(" ")[1];return"minutes"!==a&&"minute"!==a||(a="m"),"hours"!==a&&"hour"!==a||(a="h"),"days"!==a&&"day"!==a||(a="d"),e+a}};return Object(V.jsx)(O.a,{elevation:0,...t,children:Object(V.jsxs)(f.a,{sx:{backgroundColor:"#007bff",display:"flex",justifyContent:"flex-end",gap:1},children:[Object(V.jsx)(y.a,{onClick:e=>{o(e.currentTarget),l(!0)},children:Object(V.jsx)(E.a,{sx:{color:"white"}})}),Object(V.jsx)(S.a,{id:"notification",open:r,anchorEl:n,onClose:()=>{o(null),l(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},className:"notification",children:Object(V.jsx)(v.a,{sx:{padding:2},children:a.map(((e,t)=>Object(V.jsxs)(C.a,{style:{padding:2},children:[Object(V.jsxs)(N.a,{sx:{mt:1.5},children:[Object(V.jsxs)(w.a,{children:["pending"===e.requestStatus&&Object(V.jsx)(D.a,{src:"https://firebasestorage.googleapis.com/v0/b/mobiletracking-cd8f2.appspot.com/o/pending.png?alt=media&token=20afc88a-6914-4657-962e-ba9d5e684ae5"}),"accepted"===e.requestStatus&&Object(V.jsx)(D.a,{src:"https://firebasestorage.googleapis.com/v0/b/mobiletracking-cd8f2.appspot.com/o/accept.png?alt=media&token=83902429-f4af-40b8-852c-faca1e144a92"}),"rejected"===e.requestStatus&&Object(V.jsx)(D.a,{src:"https://firebasestorage.googleapis.com/v0/b/mobiletracking-cd8f2.appspot.com/o/reject.png?alt=media&token=25da312f-2ec2-492d-97d9-1d47ecd1afd5"})]}),Object(V.jsx)(k.a,{primary:e.message,secondary:u(e.createdAt.seconds)+" ago"})]}),Object(V.jsx)(I.a,{})]},++t)))})}),Object(V.jsx)(c.b,{to:"/app/profile",children:Object(V.jsx)(y.a,{onClick:e=>{o(e.currentTarget)},children:Object(V.jsx)(T.a,{sx:{color:"white"}})})}),Object(V.jsx)(y.a,{onClick:()=>{sessionStorage.removeItem("userData"),Object(M.g)(z).then((()=>d("/login",{replace:!0}))).catch((e=>console.log(e)))},children:Object(V.jsx)(J.a,{sx:{color:"white"}})})]})})},q=a(413),K=a(389),Z=a(154),X=a.n(Z),Q=a(155),ee=a.n(Q),te=a(187),ae=a.n(te),se=a(188),ne=a.n(se),ce=a(156),oe=a.n(ce),ie=a(189),re=a.n(ie),le=a(390),de=a(93);const je=Object(d.a)((e=>({root:{display:"flex"},drawer:{width:60,flexShrink:0,whiteSpace:"nowrap"},appBar:{width:"calc(100% - 60px)",marginLeft:60},toolbar:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(0,1),...e.mixins.toolbar},listContainer:{display:"flex",height:"100%",flexDirection:"column",justifyContent:"center"}})));var ue=()=>{const e=je(),[t,a]=g.a.useState(0),s=sessionStorage.getItem("adminData")?JSON.parse(sessionStorage.getItem("adminData")):null,n=["/app/dashboard","/app/manage-hotspots","/app/manage-devices","/app/reports","/app/manage-groups","/app/manage-admins","/app/pricing"],o=["Overview","Hotspots","Devices","Reports","Groups","Admins","Pricing"];return Object(V.jsxs)("div",{className:e.root,children:[Object(V.jsx)(K.a,{}),Object(V.jsx)(q.a,{variant:"permanent",children:Object(V.jsx)("div",{className:e.listContainer,children:Object(V.jsx)(v.a,{children:null===s?[Object(V.jsx)(le.a,{fontSize:"large",sx:{color:"#6600cc"}}),Object(V.jsx)(X.a,{fontSize:"large",sx:{color:"red"}}),Object(V.jsx)(ee.a,{fontSize:"large",sx:{color:"#007bff"}}),Object(V.jsx)(oe.a,{fontSize:"large",sx:{color:"#fc6a03"}}),Object(V.jsx)(ae.a,{fontSize:"large",sx:{color:"green"}}),Object(V.jsx)(ne.a,{fontSize:"large",sx:{color:"#cc33ff"}}),Object(V.jsx)(re.a,{fontSize:"large",sx:{color:"#3F00FF"}})].map(((e,t)=>Object(V.jsx)(c.b,{to:n[t],children:Object(V.jsxs)(N.a,{sx:{pt:1.5,pb:1.5,px:1,display:"flex",flexDirection:"column",borderBottomColor:"#007bff",borderBottomWidth:10},onClick:()=>a(t),children:[Object(V.jsx)("div",{children:e}),Object(V.jsx)(de.a,{color:"black",sx:{fontSize:12},children:o[t]})]})},t))):[Object(V.jsx)(le.a,{fontSize:"large",sx:{color:"#6600cc"}}),Object(V.jsx)(X.a,{fontSize:"large",sx:{color:"red"}}),Object(V.jsx)(ee.a,{fontSize:"large",sx:{color:"#007bff"}}),Object(V.jsx)(oe.a,{fontSize:"large",sx:{color:"orange"}})].map(((e,t)=>Object(V.jsx)(c.b,{to:n[t],children:Object(V.jsxs)(N.a,{sx:{pt:1.5,pb:1.5,px:1,display:"flex",flexDirection:"column",borderBottomColor:"#007bff",borderBottomWidth:10},onClick:()=>a(t),children:[Object(V.jsx)("div",{children:e}),Object(V.jsx)(de.a,{color:"black",sx:{fontSize:12},children:o[t]})]})},t)))})})})]})};const pe=Object(x.a)("div")((({theme:e})=>({backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}))),be=Object(x.a)("div")((({theme:e})=>({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64,[e.breakpoints.up("md")]:{paddingLeft:68}}))),he=Object(x.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),me=Object(x.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"});var ge=()=>{const[e,t]=Object(m.useState)(!1);return Object(V.jsxs)(pe,{children:[Object(V.jsx)(Y,{onMobileNavOpen:()=>t(!0)}),Object(V.jsx)(ue,{onMobileClose:()=>t(!1),openMobile:e}),Object(V.jsx)(be,{children:Object(V.jsx)(he,{children:Object(V.jsx)(me,{children:Object(V.jsx)(i.b,{})})})})]})};const xe=Object(x.a)("div")((({theme:e})=>({backgroundColor:e.palette.background.paper,display:"flex",height:"100%",overflow:"hidden",width:"100%"}))),Oe=Object(x.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),fe=Object(x.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),ye=Object(x.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"});var Se=()=>Object(V.jsx)(xe,{children:Object(V.jsx)(Oe,{children:Object(V.jsx)(fe,{children:Object(V.jsx)(ye,{children:Object(V.jsx)(i.b,{})})})})}),ve=a(415),Ce=a(409),Ne=a(432),we=a(209),De=a(206),ke=a(433),Ie=a(393),Ae=a(421),Ee=a(197),Le=a.n(Ee),Te=a(408),Pe=a(403),_e=a(392),Me=a(86),Ge=a(414),Fe=a(28),He=a(15),$e=a.n(He),ze=a(193);a.n(ze).a.config();const Ue="https://murmuring-brook-41081.herokuapp.com/api/v1/main",We="pk.eyJ1Ijoic2hpdmFuc2h1OTgxIiwiYSI6ImNrdmoyMjh5bDJmeHgydXAxem1sbHlhOXQifQ.2PZhm_gYI4mjpPyh7xGFSw",Be="mapbox://styles/shivanshu981/ckvrknxuq05w515pbotlkvj63";var Re=a(450),Je=a(419),Ve=a(451),Ye=a(452),qe=a(453),Ke=a(391);const Ze=e=>Object(V.jsx)(C.a,{children:Object(V.jsx)(Re.a,{sx:{px:0,mr:4},children:e.locations.map((e=>Object(V.jsxs)(Je.a,{children:[Object(V.jsxs)(Ve.a,{children:[Object(V.jsx)(Ye.a,{variant:"outlined",color:"error"}),Object(V.jsx)(qe.a,{})]}),Object(V.jsx)(Ke.a,{children:Object(V.jsxs)(C.a,{sx:{pb:1.3},children:[Object(V.jsx)(de.a,{component:"h6",children:e.address}),Object(V.jsx)(de.a,{component:"p",sx:{fontSize:12},children:B()(e.createdAt).format("DD MMMM YYYY - hh:mm a")})]})})]})))})});var Xe=g.a.memo(Ze);const Qe=e=>{const{user:t}=e,{phoneNumber:a,createdBy:s}=t;console.log(t,a,s);const[n,c]=Object(m.useState)(0),[o,i]=Object(m.useState)(0),[r,l]=Object(m.useState)({width:"100%",height:"100%",latitude:n,longitude:o,zoom:15}),[d,j]=Object(m.useState)(!1),[u,p]=Object(m.useState)(null),[b,h]=Object(m.useState)(null),[g,x]=Object(m.useState)({}),[O,f]=Object(m.useState)(""),[y,S]=Object(m.useState)(!1),[v,N]=Object(m.useState)(!1),[w,k]=Object(m.useState)([]);Object(m.useEffect)((async()=>{S(!0),0!==n&&0!==o&&$e.a.get(`${Ue}/getlatlong/${u}/${b}`).then((e=>{console.log("SETTING DATA"),x(e.data),S(!1)})).catch((e=>console.log(e)))}),[u,b]),Object(m.useEffect)((()=>{var e=Object(G.d)($,"trackerAndroidUser",a);const t=Object(G.j)(e,(e=>{if(e.exists()){const t=e.data();l({width:"100%",height:800,latitude:t.liveLocation.latitude,longitude:t.liveLocation.longitude,zoom:15}),c(t.liveLocation.latitude),i(t.liveLocation.longitude),f(t.profilePicture)}}));return()=>t()}),[a]),Object(m.useEffect)((async()=>{try{const{data:e}=await $e.a.get(`${Ue}/get/location/${s}/${a}/${(new Date).getMonth()+1}`);k(e)}catch(e){console.log(e.message)}}),[t]);const I=()=>{v?(N(!1),l({...r,width:"100%"})):(N(!0),l({...r,width:"100%"}))};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Me.a,{children:Object(V.jsx)("title",{children:"Dashboard"})}),Object(V.jsxs)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",display:"flex"},children:[Object(V.jsxs)(Ge.a,{maxWidth:!0,sx:{px:0,height:"100"},children:["accepted"===t.trackingStatus&&Object(V.jsxs)(Fe.d,{...r,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>l(e),children:[Object(V.jsx)(Fe.b,{latitude:n,longitude:o,children:Object(V.jsx)("button",{className:"marker-btn",onMouseEnter:e=>{e.preventDefault(),j(!0),p(n),h(o)},onMouseLeave:e=>{e.preventDefault(),j(!1)},onClick:I,children:Object(V.jsx)(D.a,{src:O,sx:{backgroundColor:"orange"},children:(e=>{const t=e.split(" ");let a;return a=1===t.length?t[0].split("")[0].toUpperCase():t[0].split("")[0].toUpperCase()+t[1].split("")[0].toUpperCase(),a})(t.fullName)})})},"India Gate1"),d?Object(V.jsx)(Fe.c,{latitude:u,longitude:b,children:Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{style:{textAlign:"center"},children:t.fullName}),y?Object(V.jsx)("p",{children:"Fetching Location ..."}):Object(V.jsx)("p",{children:g.formattedAddress})]})}):null]}),"pending"===t.trackingStatus&&Object(V.jsx)(de.a,{sx:{margin:10,textAlign:"center"},component:"h1",children:"Tracking request is in pending"}),"rejected"===t.trackingStatus&&Object(V.jsxs)(C.a,{sx:{position:"relative"},children:[Object(V.jsx)(C.a,{sx:{position:"absolute",zIndex:1e3,backgroundColor:"#f5f5f5",borderRadius:25,right:"50%",bottom:"30px",transform:"translate(50%)",px:2},children:Object(V.jsx)(de.a,{sx:{margin:2,textAlign:"center",color:"red",fontWeight:"bold"},component:"h1",children:"Tracking request is rejected"})}),Object(V.jsxs)(Fe.d,{...r,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>l(e),children:[Object(V.jsx)(Fe.b,{latitude:n,longitude:o,children:Object(V.jsx)("button",{className:"marker-btn",onMouseEnter:e=>{e.preventDefault(),j(!0),p(n),h(o)},onMouseLeave:e=>{e.preventDefault(),j(!1)},onClick:I,children:Object(V.jsx)(D.a,{src:O,sx:{backgroundColor:"orange"}})})},"India Gate1"),d?Object(V.jsx)(Fe.c,{latitude:u,longitude:b,children:Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{style:{textAlign:"center"},children:t.fullName}),y?Object(V.jsx)("p",{children:"Fetching Location ..."}):Object(V.jsx)("p",{children:g.formattedAddress})]})}):null]})]})]}),v&&Object(V.jsx)(C.a,{sx:{width:400,display:"flex",justifyContent:"flex-start"},children:0!==w.length?Object(V.jsx)(Xe,{locations:w}):Object(V.jsx)(C.a,{sx:{width:300,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(V.jsx)(de.a,{component:"h5",variant:"h5",children:"No History Found"})})})]})]})};var et=g.a.memo(Qe);const tt=e=>{const{userList:t,senderId:a,trackingList:s}=e,[n,c]=Object(m.useState)(!1),[o,i]=Object(m.useState)(null),[r,l]=Object(m.useState)(null),[d,j]=Object(m.useState)(0),[u,p]=Object(m.useState)(""),[b,h]=Object(m.useState)({}),[g,x]=Object(m.useState)(28.598),[O,f]=Object(m.useState)(77.3),[y,S]=Object(m.useState)(!1),[v,N]=Object(m.useState)(!1),[w,k]=Object(m.useState)([]),[I,A]=Object(m.useState)([]),[E,L]=Object(m.useState)({width:"100%",height:"100%",latitude:g,longitude:O,zoom:11});Object(m.useEffect)((()=>{const e=[];s.forEach((a=>{t.forEach((t=>{a.phoneNumber===t.phoneNumber&&(a.location=t.liveLocation,e.push(a))}))})),A(e)}),[s,t]),Object(m.useEffect)((async()=>{S(!0),$e.a.get(`${Ue}/getlatlong/${o}/${r}`).then((e=>{h(e.data),S(!1)})).catch((e=>console.log(e)))}),[o,r]),Object(m.useEffect)((async()=>{if(0!==u.length)try{const{data:e}=await $e.a.get(`${Ue}/get/location/${a}/${u}/${(new Date).getMonth()+1}`);k(e)}catch(e){console.log(e.message)}}),[u]);const T=e=>{const t=e.split(" ");let a;return a=1===t.length?t[0].split("")[0].toUpperCase():t[0].split("")[0].toUpperCase()+t[1].split("")[0].toUpperCase(),a};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Me.a,{children:Object(V.jsx)("title",{children:"Dashboard"})}),Object(V.jsxs)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",display:"flex"},children:[Object(V.jsx)(Ge.a,{maxWidth:!0,sx:{height:"100"},children:Object(V.jsxs)(Fe.d,{...E,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>L(e),children:[I.map(((e,t)=>Object(V.jsx)(Fe.b,{latitude:e.location.latitude,longitude:e.location.longitude,children:Object(V.jsx)("button",{className:"marker-btn",onMouseEnter:a=>{a.preventDefault(),c(!0),i(e.location.latitude),l(e.location.longitude),x(e.location.latitude),f(e.location.longitude),j(t)},onMouseLeave:e=>{e.preventDefault(),c(!1)},onClick:()=>(e=>{v?(N(!1),L({...E,width:"100%"})):(N(!0),L({...E,width:"100%"}),p(e.phoneNumber))})(e),children:Object(V.jsx)(D.a,{sx:{backgroundColor:"orange"},children:T(e.fullName)})})},e.phoneNumber))),n?Object(V.jsx)(Fe.c,{latitude:o,longitude:r,onClose:()=>{c(!1),i(0),l(0)},children:Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{style:{textAlign:"center",marginBottom:"10px"},children:I[d].fullName}),y?Object(V.jsx)("p",{children:"Fetching Location ..."}):Object(V.jsx)("p",{children:b.formattedAddress})]})}):null]})}),v&&Object(V.jsx)(C.a,{sx:{width:400,display:"flex",justifyContent:"flex-start"},children:0!==w.length?Object(V.jsx)(Xe,{locations:w}):Object(V.jsx)(C.a,{sx:{width:300,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(V.jsx)(de.a,{component:"h5",variant:"h5",children:"No History Found"})})})]})]})};var at=g.a.memo(tt),st=a(195),nt=a.n(st);const ct="CREATE_HOTSPOT_SUCCESS",ot="CREATE_HOTSPOT_FAIL",it="GET_HOTSPOT_SUCCESS",rt="GET_HOTSPOT_FAIL",lt="UPDATE_HOTSPOT_SUCCESS",dt="UPDATE_HOTSPOT_FAIL",jt="DELETE_HOTSPOT_SUCCESS",ut="DELETE_HOTSPOT_FAIL",pt="CREATE_GROUP_SUCCESS",bt="CREATE_GROUP_FAIL",ht="GET_GROUP_SUCCESS",mt="GET_GROUP_FAIL",gt="UPDATE_GROUP_SUCCESS",xt="UPDATE_GROUP_FAIL",Ot="DELETE_GROUP_SUCCESS",ft="DELETE_GROUP_FAIL",yt="CREATE_ADMIN_SUCCESS",St="CREATE_ADMIN_FAIL",vt="GET_ADMIN_SUCCESS",Ct="GET_ADMIN_FAIL",Nt="UPDATE_ADMIN_SUCCESS",wt="UPDATE_ADMIN_FAIL",Dt="DELETE_ADMIN_SUCCESS",kt="DELETE_ADMIN_FAIL",It="CREATE_DEVICE_SUCCESS",At="CREATE_DEVICE_FAIL",Et="GET_DEVICE_SUCCESS",Lt="GET_DEVICE_FAIL",Tt="UPDATE_DEVICE_SUCCESS",Pt="UPDATE_DEVICE_FAIL",_t="DELETE_DEVICE_SUCCESS",Mt="DELETE_DEVICE_FAIL",Gt=e=>async t=>{try{const{data:a}=await $e.a.get(`${Ue}/get/devices/${e}`);t({type:Et,payload:a})}catch(a){t({type:Lt,payload:a.message})}},Ft=e=>async t=>{try{const a={headers:{"Content-Type":"application/json"}},{data:s}=await $e.a.post(`${Ue}/get/devices/admin`,e,a);t({type:Et,payload:s})}catch(a){t({type:Lt,payload:a.message})}},Ht=e=>async t=>{try{const a={headers:{"Content-Type":"application/json"}},{data:s}=await $e.a.post(`${Ue}/get/hotspots/admin`,e,a);t({type:it,payload:s})}catch(a){t({type:rt,payload:a.message})}},$t=e=>async t=>{try{const{data:a}=await $e.a.get(`${Ue}/get/hotspots/${e}`);t({type:it,payload:a})}catch(a){t({type:rt,payload:a.message})}};a(6);const zt=e=>async t=>{try{const{data:a}=await $e.a.get(`${Ue}/get/admins/${e}`);t({type:vt,payload:a})}catch(a){t({type:Ct,payload:a.message})}},Ut=e=>async(t,a)=>{try{const s={headers:{"Content-Type":"application/json"}},{data:n}=await $e.a.put(`${Ue}/update/admin`,e,s);console.log(n),t({type:Nt,payload:n}),sessionStorage.setItem("adminList",JSON.stringify(a().admins.adminList))}catch(s){t({type:wt,payload:s.message})}},Wt=e=>async t=>{try{const{data:a}=await $e.a.get(`${Ue}/get/groups/${e}`);t({type:ht,payload:a})}catch(a){t({type:mt,payload:a.message})}},Bt=Object(d.a)((e=>({root:{height:"100%"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}})));var Rt=()=>{const e=Bt(),[t,a]=Object(m.useState)(-1),[s,n]=Object(m.useState)([]),[c,r]=Object(m.useState)(""),[l,d]=Object(m.useState)([]),[j,u]=Object(m.useState)(!1),[p,b]=Object(m.useState)(null),[h,g]=Object(m.useState)(null),[x,O]=Object(m.useState)(null),[f,S]=Object(m.useState)(null),I=Boolean(f),A=Object(o.b)(),E=Object(o.c)((e=>e.devices)),{deviceList:L}=E,T=()=>{S(null)},P=Object(i.g)(),_=(e,t)=>{"clickaway"!==t&&(u(!1),g(null),b(null))},M=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,F=sessionStorage.getItem("adminData")?JSON.parse(sessionStorage.getItem("adminData")):null;Object(m.useEffect)((()=>{sessionStorage.getItem("authToken")||P("/login")}),[]),Object(m.useEffect)((async()=>{if(null===F&&null!==M&&(A(Gt(M.uid)),A($t(M.uid)),A(Wt(M.uid)),A(zt(M.uid))),null!==F&&null!==M){const{data:e}=await $e.a.get(`${Ue}/get/admin/${F.email}`);A(Ft({createdBy:M.uid,adminGroups:e.groups})),A(Ht({createdBy:M.uid,adminGroups:e.groups}))}}),[A]),Object(m.useEffect)((()=>{if(0!==L.length){const e=L.map((e=>e.phoneNumber)),t=Object(G.c)($,"trackerAndroidUser"),a=Object(G.l)(t,Object(G.p)("phoneNumber","in",e)),s=Object(G.j)(a,(e=>{const t=[];e.forEach((e=>{t.push(e.data())})),n(t)}));return()=>s()}}),[L]),Object(m.useEffect)((()=>{0===c.length&&d([]),a(-1);const e=L.filter((e=>e.fullName.toLowerCase().includes(c.toLowerCase())));d(e)}),[c]),Object(m.useEffect)((()=>{if("all"===x)return void d([]);const e=L.filter((e=>e.trackingStatus===x));d(e)}),[x]);const H=(e,t)=>{a(t)},z=e=>{O(e),T()},U=e=>{const t=e.split(" ");return t[0].split("")[0].toUpperCase()+t[1].split("")[0].toUpperCase()};return Object(V.jsxs)(C.a,{className:e.root,children:[Object(V.jsxs)(ve.a,{container:!0,sx:{height:"inherit"},children:[Object(V.jsx)(ve.a,{item:!0,xs:2.4,sx:{height:"100%",overflowY:"scroll"},className:"gridItem",children:Object(V.jsxs)(Ae.a,{sx:{minHeight:"100%"},className:e.paper,children:[Object(V.jsxs)(C.a,{sx:{maxWidth:500},children:[Object(V.jsx)(Ce.a,{fullWidth:!0,InputProps:{startAdornment:Object(V.jsx)(Ne.a,{position:"start",children:Object(V.jsx)(we.a,{fontSize:"small",color:"action",children:Object(V.jsx)(_e.a,{})})}),endAdornment:Object(V.jsx)(y.a,{onClick:e=>{S(e.currentTarget)},children:Object(V.jsx)(we.a,{fontSize:"small",color:"action",children:Object(V.jsx)(nt.a,{})})})},placeholder:"Search user",variant:"outlined",onChange:e=>r(e.target.value)}),Object(V.jsxs)(De.a,{anchorEl:f,open:I,onClose:T,children:[Object(V.jsx)(ke.a,{sx:{py:1.2,px:2.5},onClick:()=>{z("all"),a(-1)},children:"All Requests"}),Object(V.jsx)(ke.a,{sx:{py:1.2,px:2.5},onClick:()=>{z("accepted"),a(-1)},children:"Accepted Requests"}),Object(V.jsx)(ke.a,{sx:{py:1.2,px:2.5},onClick:()=>{z("rejected"),a(-1)},children:"Rejected Requests"}),Object(V.jsx)(ke.a,{sx:{py:1.2,px:2.5},onClick:()=>{z("pending"),a(-1)},children:"Pending Requests"})]})]}),Object(V.jsxs)(v.a,{component:"nav",children:[Object(V.jsxs)(N.a,{button:!0,sx:{mt:.5,mb:.5,backgroundColor:"#F5F5F5",pt:1.5,pb:1.5},selected:-1===t,onClick:()=>a(-1),children:[Object(V.jsx)(w.a,{children:Object(V.jsx)(D.a,{sx:{backgroundColor:"orange"},children:Object(V.jsx)(Le.a,{})})}),Object(V.jsx)(k.a,{primary:"Overview All Devices"})]},-1),0===l.length&&void 0!==L&&null!==L&&L.map(((e,a)=>Object(V.jsxs)(N.a,{button:!0,disabled:"pending"===e.trackingStatus,sx:{mt:.5,mb:.5,py:2,backgroundColor:"#F5F5F5",borderLeft:"accepted"===e.trackingStatus?"6px solid green":"rejected"===e.trackingStatus?"6px solid red":"6px solid orange"},selected:t===a,onClick:e=>H(0,a),children:[Object(V.jsx)(w.a,{children:Object(V.jsx)(D.a,{sx:{backgroundColor:"orange"},children:Object(V.jsx)(de.a,{fontSize:16,letterSpacing:1,children:U(e.fullName)})})}),Object(V.jsx)(k.a,{primary:e.fullName})]},a))),0!==l.length&&l.map(((e,a)=>Object(V.jsxs)(N.a,{button:!0,disabled:"pending"===e.trackingStatus,sx:{mt:.5,mb:.5,py:2,backgroundColor:"#F5F5F5",borderLeft:"accepted"===e.trackingStatus?"6px solid green":"rejected"===e.trackingStatus?"6px solid red":"6px solid orange"},selected:t===a,onClick:e=>H(0,a),children:[Object(V.jsx)(w.a,{children:Object(V.jsx)(D.a,{sx:{backgroundColor:"orange"},children:Object(V.jsx)(de.a,{fontSize:16,letterSpacing:1,children:U(e.fullName)})})}),Object(V.jsx)(k.a,{primary:e.fullName})]},a)))]})]})}),Object(V.jsxs)(ve.a,{item:!0,xs:9.6,sx:{height:"100%"},children:[Object(V.jsx)(Ie.a,{direction:"row",justifyContent:"space-between",sx:{padding:2},children:Object(V.jsx)(de.a,{variant:"h4",component:"h2",children:"Current Activity"})}),Object(V.jsxs)(C.a,{sx:{height:"90%",py:1},children:[-1===t&&Object(V.jsx)(at,{userList:s,senderId:null===M||void 0===M?void 0:M.uid,trackingList:L}),t>=0&&0===l.length&&Object(V.jsx)(et,{user:L[t],index:t}),t>=0&&0!==l.length&&Object(V.jsx)(et,{user:l[t],index:t})]})]})]}),null!==p&&Object(V.jsx)(Te.a,{open:j,autoHideDuration:4e3,onClose:_,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:_,severity:"success",sx:{width:"100%"},children:p})}),null!==h&&Object(V.jsx)(Te.a,{open:j,autoHideDuration:4e3,onClose:_,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:_,severity:"error",sx:{width:"100%"},children:h})})]})},Jt=a(417),Vt=a(435),Yt=a(404),qt=a(87),Kt=a.n(qt),Zt=a(434);const Xt=Object(d.a)((e=>({image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},login:{margin:e.spacing(3,0,2),padding:e.spacing(1.4),fontSize:15},googleLogin:{margin:e.spacing(2,0,2),fontSize:15}})));var Qt=()=>{const e=Xt(),t=Object(i.g)(),[a,s]=Object(m.useState)(""),[n,o]=Object(m.useState)(""),[r,l]=Object(m.useState)(!1),d=localStorage.getItem("credentials")?JSON.parse(localStorage.getItem("credentials")):null;Object(m.useEffect)((()=>{null!==d&&(s(d.email),o(d.password),l(d.checked))}),[d]);const j=async()=>{Object(M.f)(z,a,n).then((async e=>{sessionStorage.setItem("authToken",e.user.accessToken);try{const{data:e}=await $e.a.get(`${Ue}/get/admin/${a}`),s=Object(G.d)($,"trackerWebUser",e.createdBy),n=await Object(G.f)(s);n.exists()&&sessionStorage.setItem("userData",JSON.stringify(n.data())),sessionStorage.setItem("adminData",JSON.stringify(e)),e.passwordChanged?t("/app/dashboard",{replace:!0}):t("/admin/change-password",{replace:!0})}catch(s){console.log(s.message)}})).catch((e=>{const t=e.code,a=e.message;alert(t,a)}))},u=async()=>{Object(M.f)(z,a,n).then((async e=>{const a=e.user;console.log(a),sessionStorage.setItem("authToken",a.accessToken);const s=Object(G.d)($,"trackerWebUser",a.uid),n=await Object(G.f)(s);n.exists()?(sessionStorage.setItem("userData",JSON.stringify(n.data())),t("/app/dashboard",{replace:!0})):console.log("No such document!")})).catch((e=>{const t=e.code,a=e.message;alert(t,a)}))};return Object(V.jsxs)(ve.a,{sx:{height:"100%"},container:!0,component:"main",className:e.root,children:[Object(V.jsx)(K.a,{}),Object(V.jsx)(ve.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(V.jsx)(ve.a,{item:!0,xs:12,sm:8,md:5,component:Ae.a,elevation:6,square:!0,children:Object(V.jsxs)("div",{className:e.paper,children:[Object(V.jsx)(D.a,{className:e.avatar,children:Object(V.jsx)(Kt.a,{})}),Object(V.jsx)(de.a,{component:"h1",variant:"h1",sx:{mt:1,mb:4},children:"GPS REPORT"}),Object(V.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:a,onChange:e=>s(e.target.value)}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:n,onChange:e=>o(e.target.value)}),Object(V.jsx)(C.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(V.jsx)(Zt.a,{variant:"body2",children:"Forgot password?"})}),Object(V.jsx)(Vt.a,{control:Object(V.jsx)(Yt.a,{value:r,color:"primary",onChange:e=>l(e.target.checked)}),label:"Remember me"}),Object(V.jsx)(Jt.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.login,onClick:()=>(async()=>{const e=Object(G.c)($,"trackerWebUser"),t=Object(G.l)(e,Object(G.p)("email","==",a));await Object(G.g)(t).then((async e=>{0!==e.size?u():j()}))})(),children:"LOGIN"}),Object(V.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",mt:1.3},children:Object(V.jsx)(Zt.a,{component:c.b,to:"/register",variant:"body2",underline:"hover",children:"Don't have an account? Sign up for free"})})]})]})})]})};var ea=()=>Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Me.a,{children:Object(V.jsx)("title",{children:"404 | Material Kit"})}),Object(V.jsx)(C.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(V.jsxs)(Ge.a,{maxWidth:"md",children:[Object(V.jsx)(de.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(V.jsx)(de.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(V.jsx)(C.a,{sx:{textAlign:"center"},children:Object(V.jsx)("img",{alt:"Under development",src:"/static/images/undraw_page_not_found_su7k.svg",style:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}})})]})})]});const ta=Object(d.a)((e=>({image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(4,2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},login:{margin:e.spacing(3,0,2),padding:e.spacing(1.4),fontSize:15},googleLogin:{margin:e.spacing(2,0,2),fontSize:15}})));var aa=()=>{const e=ta(),t=Object(i.g)(),[a,s]=Object(m.useState)(""),[n,o]=Object(m.useState)(""),[r,l]=Object(m.useState)(""),[d,j]=Object(m.useState)(""),[u,p]=Object(m.useState)(""),[b,h]=Object(m.useState)(!1);return Object(V.jsxs)(ve.a,{sx:{height:"100%"},container:!0,component:"main",children:[Object(V.jsx)(K.a,{}),Object(V.jsx)(ve.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(V.jsx)(ve.a,{item:!0,xs:12,sm:8,md:5,component:Ae.a,elevation:6,square:!0,sx:{p:2},children:Object(V.jsxs)("div",{className:e.paper,children:[Object(V.jsx)(D.a,{className:e.avatar,children:Object(V.jsx)(Kt.a,{})}),Object(V.jsx)(de.a,{component:"h1",variant:"h1",sx:{mt:1,mb:4},children:"GPS REPORT"}),Object(V.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"name",autoFocus:!0,value:r,onChange:e=>l(e.target.value)}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"name",value:d,onChange:e=>j(e.target.value)}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:a,onChange:e=>s(e.target.value)}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Company Name",name:"companyName",autoComplete:"text",value:u,onChange:e=>p(e.target.value)}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:n,onChange:e=>o(e.target.value)}),Object(V.jsx)(Vt.a,{control:Object(V.jsx)(Yt.a,{value:"remember",color:"primary",checked:b,onChange:e=>h(e.target.checked)}),label:"I have read the Terms and Conditions"}),Object(V.jsx)(Jt.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.login,onClick:()=>(async()=>{Object(M.b)(z,a,n).then((async e=>{const a=e.user;Object(M.i)(z.currentUser,{displayName:r+d}).catch((e=>console.log(e.message)));const s={uid:a.uid,firstName:r,lastName:d,email:a.email,profilePhoto:"https://th.bing.com/th/id/OIP.9B2RxsHDB_s7FZT0mljnhQHaHa?pid=ImgDet&rs=1",companyName:u,createdAt:Object(G.m)()};sessionStorage.setItem("authToken",a.accessToken);const n=Object(G.d)($,"trackerWebUser",a.uid);await Object(G.n)(n,s).then((()=>{sessionStorage.setItem("userData",JSON.stringify(s)),t("/app/dashboard",{replace:!0})})).catch((e=>{const t=e.code,a=e.message;alert(t,a)}))})).catch((e=>{const t=e.code,a=e.message;alert(t,a)}))})(),children:"Sign-Up"}),Object(V.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",mt:1.3},children:Object(V.jsx)(Zt.a,{component:c.b,to:"/login",variant:"body2",underline:"hover",children:"Already have an account? Login here"})})]})]})})]})},sa=a(442),na=a(438),ca=a(439),oa=a(441),ia=a(437),ra=a(443),la=a(440),da=a(436),ja=a(148),ua=a.n(ja),pa=a(147),ba=a.n(pa);function ha(e){const{row:t,hotspotList:a,selectedHotspots:s,selectedGroups:n,selectedMonth:c}=e,[o,i]=m.useState(!1),[r,l]=m.useState([]),[d,j]=m.useState(!1),u=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,p=t.hotspots.map((e=>e.hotspot)),b=e=>p.findIndex((t=>t===e._id));return m.useEffect((async()=>{try{j(!0);const{data:e}=await $e.a.get(`${Ue}/get/location/${u.uid}/${t.phoneNumber}/${c+1}`);if(0===n.length)l(e),j(!1);else{const t=await(async e=>new Promise((t=>{const a=[];for(let s of n){console.log("inside");for(let t of e)s===t.group._id&&a.push(t)}console.log("Here"),t(a)})))(e);l(t),j(!1)}}catch(e){console.log(e.message)}}),[n]),Object(V.jsxs)(m.Fragment,{children:[Object(V.jsxs)(da.a,{sx:{"& > *":{borderBottom:"unset"}},children:[Object(V.jsx)(ia.a,{children:Object(V.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:()=>i(!o),children:o?Object(V.jsx)(ba.a,{}):Object(V.jsx)(ua.a,{})})}),Object(V.jsx)(ia.a,{component:"th",scope:"row",children:t.device}),Object(V.jsx)(ia.a,{align:"center",children:t.phoneNumber}),0===s.length&&a.map(((e,a)=>Object(V.jsx)(m.Fragment,{children:-1!==b(e)?Object(V.jsx)(ia.a,{align:"center",children:t.hotspots[b(e)].total},e.hotspot):Object(V.jsx)(ia.a,{align:"center",children:"0"},e.hotspot)},e.hotspot))),0!==s.length&&s.map(((e,a)=>Object(V.jsx)(m.Fragment,{children:-1!==b(e)?Object(V.jsx)(ia.a,{align:"center",children:t.hotspots[b(e)].total},e.hotspot):Object(V.jsx)(ia.a,{align:"center",children:"0"},e.hotspot)},e.hotspot)))]}),Object(V.jsx)(da.a,{children:Object(V.jsx)(ia.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(V.jsx)(na.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(V.jsxs)(C.a,{sx:{margin:1},children:[Object(V.jsx)(de.a,{variant:"h6",sx:{my:2},component:"div",children:"History"}),Object(V.jsxs)(ca.a,{size:"small","aria-label":"purchases",children:[Object(V.jsx)(la.a,{children:Object(V.jsxs)(da.a,{children:[Object(V.jsx)(ia.a,{children:"Date"}),Object(V.jsx)(ia.a,{children:"Address"}),Object(V.jsx)(ia.a,{align:"right",children:"Hotspot"}),Object(V.jsx)(ia.a,{align:"right",children:"Group"})]})}),Object(V.jsx)(oa.a,{children:!d&&r.map(((e,t)=>Object(V.jsxs)(da.a,{children:[Object(V.jsx)(ia.a,{sx:{borderWidth:0,padding:"16px"},component:"th",scope:"row",children:B()(e.createdAt).format("DD MMMM YYYY - hh:mm a")}),Object(V.jsx)(ia.a,{sx:{borderWidth:0,padding:"16px"},children:e.address}),Object(V.jsx)(ia.a,{sx:{borderWidth:0,padding:"16px"},align:"right",children:e.hotspot.hotspotName}),Object(V.jsx)(ia.a,{sx:{borderWidth:0,padding:"16px"},align:"right",children:e.group.groupName})]},t+1)))})]}),d&&Object(V.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",width:"100%",my:3},children:Object(V.jsx)(sa.a,{sx:{fontSize:30}})})]})})})})]})}const ma=e=>Object(V.jsx)(ra.a,{component:Ae.a,children:Object(V.jsxs)(ca.a,{children:[Object(V.jsx)(la.a,{children:Object(V.jsxs)(da.a,{children:[Object(V.jsx)(ia.a,{}),Object(V.jsx)(ia.a,{children:"Full Name"}),Object(V.jsx)(ia.a,{align:"center",children:"Phone Number"}),0===e.selectedHotspots.length&&e.hotspotList.map(((e,t)=>Object(V.jsx)(ia.a,{align:"center",children:e.hotspotName},e._id))),0!==e.selectedHotspots.length&&e.selectedHotspots.map(((e,t)=>Object(V.jsx)(ia.a,{align:"center",children:e.hotspotName},e._id)))]})}),Object(V.jsx)(oa.a,{children:e.tableData.map((t=>Object(V.jsx)(ha,{row:t,hotspotList:e.hotspotList,selectedHotspots:e.selectedHotspots,selectedGroups:e.selectedGroups,selectedMonth:e.selectedMonth},t.phoneNumber)))})]})});var ga=m.memo(ma),xa=a(431),Oa=a(410),fa=a(406),ya=a(416);const Sa={PaperProps:{style:{maxHeight:224}}},va=e=>Object(V.jsxs)(xa.a,{variant:"outlined",sx:{width:"250px",ml:3},children:[Object(V.jsx)(Oa.a,{id:"hotspotFilter",children:"Hotspots"}),Object(V.jsx)(fa.a,{id:"hotspotFilter",multiple:!0,value:e.selectedHotspotNames,onChange:e.handleHotspotSelect,input:Object(V.jsx)(ya.a,{label:"Hotspots"}),renderValue:e=>e.join(", "),MenuProps:Sa,children:e.hotspotNames.map((t=>Object(V.jsxs)(ke.a,{value:t._id,children:[Object(V.jsx)(Yt.a,{checked:e.selectedHotspotNames.indexOf(t._id)>-1}),Object(V.jsx)(k.a,{primary:t.hotspotName})]},t._id)))})]});var Ca=g.a.memo(va);const Na={PaperProps:{style:{maxHeight:224}}},wa=e=>Object(V.jsxs)(xa.a,{variant:"outlined",sx:{width:"250px",ml:3},children:[Object(V.jsx)(Oa.a,{children:"Mobile Devices"}),Object(V.jsx)(fa.a,{label:"Mobile Devices",multiple:!0,value:e.selectedDevices,onChange:e.handleSelectedDevice,input:Object(V.jsx)(ya.a,{label:"Mobile Devices"}),renderValue:e=>e.join(", "),MenuProps:Na,children:e.mobileDevices.map(((t,a)=>Object(V.jsxs)(ke.a,{value:`${t.fullName} - ${t.phoneNumber}`,children:[Object(V.jsx)(Yt.a,{checked:e.selectedDevices.indexOf(`${t.fullName} - ${t.phoneNumber}`)>-1}),Object(V.jsx)(k.a,{primary:`${t.fullName} +91 ${t.phoneNumber}`})]},t._id)))})]});var Da=g.a.memo(wa);const ka=e=>{const[t,a]=g.a.useState(!1),[s,n]=g.a.useState(!1);g.a.useEffect((()=>{null!==e.subscription&&a(1===e.subscription.reportCount)}),[e.subscription]);return console.log(t),Object(V.jsxs)(g.a.Fragment,{children:[Object(V.jsxs)(xa.a,{variant:"outlined",sx:{width:"250px",ml:3},children:[Object(V.jsx)(Oa.a,{children:"Month"}),Object(V.jsx)(fa.a,{value:e.selectedMonth,onChange:t?()=>{n(!0)}:t=>e.setSelectedMonth(t.target.value),label:"Month",children:e.Months.map(((e,t)=>Object(V.jsx)(ke.a,{sx:{py:1.2,px:2},value:e,children:e},t)))})]}),Object(V.jsx)(Te.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:s,autoHideDuration:6e3,onClose:()=>n(!1),children:Object(V.jsx)(Pe.a,{onClose:()=>n(!1),severity:"error",variant:"filled",sx:{width:"100%"},children:"You cannot use this feature. Please upgrade your plan."})})]})};var Ia=g.a.memo(ka);const Aa={PaperProps:{style:{maxHeight:224}}},Ea=e=>Object(V.jsxs)(xa.a,{variant:"outlined",sx:{width:"250px",ml:3},children:[Object(V.jsx)(Oa.a,{id:"hotspotFilter",children:"Groups"}),Object(V.jsx)(fa.a,{id:"hotspotFilter",multiple:!0,value:e.selectedGroupNames,onChange:e.handleGroupSelect,input:Object(V.jsx)(ya.a,{label:"Groups"}),renderValue:e=>e.join(", "),MenuProps:Aa,children:e.groupNames.map(((t,a)=>Object(V.jsxs)(ke.a,{value:t._id,children:[Object(V.jsx)(Yt.a,{checked:e.selectedGroupNames.indexOf(t._id)>-1}),Object(V.jsx)(k.a,{primary:t.groupName})]},t._id)))})]});var La=g.a.memo(Ea),Ta=a(198),Pa=a.n(Ta);const _a={customerId:null,subscriptions:[],cart:{}},Ma=(e,t)=>{if("SUBSCRIPTION_DATA_CHANGED"===t.type){const{customerId:a,subscriptions:s}=t.payload;return{...e,customerId:a,subscriptions:s,isInitialized:!0}}if("SELECT_PRODUCT"===t.type){console.log("Success",t.payload);const{cart:a}=t.payload;return{...e,cart:a}}if("PAYMENT_DETAILS"===t.type){console.log("Success",t.payload);const{details:a}=t.payload;return{...e,cart:{...e.cart,details:a}}}return e},Ga=Object(m.createContext)({..._a}),Fa=e=>{const{children:t}=e,[a,s]=Object(m.useReducer)(Ma,_a);Object(m.useEffect)((async()=>{Object(M.d)(z,(async e=>{try{const t=Object(G.d)($,"trackerWebUser",e.uid),a=await Object(G.f)(t);let o;if(a.exists()){const e=a.data();o={uid:e.uid,displayName:`${e.firstName} ${e.lastName}`,email:e.email}}else{const t=e.email;console.log(t);const{data:a}=await $e.a.get(`${Ue}/get/admin/${t}`),{createdBy:s}=a,n=Object(G.d)($,"trackerWebUser",s),c=await Object(G.f)(n);if(c.exists()){const e=c.data();o={uid:e.uid,displayName:`${e.firstName} ${e.lastName}`,email:e.email}}}if(o){const e=await n(o);if(e){const t=await c(null===e||void 0===e?void 0:e.id);s({type:"SUBSCRIPTION_DATA_CHANGED",payload:{customerId:null===e||void 0===e?void 0:e.id,subscriptions:t}})}}else s({type:"SUBSCRIPTION_DATA_CHANGED",payload:{customerId:null,subscriptions:[]}})}catch(t){console.log(t.message),s({type:"SUBSCRIPTION_DATA_CHANGED",payload:{customerId:null,subscriptions:[]}})}}))}),[s]);const n=async({uid:e,displayName:t,email:a})=>{const s={userId:e,name:t,email:a},{data:n}=await $e.a.post(`${Ue}/create/customer`,s,{headers:{"Content-type":"application/json"}});return n},c=async e=>{console.log(e);const{data:t}=await $e.a.get(`${Ue}/subscriptions/${e}`);return t.result};return Object(V.jsx)(Ga.Provider,{value:{state:a,dispatch:s},children:t})},Ha=Ga.Consumer,$a=()=>Object(m.useContext)(Ga),za=async e=>{let t;if(0!==e.subscriptions.length)for(let s of null===e||void 0===e||null===(a=e.subscriptions)||void 0===a?void 0:a.data){var a;if("active"===s.status){t=s;break}}if(t){const e=await(async()=>{const{data:e}=await $e.a.get(`${Ue}/subscription/config`);return e.prices})(),a=0!==e.length?e.filter((e=>e.id===t.plan.id)):[];if(0!==a.length){const e=a[0],s=e.product.name;return{planId:e.id,productName:s,productId:e.product.id,hotspotCount:"Pro Plan"===s?Number.MAX_VALUE:10,deviceCount:"Pro Plan"===s?t.quantity:Number.MAX_VALUE,groupCount:"Pro Plan"===s?Number.MAX_VALUE:2,adminCount:"Pro Plan"===s?Number.MAX_VALUE:0,reportCount:"Pro Plan"===s?Number.MAX_VALUE:1}}}return null};function Ua(e){const{row:t,hotspotList:a,selectedHotspots:s,selectedGroups:n,selectedMonth:c}=e,[o,i]=m.useState([]),[r,l]=m.useState(!1),d=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,j=t.hotspots.map((e=>e.hotspot)),u=e=>j.findIndex((t=>t===e._id));return m.useEffect((async()=>{try{l(!0);const{data:e}=await $e.a.get(`${Ue}/get/location/${d.uid}/${t.phoneNumber}/${c+1}`);if(0===n.length)i(e),l(!1);else{const t=await(async e=>new Promise((t=>{const a=[];for(let s of n){console.log("inside");for(let t of e)s===t.group._id&&a.push(t)}console.log("Here"),t(a)})))(e);i(t),l(!1)}}catch(e){console.log(e.message)}}),[n]),Object(V.jsxs)(m.Fragment,{children:[Object(V.jsxs)(da.a,{sx:{"& > *":{borderBottom:"unset"}},children:[Object(V.jsx)(ia.a,{}),Object(V.jsx)(ia.a,{component:"th",scope:"row",children:t.device}),Object(V.jsx)(ia.a,{align:"center",children:t.phoneNumber}),0===s.length&&a.map(((e,a)=>Object(V.jsx)(m.Fragment,{children:-1!==u(e)?Object(V.jsx)(ia.a,{align:"center",children:t.hotspots[u(e)].total},e.hotspot):Object(V.jsx)(ia.a,{align:"center",children:"0"},e.hotspot)},e.hotspot))),0!==s.length&&s.map(((e,a)=>Object(V.jsx)(m.Fragment,{children:-1!==u(e)?Object(V.jsx)(ia.a,{align:"center",children:t.hotspots[u(e)].total},e.hotspot):Object(V.jsx)(ia.a,{align:"center",children:"0"},e.hotspot)},e.hotspot)))]}),Object(V.jsx)(da.a,{children:Object(V.jsx)(ia.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(V.jsxs)(C.a,{sx:{margin:1},children:[Object(V.jsx)(de.a,{variant:"h6",sx:{my:2},component:"div",children:"History"}),Object(V.jsxs)(ca.a,{size:"small","aria-label":"purchases",children:[Object(V.jsx)(la.a,{children:Object(V.jsxs)(da.a,{children:[Object(V.jsx)(ia.a,{children:"Date"}),Object(V.jsx)(ia.a,{children:"Address"}),Object(V.jsx)(ia.a,{align:"right",children:"Hotspot"}),Object(V.jsx)(ia.a,{align:"right",children:"Group"})]})}),Object(V.jsx)(oa.a,{children:!r&&o.map(((e,t)=>Object(V.jsxs)(da.a,{children:[Object(V.jsx)(ia.a,{sx:{borderWidth:0,padding:"16px"},component:"th",scope:"row",children:B()(e.createdAt).format("DD MMMM YYYY - hh:mm a")}),Object(V.jsx)(ia.a,{sx:{borderWidth:0,padding:"16px"},children:e.address}),Object(V.jsx)(ia.a,{sx:{borderWidth:0,padding:"16px"},align:"right",children:e.hotspot.hotspotName}),Object(V.jsx)(ia.a,{sx:{borderWidth:0,padding:"16px"},align:"right",children:e.group.groupName})]},t+1)))})]}),r&&Object(V.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",width:"100%",my:3},children:Object(V.jsx)(sa.a,{sx:{fontSize:30}})})]})})})]})}const Wa=e=>Object(V.jsx)(ra.a,{hidden:!0,component:Ae.a,children:Object(V.jsxs)(ca.a,{id:e.id,children:[Object(V.jsx)(la.a,{children:Object(V.jsxs)(da.a,{children:[Object(V.jsx)(ia.a,{}),Object(V.jsx)(ia.a,{children:"Full Name"}),Object(V.jsx)(ia.a,{align:"center",children:"Phone Number"}),0===e.selectedHotspots.length&&e.hotspotList.map(((e,t)=>Object(V.jsx)(ia.a,{align:"center",children:e.hotspotName},e._id))),0!==e.selectedHotspots.length&&e.selectedHotspots.map(((e,t)=>Object(V.jsx)(ia.a,{align:"center",children:e.hotspotName},e._id)))]})}),Object(V.jsx)(oa.a,{children:e.tableData.map((t=>Object(V.jsx)(Ua,{row:t,hotspotList:e.hotspotList,selectedHotspots:e.selectedHotspots,selectedGroups:e.selectedGroups,selectedMonth:e.selectedMonth},t.phoneNumber)))})]})});var Ba=m.memo(Wa);const Ra=["January","February","March","April","May","June","July","August","September","October","November","December"];var Ja=()=>{const[e,t]=Object(m.useState)([]),[a,s]=Object(m.useState)([]),[n,c]=Object(m.useState)([]),[r,l]=Object(m.useState)([]),[d,j]=Object(m.useState)([]),[u,p]=Object(m.useState)(Ra[(new Date).getMonth()]),[b,h]=Object(m.useState)(!1),[g,x]=Object(m.useState)([]),[O,f]=Object(m.useState)(null),y=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,S=Object(o.c)((e=>e.devices)),{deviceList:v}=S,N=Object(o.c)((e=>e.groups)),{groupList:w}=N,D=Object(o.c)((e=>e.hotspots)),{hotspotList:k}=D,{state:I}=$a(),A=Object(i.g)();Object(m.useEffect)((()=>{sessionStorage.getItem("authToken")||A("/login")}),[]),Object(m.useEffect)((()=>{if(null!==y){h(!0);(async()=>{const{data:e}=await $e.a.get(`${Ue}/get/attendance/${y.uid}/${Ra.indexOf(u)+1}`);console.log(e),t(e),h(!1)})()}}),[u]),Object(m.useEffect)((()=>{(async()=>{const e=await za(I);f(e)})()}),[]);return Object(m.useEffect)((async()=>{h(!0);let t=[];0!==a.length?a.forEach((e=>{const a=k.filter((t=>t._id===e));t.push(...a)})):t=k,l(t);let s=[];if(0!==d.length){const t=e;d.forEach(((e,a)=>{const n=e.split(" - ")[1],c=t.filter((e=>e.phoneNumber===n));s.push(...c)}))}else s=e;x(s),h(!1)}),[d,a]),Object(V.jsxs)(C.a,{sx:{p:5},children:[Object(V.jsxs)(C.a,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:4},children:[Object(V.jsx)(Ia,{Months:Ra,selectedMonth:u,setSelectedMonth:p,subscription:O}),Object(V.jsx)(Ca,{handleHotspotSelect:async e=>{const{target:{value:t}}=e;s("string"===typeof t?t.split(","):t)},selectedHotspotNames:a,hotspotNames:k}),Object(V.jsx)(La,{handleGroupSelect:async e=>{const{target:{value:t}}=e;c("string"===typeof t?t.split(","):t)},selectedGroupNames:n,groupNames:w}),Object(V.jsx)(Da,{handleSelectedDevice:e=>{const{target:{value:t}}=e;j("string"===typeof t?t.split(","):t)},selectedDevices:d,mobileDevices:v}),Object(V.jsx)(Jt.a,{variant:"outlined",sx:{p:0},children:Object(V.jsx)(Pa.a,{id:"test-table-xls-button",table:"table-to-xls",filename:"report",sheet:"tablexls",className:"export-btn",buttonText:"Export"})})]}),Object(V.jsx)(C.a,{sx:{my:4},children:b?Object(V.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",mt:"300px"},children:Object(V.jsx)(sa.a,{color:"inherit"})}):Object(V.jsx)(ga,{tableData:0===d.length?e:g,id:"table-to-xls",hotspotList:k,selectedHotspots:r,selectedGroups:n,selectedMonth:Ra.indexOf(u)})}),Object(V.jsx)(C.a,{sx:{my:4},children:b?Object(V.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",mt:"300px"},children:Object(V.jsx)(sa.a,{color:"inherit"})}):Object(V.jsx)(Ba,{tableData:0===d.length?e:g,id:"table-to-xls",hotspotList:k,selectedHotspots:r,selectedGroups:n,selectedMonth:Ra.indexOf(u)})})]})},Va=a(394);var Ya=()=>{const[e,t]=Object(m.useState)("All"),[a,s]=Object(m.useState)([]),[n,c]=Object(m.useState)([]),o=(sessionStorage.getItem("userData")&&JSON.parse(sessionStorage.getItem("userData")),e=>{const t=B()(new Date(1e3*e)).fromNow();switch(t){case"in a few seconds":case"a few seconds ago":return"few sec";case"a minute ago":return"1m";case"an hour ago":return"1h";case"a day ago":return"1day";default:const e=t.split(" ")[0];let a=t.split(" ")[1];return"minutes"!==a&&"minute"!==a||(a="m"),"hours"!==a&&"hour"!==a||(a="h"),"days"!==a&&"day"!==a||(a="d"),e+a}});return Object(m.useEffect)((()=>{const t=a,s=(new Date).getTime();let n=[];if("Today"===e)n=t.filter((e=>new Date(1e3*e.createdAt.seconds).getDate()===new Date(s).getDate()));else if("Last Week"===e){let e=new Date(s).getDate()-7;e<=0&&(e=30+e);const a=new Date(s).getDate();console.log(e,a),n=t.filter((t=>new Date(1e3*t.createdAt.seconds).getDate()>=e||new Date(1e3*t.createdAt.seconds).getDate()<=a))}else n=t;c(n)}),[e]),Object(V.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",m:4},children:Object(V.jsxs)(Ae.a,{sx:{width:{md:"70%",lg:"60%",xl:"50%"},p:2,borderRadius:5,boxShadow:5},children:[Object(V.jsx)(Ie.a,{direction:"row",justifyContent:"space-between",sx:{p:2},children:Object(V.jsxs)(C.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[Object(V.jsx)(C.a,{children:Object(V.jsx)(de.a,{variant:"h3",children:"Notifications"})}),Object(V.jsxs)(Ie.a,{direction:"row",alignItems:"center",children:[Object(V.jsx)(de.a,{variant:"h4",children:"Filter By"}),Object(V.jsxs)(xa.a,{variant:"outlined",sx:{width:250,ml:3},children:[Object(V.jsx)(Oa.a,{children:"Select Filter"}),Object(V.jsxs)(fa.a,{value:e,onChange:e=>{t(e.target.value)},label:"Select Filter",children:[Object(V.jsx)(ke.a,{value:"All",children:"All"}),Object(V.jsx)(ke.a,{value:"Today",children:"Today"}),Object(V.jsx)(ke.a,{value:"Last Week",children:"Last Week"})]})]})]})]})}),Object(V.jsxs)(v.a,{sx:{padding:2},children:["All"===e&&a.map(((e,t)=>Object(V.jsxs)("div",{children:[Object(V.jsxs)(N.a,{sx:{mt:1.5},children:[Object(V.jsx)(w.a,{children:Object(V.jsx)(D.a,{children:Object(V.jsx)(Va.a,{})})}),Object(V.jsx)(k.a,{primary:e.message,secondary:o(e.createdAt.seconds)+" ago"})]}),Object(V.jsx)(I.a,{})]},++t))),"All"!==e&&n.map(((e,t)=>Object(V.jsxs)("div",{children:[Object(V.jsxs)(N.a,{sx:{mt:1.5},children:[Object(V.jsx)(w.a,{children:Object(V.jsx)(D.a,{children:Object(V.jsx)(Va.a,{})})}),Object(V.jsx)(k.a,{primary:e.message,secondary:o(e.createdAt.seconds)+" ago"})]}),Object(V.jsx)(I.a,{})]},++t)))]})]})})},qa=a(444),Ka=a(395),Za=a(445),Xa=a(446);const Qa={PaperProps:{style:{maxHeight:224,width:250}}};var es=e=>{const{setEditDialogOpen:t,editDialogOpen:a,selectedDevice:s,trackingGroups:n,setSuccess:c,setSnackOpen:i,setError:r}=e,[l,d]=Object(m.useState)(""),[j,u]=Object(m.useState)([]),p=Object(o.b)();Object(m.useEffect)((()=>{if(0!==Object.entries(s).length){d(s.fullName);const e=s.groups,t=[];e.forEach((e=>t.push(e._id))),u(t)}}),[s]);const b=()=>{if(0===l.length)return r("Full name is required"),void i(!0);const e={_id:s._id,fullName:l,groups:j};p((e=>async(t,a)=>{try{const s={headers:{"Content-Type":"application/json"}},{data:n}=await $e.a.put(`${Ue}/update/device`,e,s);t({type:Tt,payload:n}),sessionStorage.setItem("deviceList",JSON.stringify(a().devices.deviceList))}catch(s){t({type:Pt,payload:s.message})}})(e)),d(""),u([]),t(!1)};return Object(V.jsxs)(qa.a,{open:a,onClose:()=>t(!1),children:[Object(V.jsx)(Ka.a,{sx:{fontSize:22},children:"Edit Device"}),Object(V.jsxs)(Za.a,{sx:{width:500},children:[Object(V.jsx)(Ce.a,{autoFocus:!0,margin:"dense",id:"name",label:"Full Name",type:"text",fullWidth:!0,variant:"outlined",value:l,onChange:e=>d(e.target.value)}),Object(V.jsxs)(xa.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(V.jsx)(Oa.a,{id:"device-group",children:"Select Group"}),Object(V.jsx)(fa.a,{labelId:"device-group",label:"Select Group",value:j,onChange:e=>{const{target:{value:t}}=e;u("string"===typeof t?t.split(","):t)},multiple:!0,renderValue:e=>e.join(", "),MenuProps:Qa,children:n.map((e=>Object(V.jsxs)(ke.a,{value:e._id,children:[Object(V.jsx)(Yt.a,{checked:j.indexOf(e._id)>-1}),Object(V.jsx)(k.a,{primary:e.groupName})]},e._id)))})]})]}),Object(V.jsxs)(Xa.a,{children:[Object(V.jsx)(Jt.a,{onClick:()=>t(!1),children:"Cancel"}),Object(V.jsx)(Jt.a,{onClick:()=>b(),children:"Save Changes"})]})]})},ts=a(418),as=a(89),ss=a.n(as),ns=a(88),cs=a.n(ns),os=a(149),is=a.n(os);const rs=e=>{const{success:t,error:a,open:s,toggleEditDeviceDialog:n}=e,[c,i]=Object(m.useState)([]),r=(sessionStorage.getItem("userData")&&JSON.parse(sessionStorage.getItem("userData")),sessionStorage.getItem("adminData")&&JSON.parse(sessionStorage.getItem("adminData")),Object(o.c)((e=>e.devices))),{deviceList:l}=r,d=Object(o.b)(),j=e=>{var t;d((t=e._id,async(e,s)=>{try{await $e.a.delete(`${Ue}/delete/device/${t}`),e({type:_t,payload:t}),sessionStorage.setItem("deviceList",JSON.stringify(s().devices.deviceList))}catch(a){e({type:Mt,payload:a.message})}}))};return Object(V.jsx)(C.a,{children:Object(V.jsx)(ra.a,{component:Ae.a,sx:{boxShadow:6},children:Object(V.jsxs)(ca.a,{sx:{minWidth:650},children:[Object(V.jsx)(la.a,{children:Object(V.jsxs)(da.a,{children:[Object(V.jsx)(ia.a,{children:"Name"}),Object(V.jsx)(ia.a,{align:"center",children:"Mobile Number"}),Object(V.jsx)(ia.a,{align:"center",children:"Groups Added"}),Object(V.jsx)(ia.a,{align:"center",children:"Tracking Status"}),Object(V.jsx)(ia.a,{align:"center",children:"Action"})]})}),Object(V.jsx)(oa.a,{children:l.map((e=>Object(V.jsxs)(da.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(V.jsx)(ia.a,{component:"th",scope:"row",children:e.fullName}),Object(V.jsxs)(ia.a,{align:"center",children:["+91 ",e.phoneNumber]}),0===e.groups.length?Object(V.jsx)(ia.a,{align:"center",children:"--"}):Object(V.jsx)(ia.a,{align:"center",children:e.groups.map(((t,a)=>Object(V.jsxs)(V.Fragment,{children:[t.groupName,a!==e.groups.length-1&&Object(V.jsx)(V.Fragment,{children:" ,"})]})))}),Object(V.jsxs)(ia.a,{align:"center",children:["accepted"===e.trackingStatus&&Object(V.jsx)(ts.a,{label:"Accepted",color:"success"}),"rejected"===e.trackingStatus&&Object(V.jsx)(ts.a,{label:"Rejected",color:"error"}),"pending"===e.trackingStatus&&Object(V.jsx)(ts.a,{label:"Pending",color:"warning"})]}),Object(V.jsxs)(ia.a,{align:"center",sx:{p:0},children:[Object(V.jsx)(y.a,{edge:"end","aria-label":"edit",color:"primary",onClick:()=>n(e),children:Object(V.jsx)(cs.a,{})}),Object(V.jsx)(y.a,{color:"error",onClick:()=>j(e),children:Object(V.jsx)(ss.a,{})})]})]},e._id)))})]})})})};var ls=g.a.memo(rs);const ds=Object(d.a)((e=>({form:{width:"100%",marginTop:e.spacing(1)}}))),js={PaperProps:{style:{maxHeight:224,width:250}}};var us=()=>{const e=ds(),t=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,a=sessionStorage.getItem("adminData")?JSON.parse(sessionStorage.getItem("adminData")):null,[s,n]=Object(m.useState)(""),[c,r]=Object(m.useState)(""),[l,d]=Object(m.useState)([]),[j,u]=Object(m.useState)(!1),[p,b]=Object(m.useState)({}),[h,g]=Object(m.useState)(!1),[x,O]=Object(m.useState)(!1),[f,y]=Object(m.useState)(!1),[S,v]=Object(m.useState)(null),[N,w]=Object(m.useState)(null),[D,I]=Object(m.useState)(null),A=Object(o.b)(),E=Object(o.c)((e=>e.groups)),{groupList:L}=E,T=Object(o.c)((e=>e.devices)),{success:P,error:_,deviceList:M}=T,F=Object(i.g)(),{state:H}=$a();Object(m.useEffect)((()=>{sessionStorage.getItem("authToken")||F("/login")}),[]),Object(m.useEffect)((()=>{(async()=>{const e=await za(H);I(e)})()}),[]),Object(m.useEffect)((async()=>{if(null===a&&null!==t&&A(Gt(t.uid)),null!==a&&null!==t){const{data:e}=await $e.a.get(`${Ue}/get/admin/${a.email}`);A(Ft({createdBy:t.uid,adminGroups:e.groups}))}}),[A]),Object(m.useEffect)((()=>{P&&(v(P),y(!0)),void 0!==_&&(w(_),y(!0))}),[P,_]),Object(m.useEffect)((async()=>{"Device added succssfully"===P&&(0!==c.length&&(await U(),await W()),r(""),d([]),n(""),g(!1))}),[P]);const z=(e,t)=>{"clickaway"!==t&&(y(!1),w(null),v(null))},U=async()=>{const e=Object(G.c)($,"trackingRequest",c,"requests");await Object(G.b)(e,{requestStatus:"pending",companyName:t.companyName,recieverFullName:s,sender:{id:t.uid,profilePhoto:t.profilePhoto},createdAt:G.a.now()}).catch((e=>console.log(e)))},W=async()=>{const e=Object(G.c)($,"trackingAndroidNotification",c,"notifications");await Object(G.b)(e,{message:`${t.companyName} has send you a tracking request`,status:"pending",sender:{id:t.uid,profilePhoto:t.profilePhoto},createdAt:G.a.now(),seen:!1}).catch((e=>console.log(e)))},B=async()=>{if(null===D)return w("You do not have any subscription. Please choose a plan"),void y(!0);if(M.length===D.deviceCount)return w("You have used your device quota. Please upgrade your subscription"),void y(!0);if(10!==c.length)return w("Phone number must be 10 digit long"),void y(!0);if(0===s.length)return w("Full name is required"),void y(!0);const e={fullName:s,phoneNumber:c,groups:l,createdBy:t.uid,trackingStatus:"pending"};var a;A((a=e,async(e,t)=>{try{const s={headers:{"Content-Type":"application/json"}},n={body:a},{data:c}=await $e.a.post(`${Ue}/create/device`,n,s);e({type:It,payload:c}),sessionStorage.setItem("deviceList",JSON.stringify(t().devices.deviceList))}catch(_){e({type:At,payload:_.message})}}))};return Object(V.jsxs)(C.a,{sx:{width:"100%",p:4},children:[Object(V.jsx)("h2",{children:"Manage Mobile Devices"}),Object(V.jsx)(C.a,{sx:{width:"100%",display:"flex",justifyContent:"flex-end",flexDirection:"row",gap:2},children:Object(V.jsx)(Jt.a,{variant:"contained",sx:{py:1.2},onClick:()=>g(!0),children:"Add New Device"})}),Object(V.jsx)(C.a,{sx:{mt:5},children:Object(V.jsx)(ls,{toggleEditDeviceDialog:e=>{j?u(!1):(b(e),u(!0))},scheduleDialog:x,setScheduleDialog:O})}),Object(V.jsxs)(qa.a,{open:h,onClose:()=>g(!1),children:[Object(V.jsx)(Ka.a,{sx:{fontSize:22},children:"Add New Device"}),Object(V.jsx)(Za.a,{sx:{width:500},children:Object(V.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"fullName",label:"Full Name",name:"fullName",autoComplete:"name",autoFocus:!0,value:s,onChange:e=>n(e.target.value)}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"phoneNumber",label:"Phone Number",name:"phoneNumber",value:c,onChange:e=>r(e.target.value)}),Object(V.jsxs)(xa.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(V.jsx)(Oa.a,{id:"device-group",children:"Select Group"}),Object(V.jsx)(fa.a,{labelId:"device-group",label:"Select Group",value:l,onChange:e=>{const{target:{value:t}}=e;d("string"===typeof t?t.split(","):t)},multiple:!0,renderValue:e=>e.join(", "),MenuProps:js,children:L.map((e=>Object(V.jsxs)(ke.a,{value:e._id,children:[Object(V.jsx)(Yt.a,{checked:l.indexOf(e._id)>-1}),Object(V.jsx)(k.a,{primary:e.groupName})]},e._id)))})]})]})}),Object(V.jsxs)(Xa.a,{children:[Object(V.jsx)(Jt.a,{onClick:()=>g(!1),children:"Cancel"}),Object(V.jsx)(Jt.a,{onClick:()=>B(),children:"Save Device"})]})]}),Object(V.jsx)(es,{editDialogOpen:j,setEditDialogOpen:u,selectedDevice:p,trackingGroups:L,setSuccess:v,setError:w,setSnackOpen:y}),S&&Object(V.jsx)(Te.a,{open:f,autoHideDuration:4e3,onClose:z,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:z,severity:"success",sx:{width:"100%"},variant:"filled",children:S})}),N&&Object(V.jsx)(Te.a,{open:f,autoHideDuration:4e3,onClose:z,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:z,severity:"error",sx:{width:"100%"},variant:"filled",children:N})})]})},ps=a(129);a(180);const bs={PaperProps:{style:{maxHeight:224,width:250}}};var hs=e=>{const{trackingGroups:t,setDialogOpen:a,open:s,selectedHotspot:n}=e,c=Object(m.useRef)(),[i,r]=Object(m.useState)(""),[l,d]=Object(m.useState)([]),[j,u]=Object(m.useState)([]),[p,b]=Object(m.useState)(""),[h,g]=Object(m.useState)(28.6077159025),[x,O]=Object(m.useState)(77.224249103),[f,y]=Object(m.useState)(0),[S,v]=Object(m.useState)({width:"100%",height:400,latitude:h,longitude:x,zoom:15}),[C,N]=Object(m.useState)(!1),w=Object(o.b)();Object(m.useEffect)((()=>{if(0!==Object.entries(n).length){r(n.hotspotName);const e=n.groups,t=[];e.forEach((e=>t.push(e._id))),d(t),A(n.location.latitude,n.location.longitude),v({...S,latitude:n.location.latitude,longitude:n.location.longitude}),g(n.location.latitude),O(n.location.longitude)}}),[n]);const D=Object(m.useCallback)((e=>v(e)),[]),I=Object(m.useCallback)((e=>(A(e.latitude,e.longitude),D({...e,transitionDuration:1e3}))),[]),A=async(e,t)=>{$e.a.get(`${Ue}/getlatlong/${e}/${t}`).then((e=>{b(e.data.formattedAddress),y(e.data.zipcode),N(!1)})).catch((e=>{console.log(e)}))},E=()=>{const e={_id:n._id,hotspotName:i,location:{latitude:Number(h.toPrecision(6)),longitude:Number(x.toPrecision(6)),zipCode:f},groups:l};w((e=>async(t,a)=>{try{const s={headers:{"Content-Type":"application/json"}},{data:n}=await $e.a.put(`${Ue}/update/hotspot`,e,s);t({type:lt,payload:n}),sessionStorage.setItem("hotspotList",JSON.stringify(a().hotspots.hotspotList))}catch(s){t({type:dt,payload:s.message})}})(e)),a(!1)};return Object(V.jsxs)(qa.a,{open:s,onClose:()=>a(!1),children:[Object(V.jsxs)(Za.a,{sx:{width:"1200"},children:[Object(V.jsxs)("form",{noValidate:!0,style:{marginBottom:"20px"},children:[Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"hotspotName",label:"Hotspot Name",name:"hotspotName",autoFocus:!0,value:i,onChange:e=>r(e.target.value)}),Object(V.jsxs)(xa.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(V.jsx)(Oa.a,{id:"device-group",children:"Select Group"}),Object(V.jsx)(fa.a,{labelId:"device-group",label:"Select Group",value:l,onChange:e=>{const{target:{value:t}}=e;d("string"===typeof t?t.split(","):t)},multiple:!0,renderValue:e=>e.join(", "),MenuProps:bs,children:t.map((e=>Object(V.jsxs)(ke.a,{value:e._id,children:[Object(V.jsx)(Yt.a,{checked:l.indexOf(e._id)>-1}),Object(V.jsx)(k.a,{primary:e.groupName})]},e._id)))})]}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"location",label:"Set Location",name:"location",value:p,onChange:e=>{}})]}),Object(V.jsxs)(Fe.d,{...S,ref:c,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>v(e),onClick:async e=>{g(e.lngLat[1]),O(e.lngLat[0]),N(!0),A(e.lngLat[1],e.lngLat[0])},children:[Object(V.jsx)(ps.a,{mapRef:c,onViewportChange:I,mapboxApiAccessToken:We,position:"top-left",marker:!0,countries:"IN",reverseGeocode:!0}),Object(V.jsx)(Fe.b,{latitude:h,longitude:x,children:Object(V.jsx)("button",{className:"marker-btn",children:Object(V.jsx)("img",{alt:"Image",src:"https://www.nbp.co.uk/Content/Images/uploaded/contact-branch-details.png"})})},"1")]})]}),Object(V.jsxs)(Xa.a,{children:[Object(V.jsx)(Jt.a,{onClick:()=>a(!1),children:"Cancel"}),Object(V.jsx)(Jt.a,{disabled:C,onClick:()=>E(),children:"Update"})]})]})};var ms=e=>{const{open:t,success:a,error:s,toggleEditHotspotDialog:n}=e,c=(sessionStorage.getItem("userData")&&JSON.parse(sessionStorage.getItem("userData")),sessionStorage.getItem("adminData")&&JSON.parse(sessionStorage.getItem("adminData")),Object(o.b)()),i=Object(o.c)((e=>e.hotspots)),{hotspotList:r}=i,l=e=>{var t;c((t=e._id,async(e,a)=>{try{await $e.a.delete(`${Ue}/delete/hotspot/${t}`),e({type:jt,payload:t}),sessionStorage.setItem("hotspotList",JSON.stringify(a().hotspots.hotspotList))}catch(s){e({type:ut,payload:s.message})}}))};return Object(V.jsx)(C.a,{children:Object(V.jsx)(ra.a,{component:Ae.a,sx:{boxShadow:6},children:Object(V.jsxs)(ca.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(V.jsx)(la.a,{children:Object(V.jsxs)(da.a,{children:[Object(V.jsx)(ia.a,{children:"Hotspot Name"}),Object(V.jsx)(ia.a,{align:"center",children:"Address (Zip Code)"}),Object(V.jsx)(ia.a,{align:"center",children:"Groups Added"}),Object(V.jsx)(ia.a,{align:"center",children:"Action"})]})}),Object(V.jsx)(oa.a,{children:r.map((e=>Object(V.jsxs)(da.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(V.jsx)(ia.a,{component:"th",scope:"row",children:e.hotspotName}),Object(V.jsx)(ia.a,{align:"center",children:e.location.zipCode}),Object(V.jsxs)(ia.a,{align:"center",sx:{display:"flex",justifyContent:"center"},children:[0===e.groups.length&&Object(V.jsx)(V.Fragment,{children:"---"}),e.groups.map(((t,a)=>Object(V.jsx)("div",{children:Object(V.jsxs)(de.a,{variant:"p",component:"p",children:[t.groupName,a!==e.groups.length-1&&Object(V.jsx)(V.Fragment,{children:" ,"})]})},a)))]}),Object(V.jsxs)(ia.a,{align:"center",sx:{p:0},children:[Object(V.jsx)(y.a,{edge:"end","aria-label":"edit",color:"primary",onClick:()=>n(e),sx:{mr:.2},children:Object(V.jsx)(cs.a,{})}),Object(V.jsx)(y.a,{color:"error",onClick:()=>l(e),children:Object(V.jsx)(ss.a,{})})]})]},e._id)))})]})})})};const gs={PaperProps:{style:{maxHeight:224,width:250}}};var xs=()=>{const e=Object(m.useRef)(),[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)([]),[c,r]=Object(m.useState)(""),[l,d]=Object(m.useState)(28.6077159025),[j,u]=Object(m.useState)(77.224249103),[p,b]=Object(m.useState)(0),[h,g]=Object(m.useState)({width:"100%",height:400,latitude:28.6077159025,longitude:77.224249103,zoom:15}),[x,O]=Object(m.useState)({}),[f,y]=Object(m.useState)(!1),[S,v]=Object(m.useState)(!1),[N,w]=Object(m.useState)(!1),[D,I]=Object(m.useState)(null),[A,E]=Object(m.useState)(null),[L,T]=Object(m.useState)({width:"100%",height:"100%",latitude:28.52,longitude:77.402,zoom:10}),[P,_]=Object(m.useState)(!1),[M,G]=Object(m.useState)(!1),[F,H]=Object(m.useState)(null),[$,z]=Object(m.useState)(null),[U,W]=Object(m.useState)({}),[B,R]=Object(m.useState)(null),J=Object(o.b)(),Y=Object(o.c)((e=>e.hotspots)),{hotspotList:q,success:K,error:Z}=Y,X=Object(o.c)((e=>e.groups)),{groupList:Q}=X,ee=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,te=sessionStorage.getItem("adminData")?JSON.parse(sessionStorage.getItem("adminData")):null,ae=Object(i.g)(),{state:se}=$a();Object(m.useEffect)((()=>{sessionStorage.getItem("authToken")||ae("/login")}),[]),Object(m.useEffect)((()=>{(async()=>{const e=await za(se);R(e)})()}),[]),Object(m.useEffect)((async()=>{null!==ee&&J(Wt(null===ee||void 0===ee?void 0:ee.uid))}),[J]),Object(m.useEffect)((()=>{K&&(I(K),w(!0)),Z&&(E(Z),w(!0))}),[K,Z]),Object(m.useEffect)((async()=>{if(null===te&&null!==ee&&J($t(ee.uid)),null!==te&&null!==ee){const{data:e}=await $e.a.get(`${Ue}/get/admin/${te.email}`);J(Ht({createdBy:ee.uid,adminGroups:e.groups}))}}),[J]),Object(m.useEffect)((async()=>{_(!0),$e.a.get(`${Ue}/getlatlong/${F}/${$}`).then((e=>{console.log(e),W(e.data),_(!1)})).catch((e=>console.log(e)))}),[F,$]);const ne=Object(m.useCallback)((e=>g(e)),[]),ce=Object(m.useCallback)((e=>(ie(e.latitude,e.longitude),ne({...e,transitionDuration:1e3}))),[]),oe=(e,t)=>{"clickaway"!==t&&(w(!1),E(null),I(null))},ie=async(e,t)=>{$e.a.get(`${Ue}/getlatlong/${e}/${t}`).then((e=>{r(e.data.formattedAddress),b(e.data.zipcode)})).catch((e=>{console.log(e)}))},re=()=>{if(null===B)return E("You do not have any subscription. Please choose a plan"),void w(!0);if(q.length===B.hotspotCount)return E("You have used your hotspot quota. Please upgrade your subscription"),void w(!0);if(t.length<3)return E("Hotspot name must be atleast 3 characters"),void w(!0);const e={hotspotName:t,groups:s,createdBy:ee.uid,location:{latitude:Number(l.toPrecision(6)),longitude:Number(j.toPrecision(6)),zipCode:p}};var c;J((c=e,async(e,t)=>{try{const a={headers:{"Content-Type":"application/json"}},s={body:c},{data:n}=await $e.a.post(`${Ue}/create/hotspot`,s,a);e({type:ct,payload:n}),sessionStorage.setItem("hotspotList",JSON.stringify(t().hotspots.hotspotList))}catch(Z){e({type:ot,payload:Z.message})}})),v(!1),a(""),n([]),r("")};return Object(V.jsxs)(C.a,{sx:{width:"100%",p:4,height:"100%"},children:[Object(V.jsx)("h2",{children:"Manage Hotspots"}),Object(V.jsxs)(ve.a,{container:!0,spacing:2,sx:{height:"100%"},children:[Object(V.jsxs)(ve.a,{item:!0,xs:12,md:6,children:[Object(V.jsx)(C.a,{sx:{width:"100%",display:"flex",justifyContent:"flex-end",flexDirection:"row",gap:2},children:Object(V.jsx)(Jt.a,{variant:"contained",sx:{py:1.2},onClick:()=>v(!0),children:"Add New Hotspot"})}),Object(V.jsx)(C.a,{sx:{my:5},children:Object(V.jsx)(ms,{successMsg:I,errorMsg:E,open:w,toggleEditHotspotDialog:e=>{f?y(!1):(O(e),y(!0))}})})]}),Object(V.jsx)(ve.a,{item:!0,xs:12,md:6,sx:{height:"100"},children:Object(V.jsxs)(Fe.d,{...L,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>T(e),children:[q.map((e=>Object(V.jsx)(Fe.b,{latitude:e.location.latitude,longitude:e.location.longitude,children:Object(V.jsx)("button",{className:"marker-btn",onMouseEnter:t=>{t.preventDefault(),G(!0),H(e.location.latitude),z(e.location.longitude)},onMouseLeave:e=>{e.preventDefault(),G(!1)},children:Object(V.jsx)("img",{alt:"Image",src:"https://www.nbp.co.uk/Content/Images/uploaded/contact-branch-details.png"})})},e._id))),M?Object(V.jsx)(Fe.c,{latitude:F,longitude:$,onClose:()=>{G(!1),H(0),z(0)},children:Object(V.jsx)("div",{children:P?Object(V.jsx)("p",{children:"Fetching Location ..."}):Object(V.jsx)("p",{children:U.formattedAddress})})}):null]})})]}),Object(V.jsxs)(qa.a,{open:S,onClose:()=>v(!1),children:[Object(V.jsx)(Ka.a,{sx:{fontSize:22},children:"Add New Hotspot"}),Object(V.jsxs)(Za.a,{sx:{width:600},children:[Object(V.jsxs)("form",{noValidate:!0,style:{marginBottom:"20px"},children:[Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"hotspotName",label:"Hotspot Name",name:"hotspotName",autoFocus:!0,value:t,onChange:e=>a(e.target.value)}),Object(V.jsxs)(xa.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(V.jsx)(Oa.a,{id:"device-group",children:"Select Group"}),Object(V.jsx)(fa.a,{labelId:"device-group",label:"Select Group",value:s,onChange:e=>{const{target:{value:t}}=e;n("string"===typeof t?t.split(","):t)},multiple:!0,renderValue:e=>e.join(", "),MenuProps:gs,children:Q.map((e=>Object(V.jsxs)(ke.a,{value:e._id,children:[Object(V.jsx)(Yt.a,{checked:s.indexOf(e._id)>-1}),Object(V.jsx)(k.a,{primary:e.groupName})]},e._id)))})]}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"location",label:"Set Location",name:"location",value:c,onChange:e=>{}})]}),Object(V.jsxs)(Fe.d,{...h,ref:e,mapboxApiAccessToken:We,mapStyle:Be,onViewportChange:e=>g(e),onClick:async e=>{d(e.lngLat[1]),u(e.lngLat[0]),ie(e.lngLat[1],e.lngLat[0])},children:[Object(V.jsx)(ps.a,{mapRef:e,onViewportChange:ce,mapboxApiAccessToken:We,position:"top-left",marker:!0,countries:"IN",reverseGeocode:!0}),Object(V.jsx)(Fe.b,{latitude:l,longitude:j,children:Object(V.jsx)("button",{className:"marker-btn",children:Object(V.jsx)("img",{alt:"Image",src:"https://www.nbp.co.uk/Content/Images/uploaded/contact-branch-details.png"})})},"1")]})]}),Object(V.jsxs)(Xa.a,{children:[Object(V.jsx)(Jt.a,{onClick:()=>v(!1),children:"Cancel"}),Object(V.jsx)(Jt.a,{onClick:()=>re(),children:"Save Hotspot"})]})]}),Object(V.jsx)(hs,{open:f,setDialogOpen:y,selectedHotspot:x,trackingGroups:Q,setSnackOpen:w,setSuccessMsg:I,setErrorMsg:E}),null!==D&&Object(V.jsx)(Te.a,{open:N,autoHideDuration:4e3,onClose:oe,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:oe,severity:"success",variant:"filled",sx:{width:"100%"},children:D})}),null!==A&&Object(V.jsx)(Te.a,{open:N,autoHideDuration:4e3,onClose:oe,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:oe,severity:"error",variant:"filled",sx:{width:"100%"},children:A})})]})},Os=a(200),fs=a.n(Os);var ys=e=>{const{open:t,success:a,error:s}=e,[n,c]=Object(m.useState)(""),[o,i]=Object(m.useState)(""),[r,l]=Object(m.useState)(!1),d=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null;return Object(V.jsx)(C.a,{children:Object(V.jsxs)("form",{noValidate:!0,children:[Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"password",label:"Current Password",name:"password",autoComplete:"name",value:n,onChange:e=>c(e.target.value)}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"password",label:"New Password",name:"password",autoComplete:"name",value:o,onChange:e=>i(e.target.value)}),Object(V.jsx)(Jt.a,{sx:{py:1.2,px:4,fontSize:15,mt:2},variant:"contained",onClick:()=>(async()=>{try{l(!0);const e=z.currentUser,r=M.a.credential(d.email,n);Object(M.e)(e,r).then((()=>{Object(M.h)(e,o).then((()=>{a("Password updated successfully"),t(!0),i(""),c(""),l(!1)})).catch((e=>{const a=e.code,n=e.message;s(`${a} ${n}`),t(!0),l(!1)}))})).catch((e=>{const a=e.code,n=e.message;s(`${a} ${n}`),t(!0),l(!1)}))}catch(e){s(e),t(!0),l(!1)}})(),startIcon:r&&Object(V.jsx)(sa.a,{size:20,color:"inherit"}),children:"Update Password"})]})})};const Ss=Object(d.a)((e=>({form:{width:"100%",marginTop:e.spacing(1)}})));var vs=()=>{const e=Ss(),[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)(""),[c,o]=Object(m.useState)(""),[i,r]=Object(m.useState)(""),[l,d]=Object(m.useState)(null),[j,u]=Object(m.useState)(null),[p,b]=Object(m.useState)(!1),[h,g]=Object(m.useState)(!1),[x,O]=Object(m.useState)(null),[f,S]=Object(m.useState)(null),v=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null;Object(m.useEffect)((()=>{null!==v&&(r(v.profilePhoto),a(v.firstName),o(v.companyName),n(v.lastName))}),[]);const N=(e,t)=>{"clickaway"!==t&&(g(!1),S(null),O(null))},w=async()=>(console.log(l,i,j),new Promise((e=>{null===l&&e(v.profilePhoto);const t=Object(F.c)(U,`superAdmin/profile/${v.uid}`),a=Object(F.d)(t,j);a.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(e=>{console.log(e.message)}),(()=>{Object(F.a)(a.snapshot.ref).then((t=>{e(t)}))}))})));return Object(V.jsxs)(C.a,{sx:{width:"100%",p:4,display:"flex",justifyContent:"center"},children:[Object(V.jsxs)(C.a,{sx:{width:"70%"},children:[Object(V.jsxs)(ve.a,{container:!0,spacing:2,children:[Object(V.jsxs)(ve.a,{item:!0,md:5,sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(V.jsx)(D.a,{src:null===l?i:l,alt:"profiile photo",sx:{my:1.5,width:200,height:200}}),Object(V.jsxs)(y.a,{component:"label",sx:{width:50,height:50},children:[Object(V.jsx)(fs.a,{}),Object(V.jsx)("input",{type:"file",hidden:!0,onChange:e=>{const t=e.target.files[0];if(t){u(t);let e=URL.createObjectURL(t);d(e)}},accept:"image/*"})]})]}),Object(V.jsx)(ve.a,{item:!0,md:7,children:Object(V.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"name",autoFocus:!0,value:t,onChange:e=>a(e.target.value)}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"name",value:s,onChange:e=>n(e.target.value)}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Company Name",name:"companyName",autoComplete:"text",value:c,onChange:e=>o(e.target.value)}),Object(V.jsx)(Jt.a,{variant:"contained",onClick:()=>(async()=>{try{b(!0),await w().then((async e=>{const a=Object(G.d)($,"trackerWebUser",v.uid);await Object(G.o)(a,{firstName:t,lastName:s,companyName:c,profilePhoto:e}).then((()=>{const a={firstName:t,lastName:s,companyName:c,profilePhoto:e,uid:v.uid,createdAt:v.createdAt,email:v.email};sessionStorage.setItem("userData",JSON.stringify(a)),O("Profile updated successfully"),g(!0),u(null),d(null),r(e),b(!1)}))})).catch((e=>{S(e.message),g(!0),b(!1)}))}catch(e){S(e.message),g(!0),b(!1)}})(),sx:{py:1.2,px:4,fontSize:15,mt:2,mb:4},startIcon:p&&Object(V.jsx)(sa.a,{size:20,color:"inherit"}),children:"Update Profile"})]})})]}),Object(V.jsxs)(ve.a,{container:!0,spacing:2,children:[Object(V.jsx)(ve.a,{item:!0,md:5}),Object(V.jsx)(ve.a,{item:!0,md:7,children:Object(V.jsx)(ys,{open:g,success:O,error:S})})]})]}),null!==x&&Object(V.jsx)(Te.a,{open:h,autoHideDuration:4e3,onClose:N,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:N,severity:"success",sx:{width:"100%"},children:x})}),null!==f&&Object(V.jsx)(Te.a,{open:h,autoHideDuration:4e3,onClose:N,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:N,severity:"error",sx:{width:"100%"},children:f})})]})};const Cs=e=>{const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return Object(V.jsxs)(C.a,{children:[Object(V.jsxs)(C.a,{sx:{display:"flex",justifyContent:"space-between",gap:2,mt:2},children:[Object(V.jsxs)(xa.a,{fullWidth:!0,variant:"outlined",children:[Object(V.jsx)(Oa.a,{id:"Start Day",children:"Start Day"}),Object(V.jsx)(fa.a,{labelId:"Start Day",value:e.startDay,onChange:t=>e.setStartDay(t.target.value),label:"Start Day",children:t.map(((e,t)=>Object(V.jsx)(ke.a,{value:e,sx:{p:1.2},children:e},t)))})]}),Object(V.jsxs)(xa.a,{fullWidth:!0,variant:"outlined",children:[Object(V.jsx)(Oa.a,{id:"End Day",children:"End Day"}),Object(V.jsx)(fa.a,{labelId:"Emd Day",value:e.endDay,onChange:t=>e.setEndDay(t.target.value),label:"End Day",children:t.map(((e,t)=>Object(V.jsx)(ke.a,{value:e,sx:{p:1.2},children:e},t)))})]})]}),Object(V.jsx)(C.a,{sx:{height:"58px",display:"flex",mb:2,mt:3},children:Object(V.jsx)(is.a,{disableClock:!0,onChange:e.setTime,value:e.time,rangeDivider:"-- to --"})})]})};var Ns=g.a.memo(Cs);const ws={PaperProps:{style:{maxHeight:224,width:250}}},Ds=e=>{const[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)([]),[c,i]=Object(m.useState)(""),[r,l]=Object(m.useState)(""),[d,j]=Object(m.useState)(["",""]),u=Object(o.b)(),p=Object(o.c)((e=>e.admins)).adminList,b=()=>{if(null===e.subscription)return e.setError("You do not have any subscription. Please choose a plan"),void e.setSnackOpen(!0);if(e.groupList.length===e.subscription.groupCount)return e.setError("You have used your groups quota. Please upgrade your subscription"),void e.setSnackOpen(!0);if(t.length<4)return e.setError("Group name must be atleast 4 characters"),void e.setSnackOpen(!0);const o={groupName:t,createdBy:e.createdBy.id,members:[],hotspot:[],admins:s,schedule:{startDay:c,endDay:r,time:{startTime:d[0],endTime:d[1]}}};var p;u((p=o,async(e,t)=>{try{const a={headers:{"Content-Type":"application/json"}},s={body:p},{data:n}=await $e.a.post(`${Ue}/create/group`,s,a);e({type:pt,payload:n}),sessionStorage.setItem("groupList",JSON.stringify(t().groups.groupList))}catch(a){e({type:bt,payload:a.message})}})),e.setOpen(!1),n([]),a(""),i(""),l(""),j(["",""])};return Object(V.jsxs)(qa.a,{open:e.open,onClose:()=>e.setOpen(!1),children:[Object(V.jsx)(Ka.a,{sx:{fontSize:22},children:"Add New Group"}),Object(V.jsxs)(Za.a,{sx:{width:500},children:[Object(V.jsx)(Ce.a,{autoFocus:!0,margin:"normal",id:"groupName",label:"Group Name",type:"text",fullWidth:!0,variant:"outlined",value:t,onChange:e=>a(e.target.value)}),null!==e.subscription&&e.subscription.groupCount===Number.MAX_VALUE&&Object(V.jsxs)(xa.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(V.jsx)(Oa.a,{id:"admin",children:"Select Admin"}),Object(V.jsx)(fa.a,{labelId:"admin",label:"Select Admin",value:s,onChange:e=>{const{target:{value:t}}=e;n("string"===typeof t?t.split(","):t)},multiple:!0,renderValue:e=>e.join(", "),MenuProps:ws,children:p.map((e=>Object(V.jsxs)(ke.a,{value:e._id,children:[Object(V.jsx)(Yt.a,{checked:s.indexOf(e._id)>-1}),Object(V.jsx)(k.a,{primary:e.fullName})]},e._id)))})]}),Object(V.jsx)(Ns,{startDay:c,endDay:r,setStartDay:i,setEndDay:l,time:d,setTime:j})]}),Object(V.jsxs)(Xa.a,{children:[Object(V.jsx)(Jt.a,{onClick:()=>e.setOpen(!1),children:"Cancel"}),Object(V.jsx)(Jt.a,{onClick:()=>b(),children:"Create"})]})]})};var ks=g.a.memo(Ds);const Is=e=>{const t=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,a=sessionStorage.getItem("adminData")?JSON.parse(sessionStorage.getItem("adminData")):null,s=Object(o.b)(),n=Object(o.c)((e=>e.groups)),{groupList:c}=n;Object(m.useEffect)((async()=>{null!==t&&null===a&&s(Wt(t.uid))}),[s,t]);const i=e=>{var t;s((t=e._id,async(e,a)=>{try{await $e.a.delete(`${Ue}/delete/group/${t}`),e({type:Ot,payload:t}),sessionStorage.setItem("groupList",JSON.stringify(a().groups.groupList))}catch(s){e({type:ft,payload:s.message})}}))};return Object(V.jsx)(C.a,{children:Object(V.jsx)(ra.a,{component:Ae.a,children:Object(V.jsxs)(ca.a,{"aria-label":"simple table",children:[Object(V.jsx)(la.a,{children:Object(V.jsxs)(da.a,{children:[Object(V.jsx)(ia.a,{sx:{fontWeight:600},children:"Group Name"}),Object(V.jsx)(ia.a,{sx:{fontWeight:600},align:"center",children:"Admins"}),Object(V.jsx)(ia.a,{sx:{fontWeight:600},align:"center",children:"Schedule"}),Object(V.jsx)(ia.a,{sx:{fontWeight:600},align:"center",children:"Hotspot/s Added"}),Object(V.jsx)(ia.a,{sx:{fontWeight:600},align:"center",children:"Created At"}),Object(V.jsx)(ia.a,{sx:{fontWeight:600},align:"center",children:"Modified At"}),Object(V.jsx)(ia.a,{sx:{fontWeight:600},align:"center",children:"Action"})]})}),Object(V.jsx)(oa.a,{children:c.map((t=>Object(V.jsxs)(da.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(V.jsx)(ia.a,{component:"th",scope:"row",children:t.groupName}),Object(V.jsxs)(ia.a,{align:"center",children:[0===t.admins.length&&Object(V.jsx)(V.Fragment,{children:"---"}),t.admins.map(((e,a)=>Object(V.jsx)(g.a.Fragment,{children:`${e.fullName}\n                        ${a!==t.admins.length-1?", ":""}`},a)))]}),0!==Object.entries(t.schedule).length?Object(V.jsx)(ia.a,{align:"center",children:`${t.schedule.startDay} to ${t.schedule.endDay} , ${t.schedule.time.startTime} to ${t.schedule.time.endTime}`}):Object(V.jsx)(ia.a,{align:"center",children:"---"}),Object(V.jsxs)(ia.a,{align:"center",children:[0===t.hotspots.length&&Object(V.jsx)(V.Fragment,{children:"---"}),t.hotspots.map(((e,a)=>Object(V.jsx)(g.a.Fragment,{children:`${e.hotspotName}\n                        ${a!==t.hotspots.length-1?" , ":""}`},a)))]}),Object(V.jsx)(ia.a,{align:"center",component:"th",scope:"row",children:B()(t.createdAt).format("DD MMMM YYYY")}),Object(V.jsx)(ia.a,{align:"center",component:"th",scope:"row",children:B()(t.updatedAt).format("DD MMMM YYYY")}),Object(V.jsxs)(ia.a,{align:"center",sx:{p:0},children:[Object(V.jsx)(y.a,{color:"success",onClick:()=>{e.setSelectedGroup(t),e.setEditOpen(!0)},children:Object(V.jsx)(cs.a,{})}),Object(V.jsx)(y.a,{color:"error",onClick:()=>i(t),children:Object(V.jsx)(ss.a,{})})]})]},t._id)))})]})})})};var As=g.a.memo(Is);const Es={PaperProps:{style:{maxHeight:224,width:250}}},Ls=e=>{const[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)([]),[c,i]=Object(m.useState)("Sunday"),[r,l]=Object(m.useState)("Saturday"),[d,j]=Object(m.useState)(["10:00","11:00"]),u=Object(o.c)((e=>e.admins)),{adminList:p}=u,b=Object(o.b)();Object(m.useEffect)((()=>{if(0!==Object.keys(e.selectedGroup).length){a(e.selectedGroup.groupName),i(e.selectedGroup.schedule.startDay),l(e.selectedGroup.schedule.endDay),j([e.selectedGroup.schedule.time.startTime,e.selectedGroup.schedule.time.endTime]);const t=e.selectedGroup.admins.map((e=>e._id));n(t)}}),[e.selectedGroup]);const h=()=>{if(t.length<3)return e.setError("Group Name length must be atleast 3"),void e.setSnackOpen(!0);if(0===u.length)return e.setError("Select atleast one admin"),void e.setSnackOpen(!0);const o={_id:e.selectedGroup._id,groupName:t,admins:s,schedule:{startDay:c,endDay:r,time:{startTime:d[0],endTime:d[1]}}};b((e=>async(t,a)=>{try{const s={headers:{"Content-Type":"application/json"}},{data:n}=await $e.a.put(`${Ue}/update/group`,e,s);t({type:gt,payload:n}),sessionStorage.setItem("groupList",JSON.stringify(a().groups.groupList))}catch(s){t({type:xt,payload:s.message})}})(o)),e.setOpen(!1),a(""),n([]),i("Sunday"),l("Sunday"),j(["10:00","11:00"])};return Object(V.jsxs)(qa.a,{open:e.open,onClose:()=>e.setOpen(!1),children:[Object(V.jsx)(Ka.a,{sx:{fontSize:22},children:"Edit Group Details"}),Object(V.jsxs)(Za.a,{sx:{width:500},children:[Object(V.jsx)(Ce.a,{autoFocus:!0,margin:"normal",id:"groupName",label:"Group Name",type:"text",fullWidth:!0,variant:"outlined",value:t,onChange:e=>a(e.target.value)}),Object(V.jsxs)(xa.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(V.jsx)(Oa.a,{id:"admin",children:"Select Admin"}),Object(V.jsx)(fa.a,{labelId:"admin",label:"Select Admin",value:s,onChange:e=>{const{target:{value:t}}=e;n("string"===typeof t?t.split(","):t)},multiple:!0,renderValue:e=>e.join(", "),MenuProps:Es,children:p.map((e=>Object(V.jsxs)(ke.a,{value:e._id,children:[Object(V.jsx)(Yt.a,{checked:s.indexOf(e._id)>-1}),Object(V.jsx)(k.a,{primary:e.fullName})]},e._id)))})]}),Object(V.jsx)(Ns,{startDay:c,endDay:r,setStartDay:i,setEndDay:l,time:d,setTime:j})]}),Object(V.jsxs)(Xa.a,{children:[Object(V.jsx)(Jt.a,{onClick:()=>e.setOpen(!1),children:"Cancel"}),Object(V.jsx)(Jt.a,{onClick:()=>h(),children:"Update"})]})]})};var Ts=g.a.memo(Ls);var Ps=()=>{const[e,t]=Object(m.useState)(!1),[a,s]=Object(m.useState)(!1),[n,c]=Object(m.useState)({}),[r,l]=Object(m.useState)(!1),[d,j]=Object(m.useState)(null),[u,p]=Object(m.useState)(null),[b,h]=Object(m.useState)(null),g=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,x=Object(o.c)((e=>e.groups)),{groupList:O,success:f,error:y}=x,S=Object(i.g)(),{state:v}=$a();Object(m.useEffect)((()=>{sessionStorage.getItem("authToken")||S("/login")}),[]),Object(m.useEffect)((()=>{(async()=>{const e=await za(v);h(e)})()}),[]),Object(m.useEffect)((()=>{f&&(j(f),l(!0)),void 0!==y&&(p(y),l(!0))}),[f,y]);const N=(e,t)=>{"clickaway"!==t&&(l(!1),p(null),j(null))};return Object(V.jsxs)(C.a,{sx:{p:4},children:[Object(V.jsx)("h2",{children:"Manage Groups"}),Object(V.jsx)(Ie.a,{direction:"row",justifyContent:"flex-end",rowGap:2,columnGap:2,children:Object(V.jsx)(Jt.a,{variant:"contained",sx:{py:1.2},onClick:()=>t(!0),children:"Create New Group"})}),Object(V.jsx)(C.a,{sx:{my:5},children:Object(V.jsx)(As,{success:j,error:p,open:l,setSelectedGroup:c,setEditOpen:s})}),Object(V.jsx)(C.a,{children:Object(V.jsx)(ks,{open:e,setOpen:t,createdBy:{id:null===g||void 0===g?void 0:g.uid,fullName:`${null===g||void 0===g?void 0:g.firstName} ${null===g||void 0===g?void 0:g.lastName}`},subscription:b,setError:p,setSnackOpen:l,setSuccess:j,groupList:O})}),Object(V.jsx)(C.a,{children:Object(V.jsx)(Ts,{open:a,setOpen:s,selectedGroup:n,setError:p,setSnackOpen:l,setSuccess:j,createdBy:{id:null===g||void 0===g?void 0:g.uid,fullName:`${null===g||void 0===g?void 0:g.firstName} ${null===g||void 0===g?void 0:g.lastName}`}})}),null!==f&&Object(V.jsx)(Te.a,{open:r,autoHideDuration:4e3,onClose:N,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:N,severity:"success",sx:{width:"100%"},variant:"filled",children:d})}),null!==y&&Object(V.jsx)(Te.a,{open:r,autoHideDuration:4e3,onClose:N,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:N,severity:"error",sx:{width:"100%"},variant:"filled",children:u})})]})},_s=a(396),Ms=a(397);const Gs=e=>{const t=Object(o.c)((e=>e.admins)),{adminList:a}=t,s=Object(o.b)(),n=e=>{var t;s((t=e._id,async(e,a)=>{try{await $e.a.delete(`${Ue}/delete/admin/${t}`),e({type:Dt,payload:t}),sessionStorage.setItem("adminList",JSON.stringify(a().admins.adminList))}catch(s){e({type:kt,payload:s.message})}}))};return Object(V.jsx)(C.a,{children:Object(V.jsx)(ra.a,{component:Ae.a,sx:{boxShadow:6},children:Object(V.jsxs)(ca.a,{sx:{minWidth:650},children:[Object(V.jsx)(la.a,{children:Object(V.jsxs)(da.a,{children:[Object(V.jsx)(ia.a,{className:"table-head",children:"Admin Name"}),Object(V.jsx)(ia.a,{className:"table-head",align:"center",children:"Admin Id"}),Object(V.jsx)(ia.a,{className:"table-head",align:"center",children:"Email"}),Object(V.jsx)(ia.a,{className:"table-head",align:"center",children:"Groups"}),Object(V.jsx)(ia.a,{sx:{fontWeight:600},align:"center",children:"Created At"}),Object(V.jsx)(ia.a,{sx:{fontWeight:600},align:"center",children:"Modified At"}),Object(V.jsx)(ia.a,{className:"table-head",align:"center",children:"Action"})]})}),Object(V.jsx)(oa.a,{children:a.map((t=>Object(V.jsxs)(da.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(V.jsx)(ia.a,{component:"th",scope:"row",children:t.fullName}),Object(V.jsx)(ia.a,{align:"center",children:t._id}),Object(V.jsx)(ia.a,{align:"center",children:t.email}),Object(V.jsxs)(ia.a,{align:"center",children:[0===t.groups.length&&Object(V.jsx)(V.Fragment,{children:"---"}),t.groups.map(((e,a)=>Object(V.jsx)(g.a.Fragment,{children:`${e.groupName} ${a!==t.groups.length-1?", ":""}`},a)))]}),Object(V.jsx)(ia.a,{align:"center",children:B()(t.createdAt).format("DD MMM YYYY")}),Object(V.jsx)(ia.a,{align:"center",children:B()(t.updatedAt).format("DD MMMM YYYY")}),Object(V.jsxs)(ia.a,{align:"center",sx:{p:0},children:[Object(V.jsx)(y.a,{color:"success",onClick:()=>{e.setSelectedAdmin(t),e.setShowEditDialog(!0)},children:Object(V.jsx)(_s.a,{})}),Object(V.jsx)(y.a,{color:"error",onClick:()=>n(t),children:Object(V.jsx)(Ms.a,{})})]})]},t._id)))})]})})})};var Fs=g.a.memo(Gs);const Hs=e=>{const[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)(""),c=Object(o.b)();const i=async()=>{if(null===e.subscription?(e.error("You do not have any subscription. Please choose a plan"),e.setSnackOpen(!0),0):e.adminList.length===e.subscription.adminCount?(e.error("You have used your admin quota. Please upgrade your subscription"),e.setSnackOpen(!0),0):""===t?(e.error("Full Name cannot be empty"),e.setSnackOpen(!0),0):""!==s&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s)||(e.error("Invalid Email"),e.setSnackOpen(!0),0)){const o="#123321#";await Object(M.b)(z,s,o).then((async function(i){const r={fullName:t,email:s,groups:[],createdBy:e.createdBy,passwordChanged:!1};var l;c((l=r,async(e,t)=>{try{const a={headers:{"Content-Type":"application/json"}},s={body:l},{data:n}=await $e.a.post(`${Ue}/create/admin`,s,a);e({type:yt,payload:n}),sessionStorage.setItem("adminList",JSON.stringify(t().admins.adminList))}catch(a){e({type:St,payload:a.message})}}));c((e=>async t=>{try{const t={headers:{"Content-Type":"application/json"}},{data:a}=await $e.a.post(`${Ue}/send-email`,e,t);console.log(a)}catch(a){console.log("Error occured while sending email")}})({to:s,subject:"GPS Tracker login credentials for admin",body:`Your login credentials are:\nemail: ${s}\npassword: ${o}`})),a(""),n(""),e.setOpen(!1)})).catch((e=>{const t=e.code,a=e.message;alert(t,a)}))}};return Object(V.jsxs)(qa.a,{open:e.open,onClose:()=>e.setOpen(!1),children:[Object(V.jsx)(Ka.a,{sx:{fontSize:16},children:"Create New Admin"}),Object(V.jsxs)(Za.a,{sx:{width:500},children:[Object(V.jsx)(Ce.a,{fullWidth:!0,autoFocus:!0,margin:"normal",id:"name",label:"Full Name",type:"name",variant:"outlined",value:t,onChange:e=>a(e.target.value)}),Object(V.jsx)(Ce.a,{fullWidth:!0,margin:"normal",id:"email",label:"Email Address",type:"email",variant:"outlined",value:s,onChange:e=>n(e.target.value)})]}),Object(V.jsxs)(Xa.a,{children:[Object(V.jsx)(Jt.a,{onClick:()=>e.setOpen(!1),children:"Cancel"}),Object(V.jsx)(Jt.a,{onClick:()=>i(),children:"Create"})]})]})};var $s=g.a.memo(Hs);const zs=e=>{const[t,a]=Object(m.useState)(""),[s,n]=Object(m.useState)(""),c=Object(o.b)();Object(m.useEffect)((()=>{a(e.selectedAdmin.fullName),n(e.selectedAdmin.email)}),[e.selectedAdmin]);const i=()=>{if(""===t?(e.error("Full Name cannot be empty"),e.setSnackOpen(!0),0):""!==s&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s)||(e.error("Invalid Email"),e.setSnackOpen(!0),0)){const o={_id:e.selectedAdmin._id,fullName:t,email:s};c(Ut(o)),e.success("Admin Updated"),e.setSnackOpen(!0),a(""),n(""),e.setOpen(!1)}};return Object(V.jsxs)(qa.a,{open:e.open,onClose:()=>e.setOpen(!1),children:[Object(V.jsx)(Ka.a,{sx:{fontSize:18},children:"Edit Admin Details"}),Object(V.jsxs)(Za.a,{sx:{width:500},children:[Object(V.jsx)(Ce.a,{fullWidth:!0,autoFocus:!0,margin:"normal",id:"name",label:"Full Name",type:"name",variant:"outlined",value:t,onChange:e=>a(e.target.value)}),Object(V.jsx)(Ce.a,{fullWidth:!0,margin:"normal",id:"email",label:"Email Address",type:"email",variant:"outlined",value:s,onChange:e=>n(e.target.value)})]}),Object(V.jsxs)(Xa.a,{children:[Object(V.jsx)(Jt.a,{onClick:()=>e.setOpen(!1),children:"Cancel"}),Object(V.jsx)(Jt.a,{onClick:()=>i(),children:"Update"})]})]})};var Us=g.a.memo(zs);var Ws=()=>{const[e,t]=Object(m.useState)(!1),[a,s]=Object(m.useState)(!1),[n,c]=Object(m.useState)({}),[r,l]=Object(m.useState)(!1),[d,j]=Object(m.useState)(null),[u,p]=Object(m.useState)(null),[b,h]=Object(m.useState)(null),g=sessionStorage.getItem("authToken"),x=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,O=Object(o.b)(),f=Object(i.g)(),{state:y}=$a(),S=Object(o.c)((e=>e.admins)),{adminList:v,success:N,error:w}=S;Object(m.useEffect)((()=>{(async()=>{const e=await za(y);h(e)})()}),[]),Object(m.useEffect)((()=>{g||f("/login")}),[g]),Object(m.useEffect)((()=>{null!==x&&O(zt(x.uid))}),[O]);const D=(e,t)=>{"clickaway"!==t&&(l(!1),p(null),j(null))};return Object(V.jsxs)(C.a,{sx:{p:4},children:[Object(V.jsx)("h2",{children:"Manage Admins"}),Object(V.jsx)(Ie.a,{direction:"row",justifyContent:"flex-end",children:Object(V.jsx)(Jt.a,{variant:"contained",sx:{py:1.2},onClick:()=>{t(!e)},children:"Create Admin"})}),Object(V.jsx)(C.a,{sx:{my:5},children:Object(V.jsx)(Fs,{setSelectedAdmin:c,setShowEditDialog:s})}),Object(V.jsx)(C.a,{children:Object(V.jsx)($s,{open:e,setOpen:t,createdBy:null===x||void 0===x?void 0:x.uid,setSnackOpen:l,success:j,error:p,adminList:v,subscription:b})}),Object(V.jsx)(C.a,{children:Object(V.jsx)(Us,{open:a,setOpen:s,createdBy:null===x||void 0===x?void 0:x.uid,setSnackOpen:l,selectedAdmin:n,success:j,error:p})}),null!==N&&Object(V.jsx)(Te.a,{open:r,autoHideDuration:4e3,onClose:D,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:D,severity:"success",sx:{width:"100%"},variant:"filled",children:d})}),null!==w&&Object(V.jsx)(Te.a,{open:r,autoHideDuration:4e3,onClose:D,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:D,severity:"error",sx:{width:"100%"},variant:"filled",children:u})})]})};const Bs=["January","February","March","April","May","June","July","August","September","October","November","December"];var Rs=()=>{const[e,t]=Object(m.useState)([]),[a,s]=Object(m.useState)([]),[n,c]=Object(m.useState)([]),[o,i]=Object(m.useState)([]),[r,l]=Object(m.useState)([]),[d,j]=Object(m.useState)(!1),[u,p]=Object(m.useState)([]),[b,h]=Object(m.useState)([]),[g,x]=Object(m.useState)([]),[O,f]=Object(m.useState)([]),[y,S]=Object(m.useState)(Bs[(new Date).getMonth()]),[v,N]=Object(m.useState)(!0),w=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,D=sessionStorage.getItem("adminData")?JSON.parse(sessionStorage.getItem("adminData")):null;Object(m.useEffect)((()=>{(async()=>{try{const e=Object(G.c)($,"trackingHotspots"),a=Object(G.l)(e,Object(G.p)("createdBy","==",w.uid),Object(G.p)("groupId","array-contains-any",D.groupId)),s=await Object(G.g)(a),n=[];s.forEach((e=>{n.push({...e.data(),id:e.id})}));const c=n.map((e=>({hotspotName:e.hotspotName,id:e.id})));t(c)}catch(e){console.log(e)}})()}),[]),Object(m.useEffect)((()=>{(async()=>{try{const e=Object(G.c)($,"trackingGroups"),t=Object(G.l)(e,Object(G.p)("createdBy","==",w.uid),Object(G.p)(Object(G.e)(),"in",D.groupId)),a=await Object(G.g)(t),n=[];a.forEach((e=>{n.push({...e.data(),id:e.id})}));const c=n.map((e=>({groupName:e.groupName,id:e.id})));s(c)}catch(e){console.log(e)}})()}),[]),Object(m.useEffect)((()=>{(async()=>{try{const e=Object(G.c)($,"trackingUsers"),t=Object(G.l)(e,Object(G.p)("senderId","==",w.uid),Object(G.p)("groupId","array-contains-any",D.groupId)),a=await Object(G.g)(t),s=[],n=[];a.forEach((e=>{s.push({...e.data(),id:e.id}),n.push(e.data().phoneNumber)})),l(n),i(s)}catch(e){console.log(e)}})()}),[]);const k=async(e,t)=>new Promise((async a=>{const s=Object(G.c)($,"trackingAttendance",e.phoneNumber,w.uid),n=Object(G.l)(s,Object(G.p)("hotspotId","==",t.id));await Object(G.g)(n).then((e=>{a({count:e.docs.length,hotspot:t.hotspotName})}))})),I=async(e,t)=>new Promise((async a=>{const s=[];for(let n of t){const t=await k(e,n);s.push(t)}a(s)})),A=async(e,t)=>new Promise((async a=>{const s=t.map((e=>e.hotspotName)),n=Object(G.c)($,"trackingLocations",e.phoneNumber,"locations");let c;console.log(Bs.indexOf(y),y),c=0!==b.length?Object(G.l)(n,Object(G.p)("trackerId","==",w.uid),Object(G.p)("group","in",b),Object(G.p)("month","==",Bs.indexOf(y)+1),Object(G.k)("createdAt","desc"),Object(G.i)(100)):Object(G.l)(n,Object(G.p)("trackerId","==",w.uid),Object(G.p)("hotspot","in",s),Object(G.p)("month","==",Bs.indexOf(y)+1),Object(G.k)("createdAt","desc"),Object(G.i)(100));const o=await Object(G.g)(c),i=[];o.forEach((e=>{const t=e.data();i.push(t)})),console.log(i),a(i)})),E=async(e,t)=>{const a=[];for(let s of e){const e={},n=await A(s,t),c=await I(s,t);e.history=n,e.data=c,e.device={phoneNumber:s.phoneNumber,fullName:s.fullName},a.push(e)}c(a),N(!1)};Object(m.useEffect)((()=>{0!==r.length&&0!==o.length&&(N(!0),d||E(o,e))}),[r,o,d]);return Object(m.useEffect)((async()=>{N(!0);let t=[];0!==u.length?(u.forEach((a=>{const s=e.filter((e=>e.hotspotName===a));t.push(...s)})),j(!0)):(t=e,j(!1)),x(t);let a=[];0!==O.length?(o.forEach((e=>{O.forEach(((t,s)=>{const n=t.split(" - ")[1];e.phoneNumber===n&&a.push(e)}))})),j(!0)):(a=o,j(!1)),0===b.length&&j(!1),await E(a,t)}),[O,u,b,y]),Object(V.jsxs)(C.a,{sx:{p:5},children:[Object(V.jsxs)(C.a,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:4},children:[Object(V.jsx)(Ia,{Months:Bs,selectedMonth:y,setSelectedMonth:S}),Object(V.jsx)(Ca,{handleHotspotSelect:async e=>{const{target:{value:t}}=e;p("string"===typeof t?t.split(","):t)},selectedHotspotNames:u,hotspotNames:e}),Object(V.jsx)(La,{handleGroupSelect:async e=>{const{target:{value:t}}=e;h("string"===typeof t?t.split(","):t)},selectedGroupNames:b,groupNames:a}),Object(V.jsx)(Da,{handleSelectedDevice:e=>{const{target:{value:t}}=e;f("string"===typeof t?t.split(","):t)},selectedDevices:O,mobileDevices:o}),Object(V.jsx)(Jt.a,{variant:"outlined",sx:{py:1.3,px:4,fontSize:15},children:"Export Report"})]}),Object(V.jsx)(C.a,{sx:{my:4},children:v?Object(V.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",mt:"300px"},children:Object(V.jsx)(sa.a,{color:"inherit"})}):Object(V.jsx)(ga,{tableData:n,hotspotNames:0===u.length?e:g})})]})};const Js=Object(d.a)((e=>({image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},login:{margin:e.spacing(3,0,2),padding:e.spacing(1.4),fontSize:15},googleLogin:{margin:e.spacing(2,0,2),fontSize:15}})));var Vs=()=>{const e=Js(),t=Object(i.g)(),[a,s]=Object(m.useState)(""),[n,c]=Object(m.useState)(""),r=sessionStorage.getItem("adminData")?JSON.parse(sessionStorage.getItem("adminData")):null,l=Object(o.b)();return Object(V.jsxs)(ve.a,{sx:{height:"100%"},container:!0,component:"main",className:e.root,children:[Object(V.jsx)(K.a,{}),Object(V.jsx)(ve.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(V.jsx)(ve.a,{item:!0,xs:12,sm:8,md:5,component:Ae.a,elevation:6,square:!0,children:Object(V.jsxs)("div",{className:e.paper,children:[Object(V.jsx)(D.a,{className:e.avatar,children:Object(V.jsx)(Kt.a,{})}),Object(V.jsx)(de.a,{component:"h1",variant:"h1",sx:{mt:1,mb:4},children:"Change Password"}),Object(V.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"password",label:"Current Password",name:"password",autoComplete:"name",type:"password",value:a,onChange:e=>s(e.target.value)}),Object(V.jsx)(Ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"password",label:"New Password",name:"password",type:"password",autoComplete:"name",value:n,onChange:e=>c(e.target.value)}),Object(V.jsx)(Jt.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.login,onClick:()=>(async()=>{if(null===r)return;if(n.length<6)return void alert("Password must be atleast 6 characters long.");const e=z.currentUser,o=M.a.credential(r.email,a);Object(M.e)(e,o).then((()=>{Object(M.h)(e,n).then((async()=>{const e={_id:r._id,passwordChanged:!0};l(Ut(e))})).then((()=>{c(""),s(""),alert("Password updated successfully"),t("/app/dashboard",{replace:!0})})).catch((e=>{const t=e.code,a=e.message;alert(t,a)}))})).catch((e=>{const t=e.code,a=e.message;alert(t,a)}))})(),children:"Change Password"})]})]})})]})},Ys=a(447),qs=a(401),Ks=a(398),Zs=a(127),Xs=a.n(Zs);var Qs=e=>Object(V.jsxs)(Ys.a,{className:"pricing-card pro",sx:{boxShadow:15,py:5,px:4},children:[Object(V.jsxs)(C.a,{children:[Object(V.jsxs)(Ie.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",justifyContent:"space-between",children:[Object(V.jsx)(de.a,{variant:"h1",sx:{my:2,fontSize:40,color:"white"},children:`$${e.value}`}),e.isCurrent&&Object(V.jsxs)(C.a,{sx:{display:"flex",alignItems:"center"},children:[Object(V.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#4CAF50",borderRadius:"50%"}}),Object(V.jsx)(de.a,{variant:"h4",sx:{my:2,color:"#4CAF50",ml:1},children:"Active"})]})]}),Object(V.jsx)(ts.a,{label:"Pro Account",variant:"outlined",className:"chip",sx:{my:2,color:"#fb8c00",border:"1.5px solid #fb8c00",width:"100%"}}),Object(V.jsxs)(Ie.a,{direction:"row",justifyContent:"space-between",children:[Object(V.jsxs)(de.a,{variant:"h1",sx:{my:2,fontSize:40,color:"white"},children:["$1"," ",Object(V.jsx)("span",{style:{color:"gray",fontSize:15,textTransform:"uppercase"},children:"/ user"})]}),Object(V.jsx)(de.a,{variant:"h1",sx:{my:2,fontSize:40,color:"white"},children:`${e.value}`})]}),Object(V.jsxs)(Ie.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:[Object(V.jsx)(de.a,{variant:"h5",color:"white",children:"0"}),Object(V.jsx)(qs.a,{sx:{color:"whitesmoke"},value:e.value,onChange:e.handleValueChange,max:1e3}),Object(V.jsx)(de.a,{variant:"h5",color:"white",children:"1000"})]}),Object(V.jsx)(v.a,{sx:{my:3},children:["Unlimited Hotspots","Unlimited Devices","Unlimited Groups","Unlimited Admins","Get Report of Unlimited Period"].map((e=>Object(V.jsxs)(N.a,{disablePadding:!0,children:[Object(V.jsx)(Ks.a,{children:Object(V.jsx)(Xs.a,{htmlColor:"#4CAF50",sx:{fontSize:27,my:.5,ml:.5}})}),Object(V.jsx)(k.a,{primary:e,sx:{color:"white"}})]},e)))})]}),Object(V.jsx)(Jt.a,{className:"pro-btn btn",variant:"contained",sx:{py:1.4,borderRadius:25,boxShadow:5},onClick:e.action,children:"Pay as you go"})]}),en=a(201),tn=a.n(en);var an=e=>Object(V.jsxs)(Ys.a,{className:"pricing-card",sx:{py:5,px:4},children:[Object(V.jsxs)(C.a,{children:[Object(V.jsxs)(Ie.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",justifyContent:"space-between",children:[Object(V.jsx)(de.a,{variant:"h1",sx:{my:2,fontSize:40},children:"$0"}),e.isCurrent&&Object(V.jsxs)(C.a,{sx:{display:"flex",alignItems:"center"},children:[Object(V.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"green",borderRadius:"50%"}}),Object(V.jsx)(de.a,{variant:"h4",sx:{my:2,color:"#4CAF50",ml:1},children:"Active"})]})]}),Object(V.jsx)(ts.a,{label:"Free Account",variant:"outlined",className:"chip",sx:{my:2,color:"#e91e63",border:"1.5px solid #e91e63",width:"100%"}}),Object(V.jsxs)(de.a,{variant:"h1",sx:{my:2,fontSize:40},children:["$0"," ",Object(V.jsx)("span",{style:{color:"gray",fontSize:15,textTransform:"uppercase"},children:"/ user"})]}),Object(V.jsx)(v.a,{sx:{my:3,mt:8},children:["Only 10 Hotspots","Unlimited Devices","Only 2 Groups","No Admins","Get Report of last 1 month"].map(((e,t)=>Object(V.jsxs)(N.a,{disablePadding:!0,children:[Object(V.jsx)(Ks.a,{children:1===t?Object(V.jsx)(Xs.a,{htmlColor:"#4CAF50",sx:{fontSize:27,my:.5,ml:.5}}):Object(V.jsx)(tn.a,{htmlColor:"#e91e63",sx:{fontSize:27,my:.5,ml:.5}})}),Object(V.jsx)(k.a,{primary:e})]},t)))})]}),Object(V.jsx)(Jt.a,{className:"free-btn btn",variant:"outlined",disabled:e.isCurrent,sx:{py:1.4,borderRadius:25,boxShadow:5},onClick:e.action,children:"Pick free plan"})]});var sn=()=>{const[e,t]=g.a.useState(500),[a,s]=Object(m.useState)(""),[n,c]=Object(m.useState)([]),o=Object(i.g)(),{state:r,dispatch:l}=$a(),d=null===r||void 0===r?void 0:r.customerId;Object(m.useEffect)((()=>{if(r.subscriptions){let a;for(let t of null===r||void 0===r||null===(e=r.subscriptions)||void 0===e?void 0:e.data){var e;if("active"===t.status){a=t;break}}const n=a?a.plan.id:"",c=a?a.quantity:0;s(n),t(c)}}),[r]),Object(m.useEffect)((()=>{(async()=>{const{data:e}=await $e.a.get(`${Ue}/subscription/config`);console.log(e),c(e.prices)})()}),[]);const j=(e,a)=>{t(a)},u=async(t,a)=>{if(a<=0)alert("Please select atlest one user");else try{const s={headers:{"Content-Type":"application/json"}},n={customerId:d,priceId:t.id,quantity:a},{data:c}=await $e.a.post(`${Ue}/create/subscription`,n,s);console.log(c);const{clientSecret:i}=c;i?(l({type:"SELECT_PRODUCT",payload:{cart:{product:t,clientSecret:i}}}),"Free Plan"===t.product.name&&window.location.reload(),o("/subscribe",{state:{quantity:e}})):(console.log("Cannot create Subscription"),l({type:"SELECT_PRODUCT",payload:{cart:{product:t,clientSecret:i}}}),console.log("Here"),"Free Plan"===t.product.name&&window.location.reload())}catch(s){console.log(s.message)}};return Object(V.jsxs)(C.a,{sx:{p:2},children:[Object(V.jsxs)(C.a,{sx:{mt:2,mb:5},children:[Object(V.jsx)(de.a,{variant:"h2",sx:{textAlign:"center"},children:"Choose your plan"}),Object(V.jsx)(de.a,{vanriant:"h6",sx:{textAlign:"center",mt:2,letterSpacing:.6,color:"gray"},children:"Select one of our plans below as per your convenience"})]}),Object(V.jsx)(C.a,{className:"card-container",sx:{mt:6},children:n.map((t=>Object(V.jsxs)(C.a,{children:["Pro Plan"===t.product.name&&Object(V.jsx)(Qs,{value:e,handleValueChange:j,isCurrent:a===t.id,action:()=>u(t,e)}),"Free Plan"===t.product.name&&Object(V.jsx)(an,{isCurrent:a===t.id,action:()=>u(t,1)})]},t.id)))})]})},nn=a(202),cn=a(70),on=a(128),rn=a.n(on);var ln=function({handleBack:e,handleSubmit:t,quantity:a}){const{state:s}=$a();return console.log(s),Object(V.jsxs)(C.a,{children:[Object(V.jsxs)(ve.a,{container:!0,spacing:3,children:[Object(V.jsx)(ve.a,{item:!0,xs:12,children:Object(V.jsx)("h4",{children:"Enter Card Details"})}),Object(V.jsx)(ve.a,{item:!0,xs:12,children:Object(V.jsx)(C.a,{children:Object(V.jsx)(cn.CardElement,{})})})]}),Object(V.jsx)(ve.a,{item:!0,xs:12,children:Object(V.jsxs)(C.a,{mt:5,alignItems:"center",justifyContent:"space-between",display:"flex",children:[Object(V.jsx)(Jt.a,{startIcon:Object(V.jsx)(rn.a,{}),onClick:e,children:"Go Back"}),Object(V.jsx)(Jt.a,{type:"submit",variant:"contained",onClick:t,sx:{py:1.2,fontSize:14,px:"40px"},children:`PAY  $${a}`})]})})]})};const dn=[{name:"Afghanistan",code:"AF"},{name:"\xc5land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People'S Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People'S Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}];var jn=function(e){var t;const{state:a}=$a(),s=null===a||void 0===a||null===(t=a.cart)||void 0===t?void 0:t.details,[n,c]=Object(m.useState)(s||{name:"",address:"",city:"",state:"",country:""}),o=e=>{c({...n,[e.target.name]:e.target.value})};return Object(V.jsxs)(C.a,{children:[Object(V.jsxs)(ve.a,{container:!0,spacing:3,children:[Object(V.jsx)(ve.a,{item:!0,xs:12,children:Object(V.jsx)("h4",{children:"Payment Details"})}),Object(V.jsx)(ve.a,{item:!0,xs:12,children:Object(V.jsx)(Ce.a,{autoFocus:!0,fullWidth:!0,label:"Card Holder Name",name:"name",required:!0,value:n.name,onChange:o})}),Object(V.jsx)(ve.a,{item:!0,md:12,xs:12,children:Object(V.jsx)("h4",{children:"Billing Details"})}),Object(V.jsx)(ve.a,{item:!0,md:6,xs:12,children:Object(V.jsx)(Ce.a,{fullWidth:!0,label:"Street Address",name:"address",required:!0,value:n.address,onChange:o})}),Object(V.jsx)(ve.a,{item:!0,md:6,xs:12,children:Object(V.jsxs)(xa.a,{fullWidth:!0,children:[Object(V.jsx)(Oa.a,{id:"country-select",children:"Country"}),Object(V.jsx)(fa.a,{required:!0,labelId:"country-select",name:"country",value:n.country,label:"Country",onChange:o,children:dn.map((e=>Object(V.jsx)(ke.a,{sx:{py:1},value:e.code,children:`${e.name} - ${e.code}`},e.code)))})]})}),Object(V.jsx)(ve.a,{item:!0,md:6,xs:12,children:Object(V.jsx)(Ce.a,{fullWidth:!0,label:"State",name:"state",required:!0,value:n.state,onChange:o})}),Object(V.jsx)(ve.a,{item:!0,md:6,xs:12,children:Object(V.jsx)(Ce.a,{fullWidth:!0,label:"City",name:"city",required:!0,value:n.city,onChange:o})})]}),Object(V.jsx)(ve.a,{item:!0,xs:12,children:Object(V.jsx)(C.a,{mt:5,alignItems:"center",justifyContent:"space-between",display:"flex",children:Object(V.jsx)(Jt.a,{type:"submit",variant:"contained",onClick:()=>(t=>{if(Object.values(t).includes(""))return e.setErrorMsg("All Fields are required"),void e.setSnackOpen(!0);e.handleNext(t)})(n),sx:{width:"100%",py:1.5},children:"Continue to Pay"})})})]})},un=a(448);const pn=e=>{const[t,a]=Object(m.useState)(0),[s,n]=Object(m.useState)(0),c=Object(i.g)();return Object(m.useEffect)((()=>{if(!1===e.open)return;const t=setInterval((()=>{a((e=>e+5))}),250);return n(t),()=>clearInterval(t)}),[e]),Object(m.useEffect)((()=>{t>100&&(clearInterval(s),c("/app/pricing",{replace:!0}))}),[t]),console.log("Here"),Object(V.jsx)(qa.a,{open:e.open,onClose:e.handleClose,children:Object(V.jsx)(Za.a,{children:Object(V.jsxs)(C.a,{children:[Object(V.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/evencloud-26d32.appspot.com/o/success.png?alt=media&token=14200909-edb3-4628-bfe5-36e346709737",alt:"Success Image",style:{width:"250px",height:"250px"}}),Object(V.jsx)(un.a,{variant:"determinate",value:t,color:"success"})]})})})};var bn=g.a.memo(pn);function hn(){const e=Object(cn.useStripe)(),t=Object(cn.useElements)(),{state:a,dispatch:s}=$a(),{cart:n}=a,[c,o]=Object(m.useState)(""),[r,l]=Object(m.useState)(!1),[d,j]=Object(m.useState)(!1),[u,p]=Object(m.useState)(null),[b,h]=Object(m.useState)(!1),g=Object(i.g)(),x=Object(i.f)(),O=x.state?x.state.quantity:0,f=(e,t)=>{"clickaway"!==t&&(j(!1),p(null))};return Object(V.jsxs)(C.a,{sx:{p:4,background:"#f0f2f5",minHeight:"100%"},children:[Object(V.jsx)(C.a,{children:Object(V.jsx)(Jt.a,{startIcon:Object(V.jsx)(rn.a,{}),onClick:()=>g("/app/pricing"),children:"Go Back"})}),Object(V.jsxs)(C.a,{sx:{mt:2,mb:5},children:[Object(V.jsx)(de.a,{variant:"h2",sx:{textAlign:"center"},children:"Make a payment"}),Object(V.jsx)(de.a,{vanriant:"h6",sx:{textAlign:"center",mt:2,letterSpacing:.6,color:"gray"},children:"Fill the payment form with Billing Address, Card Holder Name and Card Details"})]}),Object(V.jsxs)(Ae.a,{sx:{borderRadius:3,boxShadow:10,margin:"40px auto",backgroundColor:"background.paper",p:5,maxWidth:"600px",mt:8},children:[r&&Object(V.jsx)(ln,{handleBack:()=>{l(!1)},handleSubmit:async s=>{var i,r,l;if(s.preventDefault(),!e||!t)return;console.log(null===a||void 0===a?void 0:a.cart);const{error:d,paymentIntent:u}=await e.confirmCardPayment(null===a||void 0===a||null===(i=a.cart)||void 0===i?void 0:i.clientSecret,{payment_method:{card:t.getElement(cn.CardElement),billing_details:{name:null===n||void 0===n?void 0:n.details.name,address:{line1:null===n||void 0===n?void 0:n.details.address,postal_code:(null===n||void 0===n?void 0:n.details.zip)||"38483",city:null===n||void 0===n||null===(r=n.details)||void 0===r?void 0:r.city,country:null===n||void 0===n||null===(l=n.details)||void 0===l?void 0:l.country}}}});var b;d?(b=d.message,o(`${c}\n\n${b}`),p(d.message),j(!0),console.log(d.message)):"succeeded"===u.status&&(console.log("Success"),h(!0))},quantity:O}),!r&&Object(V.jsx)(jn,{handleNext:e=>{s({type:"PAYMENT_DETAILS",payload:{details:e}}),l(!0)},setErrorMsg:p,setSnackOpen:j})]}),Object(V.jsx)(bn,{open:b,handleClose:()=>{h(!1)}}),null!==u&&Object(V.jsx)(Te.a,{open:d,autoHideDuration:4e3,onClose:f,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(Pe.a,{onClose:f,severity:"error",sx:{width:"100%"},variant:"filled",children:u})})]})}const mn=Object(nn.a)("pk_test_51LERE7SHgzLT4nCoLBiNHxLi1VA6lbqcTOnrkwtNlduP9Ht93k7NbY5OF4GXR8vdid3eig3lV1DAxS2XSshACkUe00hDCZvx5x");var gn=()=>Object(V.jsx)(cn.Elements,{stripe:mn,children:Object(V.jsx)(hn,{})});var xn=[{path:"app",element:Object(V.jsx)(ge,{}),children:[{path:"dashboard",element:Object(V.jsx)(Rt,{})},{path:"manage-devices",element:Object(V.jsx)(us,{})},{path:"manage-hotspots",element:Object(V.jsx)(xs,{})},{path:"manage-groups",element:Object(V.jsx)(Ps,{})},{path:"manage-admins",element:Object(V.jsx)(Ws,{})},{path:"pricing",element:Object(V.jsx)(sn,{})},{path:"notifications",element:Object(V.jsx)(Ya,{})},{path:"reports",element:Object(V.jsx)(Ja,{})},{path:"locationview/:phoneNumber/:requestId",element:Object(V.jsx)(et,{})},{path:"profile",element:Object(V.jsx)(vs,{})},{path:"/admin/reports",element:Object(V.jsx)(Rs,{})},{path:"*",element:Object(V.jsx)(i.a,{to:"/404"})}]},{path:"/",element:Object(V.jsx)(Se,{}),children:[{path:"login",element:Object(V.jsx)(Qt,{})},{path:"register",element:Object(V.jsx)(aa,{})},{path:"subscribe",element:Object(V.jsx)(gn,{})},{path:"/admin/change-password",element:Object(V.jsx)(Vs,{})},{path:"404",element:Object(V.jsx)(ea,{})},{path:"/",element:Object(V.jsx)(i.a,{to:"/app/dashboard"})},{path:"*",element:Object(V.jsx)(i.a,{to:"/404"})}]}];a(311);var On=()=>{const e=Object(i.i)(xn),t=Object(i.g)(),a=Object(o.b)(),s=sessionStorage.getItem("authToken"),n=sessionStorage.getItem("userData")?JSON.parse(sessionStorage.getItem("userData")):null,c=sessionStorage.getItem("adminData")?JSON.parse(sessionStorage.getItem("adminData")):null;return Object(m.useEffect)((async()=>{if(null===c&&null!==n&&(a(Gt(n.uid)),a($t(n.uid)),a(Wt(n.uid)),a(zt(n.uid))),null!==c&&null!==n){const{data:e}=await $e.a.get(`${Ue}/get/admin/${c.email}`);a(Ft({createdBy:n.uid,adminGroups:e.groups})),a(Ht({createdBy:n.uid,adminGroups:e.groups}))}}),[a]),Object(m.useEffect)((()=>{s||t("/login")}),[s]),Object(V.jsx)(r.a,{injectFirst:!0,children:Object(V.jsxs)(l.a,{theme:h,children:[Object(V.jsx)(p,{}),e]})})},fn=a(108),yn=a(204),Sn=a(203);const vn=Object(fn.combineReducers)({hotspots:(e={hotspotList:[]},t)=>{switch(t.type){case it:return{hotspotList:t.payload};case rt:return{error:t.payload,hotspotList:[]};case ct:{const a=t.payload;console.log(a);const s=e.hotspotList.find((e=>e._id===a._id));return s?{...e,hotspotList:e.hotspotList.map((e=>e._id===s._id?a:e)),success:"Hotspot created succssfully"}:{...e,hotspotList:[...e.hotspotList,a],success:"Hotspot created succssfully"}}case ot:return{hotspotList:[...e.hotspotList],error:t.payload};case lt:{const a=t.payload;console.log(a);const s=e.hotspotList.find((e=>e._id===a._id));return s?{...e,hotspotList:e.hotspotList.map((e=>e._id===s._id?a:e)),success:"Hotspot updated succssfully"}:{...e,hotspotList:[...e.hotspotList,a],success:"Hotspot updated succssfully"}}case dt:return{hotspotList:[...e.hotspotList],error:t.payload};case jt:return{...e,hotspotList:e.hotspotList.filter((e=>e._id!==t.payload)),success:"Hotspot deleted succssfully"};case ut:return{error:t.payload,hotspotList:[...e.hotspotList]};default:return e}},groups:(e={groupList:[]},t)=>{switch(t.type){case ht:return{groupList:t.payload};case mt:return{error:t.payload,groupList:[]};case pt:{const a=t.payload,s=e.groupList.find((e=>e._id===a._id));return s?{...e,groupList:e.groupList.map((e=>e._id===s._id?a:e)),success:"Group created succssfully"}:{...e,groupList:[...e.groupList,a],success:"Group created succssfully"}}case bt:return{groupList:[...e.groupList],error:t.payload};case gt:{const a=t.payload,s=e.groupList.find((e=>e._id===a._id));return s?{...e,groupList:e.groupList.map((e=>e._id===s._id?a:e)),success:"Group created succssfully"}:{...e,groupList:[...e.groupList,a],success:"Group created succssfully"}}case xt:return{groupList:[...e.groupList],error:t.payload};case Ot:return{...e,groupList:e.groupList.filter((e=>e._id!==t.payload)),success:"Group deleted succssfully"};case ft:return{error:t.payload,groupList:[...e.groupList]};default:return e}},admins:(e={adminList:[]},t)=>{switch(t.type){case vt:return{adminList:t.payload};case Ct:return{error:t.payload,adminList:[]};case yt:{const a=t.payload,s=e.adminList.find((e=>e._id===a._id));return s?{...e,adminList:e.adminList.map((e=>e._id===s._id?a:e)),success:"Admin created succssfully"}:{...e,adminList:[...e.adminList,a],success:"Admin created succssfully"}}case St:return{adminList:[...e.adminList],error:t.payload};case Nt:{const a=t.payload,s=e.adminList.find((e=>e._id===a._id));return s?{...e,adminList:e.adminList.map((e=>e._id===s._id?a:e)),success:"Admin updated succssfully"}:{...e,adminList:[...e.adminList,a],success:"Admin updated succssfully"}}case wt:return{adminList:[...e.adminList],error:t.payload};case Dt:return{...e,adminList:e.adminList.filter((e=>e._id!==t.payload)),success:"Admin deleted successfully"};case kt:return{error:t.payload,hotspotList:[...e.adminList]};default:return e}},devices:(e={deviceList:[]},t)=>{switch(t.type){case Et:return{deviceList:t.payload};case Lt:return{error:t.payload,deviceList:[]};case It:{const a=t.payload,s=e.deviceList.find((e=>e._id===a._id));return s?{...e,deviceList:e.deviceList.map((e=>e._id===s._id?a:e)),success:"Device added succssfully"}:{...e,deviceList:[...e.deviceList,a],success:"Device added succssfully"}}case At:return{deviceList:[...e.deviceList],error:t.payload};case Tt:{const a=t.payload;console.log(a);const s=e.deviceList.find((e=>e._id===a._id));return s?{...e,deviceList:e.deviceList.map((e=>e._id===s._id?a:e)),success:"Device updated succssfully"}:{...e,deviceList:[...e.deviceList,a],success:"Device updated succssfully"}}case Pt:return{deviceList:[...e.deviceList],error:t.payload};case _t:return{...e,deviceList:e.deviceList.filter((e=>e._id!==t.payload)),success:"Device deleted succssfully"};case Mt:return{error:t.payload,deviceList:[...e.deviceList]};default:return e}}}),Cn={hotspots:{hotspotList:sessionStorage.getItem("hotspotList")?JSON.parse(sessionStorage.getItem("hotspotList")):[]},groups:{groupList:sessionStorage.getItem("groupList")?JSON.parse(sessionStorage.getItem("groupList")):[]},admins:{adminList:sessionStorage.getItem("adminList")?JSON.parse(sessionStorage.getItem("adminList")):[]},devices:{deviceList:sessionStorage.getItem("deviceList")?JSON.parse(sessionStorage.getItem("deviceList")):[]}},Nn=[yn.a];var wn=Object(fn.createStore)(vn,Cn,Object(Sn.composeWithDevTools)(Object(fn.applyMiddleware)(...Nn)));n.a.render(Object(V.jsx)(Fa,{children:Object(V.jsx)(Ha,{children:e=>e.state.isInitialized&&Object(V.jsx)(o.a,{store:wn,children:Object(V.jsx)(c.a,{children:Object(V.jsx)(On,{})})})})}),document.getElementById("root"))}},[[312,1,2]]]);
//# sourceMappingURL=main.33852ccf.chunk.js.map